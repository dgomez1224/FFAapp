function xx(t,e){for(var r=0;r<e.length;r++){const i=e[r];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function ed(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Kc={exports:{}},Pi={},qc={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m;function _x(){if(_m)return Ae;_m=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function _(A){return A===null||typeof A!="object"?null:(A=w&&A[w]||A["@@iterator"],typeof A=="function"?A:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,x={};function S(A,V,ne){this.props=A,this.context=V,this.refs=x,this.updater=ne||b}S.prototype.isReactComponent={},S.prototype.setState=function(A,V){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,V,"setState")},S.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function j(){}j.prototype=S.prototype;function N(A,V,ne){this.props=A,this.context=V,this.refs=x,this.updater=ne||b}var C=N.prototype=new j;C.constructor=N,E(C,S.prototype),C.isPureReactComponent=!0;var O=Array.isArray,$=Object.prototype.hasOwnProperty,F={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function B(A,V,ne){var ue,je={},xe=null,X=null;if(V!=null)for(ue in V.ref!==void 0&&(X=V.ref),V.key!==void 0&&(xe=""+V.key),V)$.call(V,ue)&&!L.hasOwnProperty(ue)&&(je[ue]=V[ue]);var pe=arguments.length-2;if(pe===1)je.children=ne;else if(1<pe){for(var Se=Array(pe),we=0;we<pe;we++)Se[we]=arguments[we+2];je.children=Se}if(A&&A.defaultProps)for(ue in pe=A.defaultProps,pe)je[ue]===void 0&&(je[ue]=pe[ue]);return{$$typeof:t,type:A,key:xe,ref:X,props:je,_owner:F.current}}function U(A,V){return{$$typeof:t,type:A.type,key:V,ref:A.ref,props:A.props,_owner:A._owner}}function ee(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function ie(A){var V={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ne){return V[ne]})}var K=/\/+/g;function J(A,V){return typeof A=="object"&&A!==null&&A.key!=null?ie(""+A.key):V.toString(36)}function oe(A,V,ne,ue,je){var xe=typeof A;(xe==="undefined"||xe==="boolean")&&(A=null);var X=!1;if(A===null)X=!0;else switch(xe){case"string":case"number":X=!0;break;case"object":switch(A.$$typeof){case t:case e:X=!0}}if(X)return X=A,je=je(X),A=ue===""?"."+J(X,0):ue,O(je)?(ne="",A!=null&&(ne=A.replace(K,"$&/")+"/"),oe(je,V,ne,"",function(we){return we})):je!=null&&(ee(je)&&(je=U(je,ne+(!je.key||X&&X.key===je.key?"":(""+je.key).replace(K,"$&/")+"/")+A)),V.push(je)),1;if(X=0,ue=ue===""?".":ue+":",O(A))for(var pe=0;pe<A.length;pe++){xe=A[pe];var Se=ue+J(xe,pe);X+=oe(xe,V,ne,Se,je)}else if(Se=_(A),typeof Se=="function")for(A=Se.call(A),pe=0;!(xe=A.next()).done;)xe=xe.value,Se=ue+J(xe,pe++),X+=oe(xe,V,ne,Se,je);else if(xe==="object")throw V=String(A),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return X}function ae(A,V,ne){if(A==null)return A;var ue=[],je=0;return oe(A,ue,"","",function(xe){return V.call(ne,xe,je++)}),ue}function te(A){if(A._status===-1){var V=A._result;V=V(),V.then(function(ne){(A._status===0||A._status===-1)&&(A._status=1,A._result=ne)},function(ne){(A._status===0||A._status===-1)&&(A._status=2,A._result=ne)}),A._status===-1&&(A._status=0,A._result=V)}if(A._status===1)return A._result.default;throw A._result}var D={current:null},P={transition:null},G={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:P,ReactCurrentOwner:F};function q(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:ae,forEach:function(A,V,ne){ae(A,function(){V.apply(this,arguments)},ne)},count:function(A){var V=0;return ae(A,function(){V++}),V},toArray:function(A){return ae(A,function(V){return V})||[]},only:function(A){if(!ee(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Ae.Component=S,Ae.Fragment=r,Ae.Profiler=a,Ae.PureComponent=N,Ae.StrictMode=i,Ae.Suspense=f,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,Ae.act=q,Ae.cloneElement=function(A,V,ne){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var ue=E({},A.props),je=A.key,xe=A.ref,X=A._owner;if(V!=null){if(V.ref!==void 0&&(xe=V.ref,X=F.current),V.key!==void 0&&(je=""+V.key),A.type&&A.type.defaultProps)var pe=A.type.defaultProps;for(Se in V)$.call(V,Se)&&!L.hasOwnProperty(Se)&&(ue[Se]=V[Se]===void 0&&pe!==void 0?pe[Se]:V[Se])}var Se=arguments.length-2;if(Se===1)ue.children=ne;else if(1<Se){pe=Array(Se);for(var we=0;we<Se;we++)pe[we]=arguments[we+2];ue.children=pe}return{$$typeof:t,type:A.type,key:je,ref:xe,props:ue,_owner:X}},Ae.createContext=function(A){return A={$$typeof:u,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:l,_context:A},A.Consumer=A},Ae.createElement=B,Ae.createFactory=function(A){var V=B.bind(null,A);return V.type=A,V},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(A){return{$$typeof:h,render:A}},Ae.isValidElement=ee,Ae.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:te}},Ae.memo=function(A,V){return{$$typeof:p,type:A,compare:V===void 0?null:V}},Ae.startTransition=function(A){var V=P.transition;P.transition={};try{A()}finally{P.transition=V}},Ae.unstable_act=q,Ae.useCallback=function(A,V){return D.current.useCallback(A,V)},Ae.useContext=function(A){return D.current.useContext(A)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(A){return D.current.useDeferredValue(A)},Ae.useEffect=function(A,V){return D.current.useEffect(A,V)},Ae.useId=function(){return D.current.useId()},Ae.useImperativeHandle=function(A,V,ne){return D.current.useImperativeHandle(A,V,ne)},Ae.useInsertionEffect=function(A,V){return D.current.useInsertionEffect(A,V)},Ae.useLayoutEffect=function(A,V){return D.current.useLayoutEffect(A,V)},Ae.useMemo=function(A,V){return D.current.useMemo(A,V)},Ae.useReducer=function(A,V,ne){return D.current.useReducer(A,V,ne)},Ae.useRef=function(A){return D.current.useRef(A)},Ae.useState=function(A){return D.current.useState(A)},Ae.useSyncExternalStore=function(A,V,ne){return D.current.useSyncExternalStore(A,V,ne)},Ae.useTransition=function(){return D.current.useTransition()},Ae.version="18.3.1",Ae}var bm;function td(){return bm||(bm=1,qc.exports=_x()),qc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm;function bx(){if(Sm)return Pi;Sm=1;var t=td(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,p){var v,w={},_=null,b=null;p!==void 0&&(_=""+p),f.key!==void 0&&(_=""+f.key),f.ref!==void 0&&(b=f.ref);for(v in f)i.call(f,v)&&!l.hasOwnProperty(v)&&(w[v]=f[v]);if(h&&h.defaultProps)for(v in f=h.defaultProps,f)w[v]===void 0&&(w[v]=f[v]);return{$$typeof:e,type:h,key:_,ref:b,props:w,_owner:a.current}}return Pi.Fragment=r,Pi.jsx=u,Pi.jsxs=u,Pi}var km;function Sx(){return km||(km=1,Kc.exports=bx()),Kc.exports}var c=Sx(),y=td();const bn=ed(y),kx=xx({__proto__:null,default:bn},[y]);var fa={},Jc={exports:{}},Ot={},Yc={exports:{}},Qc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function Ex(){return Em||(Em=1,(function(t){function e(P,G){var q=P.length;P.push(G);e:for(;0<q;){var A=q-1>>>1,V=P[A];if(0<a(V,G))P[A]=G,P[q]=V,q=A;else break e}}function r(P){return P.length===0?null:P[0]}function i(P){if(P.length===0)return null;var G=P[0],q=P.pop();if(q!==G){P[0]=q;e:for(var A=0,V=P.length,ne=V>>>1;A<ne;){var ue=2*(A+1)-1,je=P[ue],xe=ue+1,X=P[xe];if(0>a(je,q))xe<V&&0>a(X,je)?(P[A]=X,P[xe]=q,A=xe):(P[A]=je,P[ue]=q,A=ue);else if(xe<V&&0>a(X,q))P[A]=X,P[xe]=q,A=xe;else break e}}return G}function a(P,G){var q=P.sortIndex-G.sortIndex;return q!==0?q:P.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],p=[],v=1,w=null,_=3,b=!1,E=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(P){for(var G=r(p);G!==null;){if(G.callback===null)i(p);else if(G.startTime<=P)i(p),G.sortIndex=G.expirationTime,e(f,G);else break;G=r(p)}}function O(P){if(x=!1,C(P),!E)if(r(f)!==null)E=!0,te($);else{var G=r(p);G!==null&&D(O,G.startTime-P)}}function $(P,G){E=!1,x&&(x=!1,j(B),B=-1),b=!0;var q=_;try{for(C(G),w=r(f);w!==null&&(!(w.expirationTime>G)||P&&!ie());){var A=w.callback;if(typeof A=="function"){w.callback=null,_=w.priorityLevel;var V=A(w.expirationTime<=G);G=t.unstable_now(),typeof V=="function"?w.callback=V:w===r(f)&&i(f),C(G)}else i(f);w=r(f)}if(w!==null)var ne=!0;else{var ue=r(p);ue!==null&&D(O,ue.startTime-G),ne=!1}return ne}finally{w=null,_=q,b=!1}}var F=!1,L=null,B=-1,U=5,ee=-1;function ie(){return!(t.unstable_now()-ee<U)}function K(){if(L!==null){var P=t.unstable_now();ee=P;var G=!0;try{G=L(!0,P)}finally{G?J():(F=!1,L=null)}}else F=!1}var J;if(typeof N=="function")J=function(){N(K)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,ae=oe.port2;oe.port1.onmessage=K,J=function(){ae.postMessage(null)}}else J=function(){S(K,0)};function te(P){L=P,F||(F=!0,J())}function D(P,G){B=S(function(){P(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){E||b||(E=!0,te($))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return r(f)},t.unstable_next=function(P){switch(_){case 1:case 2:case 3:var G=3;break;default:G=_}var q=_;_=G;try{return P()}finally{_=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,G){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var q=_;_=P;try{return G()}finally{_=q}},t.unstable_scheduleCallback=function(P,G,q){var A=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?A+q:A):q=A,P){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=q+V,P={id:v++,callback:G,priorityLevel:P,startTime:q,expirationTime:V,sortIndex:-1},q>A?(P.sortIndex=q,e(p,P),r(f)===null&&P===r(p)&&(x?(j(B),B=-1):x=!0,D(O,q-A))):(P.sortIndex=V,e(f,P),E||b||(E=!0,te($))),P},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(P){var G=_;return function(){var q=_;_=G;try{return P.apply(this,arguments)}finally{_=q}}}})(Qc)),Qc}var jm;function jx(){return jm||(jm=1,Yc.exports=Ex()),Yc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function Nx(){if(Nm)return Ot;Nm=1;var t=td(),e=jx();function r(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,o=1;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function l(n,s){u(n,s),u(n+"Capture",s)}function u(n,s){for(a[n]=s,n=0;n<s.length;n++)i.add(s[n])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function _(n){return f.call(w,n)?!0:f.call(v,n)?!1:p.test(n)?w[n]=!0:(v[n]=!0,!1)}function b(n,s,o,d){if(o!==null&&o.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:o!==null?!o.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function E(n,s,o,d){if(s===null||typeof s>"u"||b(n,s,o,d))return!0;if(d)return!1;if(o!==null)switch(o.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function x(n,s,o,d,m,g,k){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=o,this.propertyName=n,this.type=s,this.sanitizeURL=g,this.removeEmptyString=k}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){S[n]=new x(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];S[s]=new x(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){S[n]=new x(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){S[n]=new x(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){S[n]=new x(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){S[n]=new x(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){S[n]=new x(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){S[n]=new x(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){S[n]=new x(n,5,!1,n.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function N(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(j,N);S[s]=new x(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(j,N);S[s]=new x(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(j,N);S[s]=new x(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){S[n]=new x(n,1,!1,n.toLowerCase(),null,!1,!1)}),S.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){S[n]=new x(n,1,!1,n.toLowerCase(),null,!0,!0)});function C(n,s,o,d){var m=S.hasOwnProperty(s)?S[s]:null;(m!==null?m.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(E(s,o,m,d)&&(o=null),d||m===null?_(s)&&(o===null?n.removeAttribute(s):n.setAttribute(s,""+o)):m.mustUseProperty?n[m.propertyName]=o===null?m.type===3?!1:"":o:(s=m.attributeName,d=m.attributeNamespace,o===null?n.removeAttribute(s):(m=m.type,o=m===3||m===4&&o===!0?"":""+o,d?n.setAttributeNS(d,s,o):n.setAttribute(s,o))))}var O=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),F=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),ie=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),P=Symbol.iterator;function G(n){return n===null||typeof n!="object"?null:(n=P&&n[P]||n["@@iterator"],typeof n=="function"?n:null)}var q=Object.assign,A;function V(n){if(A===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);A=s&&s[1]||""}return`
`+A+n}var ne=!1;function ue(n,s){if(!n||ne)return"";ne=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(W){var d=W}Reflect.construct(n,[],s)}else{try{s.call()}catch(W){d=W}n.call(s.prototype)}else{try{throw Error()}catch(W){d=W}n()}}catch(W){if(W&&d&&typeof W.stack=="string"){for(var m=W.stack.split(`
`),g=d.stack.split(`
`),k=m.length-1,T=g.length-1;1<=k&&0<=T&&m[k]!==g[T];)T--;for(;1<=k&&0<=T;k--,T--)if(m[k]!==g[T]){if(k!==1||T!==1)do if(k--,T--,0>T||m[k]!==g[T]){var R=`
`+m[k].replace(" at new "," at ");return n.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",n.displayName)),R}while(1<=k&&0<=T);break}}}finally{ne=!1,Error.prepareStackTrace=o}return(n=n?n.displayName||n.name:"")?V(n):""}function je(n){switch(n.tag){case 5:return V(n.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return n=ue(n.type,!1),n;case 11:return n=ue(n.type.render,!1),n;case 1:return n=ue(n.type,!0),n;default:return""}}function xe(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case L:return"Fragment";case F:return"Portal";case U:return"Profiler";case B:return"StrictMode";case J:return"Suspense";case oe:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ie:return(n.displayName||"Context")+".Consumer";case ee:return(n._context.displayName||"Context")+".Provider";case K:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ae:return s=n.displayName||null,s!==null?s:xe(n.type)||"Memo";case te:s=n._payload,n=n._init;try{return xe(n(s))}catch{}}return null}function X(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(s);case 8:return s===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function pe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Se(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function we(n){var s=Se(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),d=""+n[s];if(!n.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,g=o.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return m.call(this)},set:function(k){d=""+k,g.call(this,k)}}),Object.defineProperty(n,s,{enumerable:o.enumerable}),{getValue:function(){return d},setValue:function(k){d=""+k},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Te(n){n._valueTracker||(n._valueTracker=we(n))}function Pe(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),d="";return n&&(d=Se(n)?n.checked?"true":"false":n.value),n=d,n!==o?(s.setValue(n),!0):!1}function qe(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function bt(n,s){var o=s.checked;return q({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??n._wrapperState.initialChecked})}function Zt(n,s){var o=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;o=pe(s.value!=null?s.value:o),n._wrapperState={initialChecked:d,initialValue:o,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function en(n,s){s=s.checked,s!=null&&C(n,"checked",s,!1)}function Ht(n,s){en(n,s);var o=pe(s.value),d=s.type;if(o!=null)d==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+o):n.value!==""+o&&(n.value=""+o);else if(d==="submit"||d==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?Vn(n,s.type,o):s.hasOwnProperty("defaultValue")&&Vn(n,s.type,pe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function wr(n,s,o){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,o||s===n.value||(n.value=s),n.defaultValue=s}o=n.name,o!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,o!==""&&(n.name=o)}function Vn(n,s,o){(s!=="number"||qe(n.ownerDocument)!==n)&&(o==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+o&&(n.defaultValue=""+o))}var Gs=Array.isArray;function Br(n,s,o,d){if(n=n.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<n.length;o++)m=s.hasOwnProperty("$"+n[o].value),n[o].selected!==m&&(n[o].selected=m),m&&d&&(n[o].defaultSelected=!0)}else{for(o=""+pe(o),s=null,m=0;m<n.length;m++){if(n[m].value===o){n[m].selected=!0,d&&(n[m].defaultSelected=!0);return}s!==null||n[m].disabled||(s=n[m])}s!==null&&(s.selected=!0)}}function rl(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return q({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Rd(n,s){var o=s.value;if(o==null){if(o=s.children,s=s.defaultValue,o!=null){if(s!=null)throw Error(r(92));if(Gs(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),o=s}n._wrapperState={initialValue:pe(o)}}function Pd(n,s){var o=pe(s.value),d=pe(s.defaultValue);o!=null&&(o=""+o,o!==n.value&&(n.value=o),s.defaultValue==null&&n.defaultValue!==o&&(n.defaultValue=o)),d!=null&&(n.defaultValue=""+d)}function Ad(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function Od(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sl(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?Od(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var so,Id=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,o,d,m){MSApp.execUnsafeLocalFunction(function(){return n(s,o,d,m)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(so=so||document.createElement("div"),so.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=so.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function Ks(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var qs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ky=["Webkit","ms","Moz","O"];Object.keys(qs).forEach(function(n){ky.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),qs[s]=qs[n]})});function Ld(n,s,o){return s==null||typeof s=="boolean"||s===""?"":o||typeof s!="number"||s===0||qs.hasOwnProperty(n)&&qs[n]?(""+s).trim():s+"px"}function $d(n,s){n=n.style;for(var o in s)if(s.hasOwnProperty(o)){var d=o.indexOf("--")===0,m=Ld(o,s[o],d);o==="float"&&(o="cssFloat"),d?n.setProperty(o,m):n[o]=m}}var Ey=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function il(n,s){if(s){if(Ey[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function ol(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var al=null;function ll(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var cl=null,Wr=null,Vr=null;function Dd(n){if(n=gi(n)){if(typeof cl!="function")throw Error(r(280));var s=n.stateNode;s&&(s=Co(s),cl(n.stateNode,n.type,s))}}function Md(n){Wr?Vr?Vr.push(n):Vr=[n]:Wr=n}function Fd(){if(Wr){var n=Wr,s=Vr;if(Vr=Wr=null,Dd(n),s)for(n=0;n<s.length;n++)Dd(s[n])}}function Ud(n,s){return n(s)}function zd(){}var ul=!1;function Bd(n,s,o){if(ul)return n(s,o);ul=!0;try{return Ud(n,s,o)}finally{ul=!1,(Wr!==null||Vr!==null)&&(zd(),Fd())}}function Js(n,s){var o=n.stateNode;if(o===null)return null;var d=Co(o);if(d===null)return null;o=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var dl=!1;if(h)try{var Ys={};Object.defineProperty(Ys,"passive",{get:function(){dl=!0}}),window.addEventListener("test",Ys,Ys),window.removeEventListener("test",Ys,Ys)}catch{dl=!1}function jy(n,s,o,d,m,g,k,T,R){var W=Array.prototype.slice.call(arguments,3);try{s.apply(o,W)}catch(Q){this.onError(Q)}}var Qs=!1,io=null,oo=!1,hl=null,Ny={onError:function(n){Qs=!0,io=n}};function Cy(n,s,o,d,m,g,k,T,R){Qs=!1,io=null,jy.apply(Ny,arguments)}function Ty(n,s,o,d,m,g,k,T,R){if(Cy.apply(this,arguments),Qs){if(Qs){var W=io;Qs=!1,io=null}else throw Error(r(198));oo||(oo=!0,hl=W)}}function xr(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function Wd(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function Vd(n){if(xr(n)!==n)throw Error(r(188))}function Ry(n){var s=n.alternate;if(!s){if(s=xr(n),s===null)throw Error(r(188));return s!==n?null:n}for(var o=n,d=s;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(d=m.return,d!==null){o=d;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return Vd(m),n;if(g===d)return Vd(m),s;g=g.sibling}throw Error(r(188))}if(o.return!==d.return)o=m,d=g;else{for(var k=!1,T=m.child;T;){if(T===o){k=!0,o=m,d=g;break}if(T===d){k=!0,d=m,o=g;break}T=T.sibling}if(!k){for(T=g.child;T;){if(T===o){k=!0,o=g,d=m;break}if(T===d){k=!0,d=g,o=m;break}T=T.sibling}if(!k)throw Error(r(189))}}if(o.alternate!==d)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?n:s}function Hd(n){return n=Ry(n),n!==null?Gd(n):null}function Gd(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Gd(n);if(s!==null)return s;n=n.sibling}return null}var Kd=e.unstable_scheduleCallback,qd=e.unstable_cancelCallback,Py=e.unstable_shouldYield,Ay=e.unstable_requestPaint,tt=e.unstable_now,Oy=e.unstable_getCurrentPriorityLevel,fl=e.unstable_ImmediatePriority,Jd=e.unstable_UserBlockingPriority,ao=e.unstable_NormalPriority,Iy=e.unstable_LowPriority,Yd=e.unstable_IdlePriority,lo=null,vn=null;function Ly(n){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(lo,n,void 0,(n.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:My,$y=Math.log,Dy=Math.LN2;function My(n){return n>>>=0,n===0?32:31-($y(n)/Dy|0)|0}var co=64,uo=4194304;function Xs(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ho(n,s){var o=n.pendingLanes;if(o===0)return 0;var d=0,m=n.suspendedLanes,g=n.pingedLanes,k=o&268435455;if(k!==0){var T=k&~m;T!==0?d=Xs(T):(g&=k,g!==0&&(d=Xs(g)))}else k=o&~m,k!==0?d=Xs(k):g!==0&&(d=Xs(g));if(d===0)return 0;if(s!==0&&s!==d&&(s&m)===0&&(m=d&-d,g=s&-s,m>=g||m===16&&(g&4194240)!==0))return s;if((d&4)!==0&&(d|=o&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=d;0<s;)o=31-tn(s),m=1<<o,d|=n[o],s&=~m;return d}function Fy(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uy(n,s){for(var o=n.suspendedLanes,d=n.pingedLanes,m=n.expirationTimes,g=n.pendingLanes;0<g;){var k=31-tn(g),T=1<<k,R=m[k];R===-1?((T&o)===0||(T&d)!==0)&&(m[k]=Fy(T,s)):R<=s&&(n.expiredLanes|=T),g&=~T}}function ml(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Qd(){var n=co;return co<<=1,(co&4194240)===0&&(co=64),n}function pl(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function Zs(n,s,o){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-tn(s),n[s]=o}function zy(n,s){var o=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var d=n.eventTimes;for(n=n.expirationTimes;0<o;){var m=31-tn(o),g=1<<m;s[m]=0,d[m]=-1,n[m]=-1,o&=~g}}function gl(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var d=31-tn(o),m=1<<d;m&s|n[d]&s&&(n[d]|=s),o&=~m}}var Le=0;function Xd(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Zd,vl,eh,th,nh,yl=!1,fo=[],Hn=null,Gn=null,Kn=null,ei=new Map,ti=new Map,qn=[],By="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rh(n,s){switch(n){case"focusin":case"focusout":Hn=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":ei.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ti.delete(s.pointerId)}}function ni(n,s,o,d,m,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:o,eventSystemFlags:d,nativeEvent:g,targetContainers:[m]},s!==null&&(s=gi(s),s!==null&&vl(s)),n):(n.eventSystemFlags|=d,s=n.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),n)}function Wy(n,s,o,d,m){switch(s){case"focusin":return Hn=ni(Hn,n,s,o,d,m),!0;case"dragenter":return Gn=ni(Gn,n,s,o,d,m),!0;case"mouseover":return Kn=ni(Kn,n,s,o,d,m),!0;case"pointerover":var g=m.pointerId;return ei.set(g,ni(ei.get(g)||null,n,s,o,d,m)),!0;case"gotpointercapture":return g=m.pointerId,ti.set(g,ni(ti.get(g)||null,n,s,o,d,m)),!0}return!1}function sh(n){var s=_r(n.target);if(s!==null){var o=xr(s);if(o!==null){if(s=o.tag,s===13){if(s=Wd(o),s!==null){n.blockedOn=s,nh(n.priority,function(){eh(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function mo(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=xl(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(o===null){o=n.nativeEvent;var d=new o.constructor(o.type,o);al=d,o.target.dispatchEvent(d),al=null}else return s=gi(o),s!==null&&vl(s),n.blockedOn=o,!1;s.shift()}return!0}function ih(n,s,o){mo(n)&&o.delete(s)}function Vy(){yl=!1,Hn!==null&&mo(Hn)&&(Hn=null),Gn!==null&&mo(Gn)&&(Gn=null),Kn!==null&&mo(Kn)&&(Kn=null),ei.forEach(ih),ti.forEach(ih)}function ri(n,s){n.blockedOn===s&&(n.blockedOn=null,yl||(yl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Vy)))}function si(n){function s(m){return ri(m,n)}if(0<fo.length){ri(fo[0],n);for(var o=1;o<fo.length;o++){var d=fo[o];d.blockedOn===n&&(d.blockedOn=null)}}for(Hn!==null&&ri(Hn,n),Gn!==null&&ri(Gn,n),Kn!==null&&ri(Kn,n),ei.forEach(s),ti.forEach(s),o=0;o<qn.length;o++)d=qn[o],d.blockedOn===n&&(d.blockedOn=null);for(;0<qn.length&&(o=qn[0],o.blockedOn===null);)sh(o),o.blockedOn===null&&qn.shift()}var Hr=O.ReactCurrentBatchConfig,po=!0;function Hy(n,s,o,d){var m=Le,g=Hr.transition;Hr.transition=null;try{Le=1,wl(n,s,o,d)}finally{Le=m,Hr.transition=g}}function Gy(n,s,o,d){var m=Le,g=Hr.transition;Hr.transition=null;try{Le=4,wl(n,s,o,d)}finally{Le=m,Hr.transition=g}}function wl(n,s,o,d){if(po){var m=xl(n,s,o,d);if(m===null)Dl(n,s,d,go,o),rh(n,d);else if(Wy(m,n,s,o,d))d.stopPropagation();else if(rh(n,d),s&4&&-1<By.indexOf(n)){for(;m!==null;){var g=gi(m);if(g!==null&&Zd(g),g=xl(n,s,o,d),g===null&&Dl(n,s,d,go,o),g===m)break;m=g}m!==null&&d.stopPropagation()}else Dl(n,s,d,null,o)}}var go=null;function xl(n,s,o,d){if(go=null,n=ll(d),n=_r(n),n!==null)if(s=xr(n),s===null)n=null;else if(o=s.tag,o===13){if(n=Wd(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return go=n,null}function oh(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Oy()){case fl:return 1;case Jd:return 4;case ao:case Iy:return 16;case Yd:return 536870912;default:return 16}default:return 16}}var Jn=null,_l=null,vo=null;function ah(){if(vo)return vo;var n,s=_l,o=s.length,d,m="value"in Jn?Jn.value:Jn.textContent,g=m.length;for(n=0;n<o&&s[n]===m[n];n++);var k=o-n;for(d=1;d<=k&&s[o-d]===m[g-d];d++);return vo=m.slice(n,1<d?1-d:void 0)}function yo(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function wo(){return!0}function lh(){return!1}function It(n){function s(o,d,m,g,k){this._reactName=o,this._targetInst=m,this.type=d,this.nativeEvent=g,this.target=k,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(o=n[T],this[T]=o?o(g):g[T]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?wo:lh,this.isPropagationStopped=lh,this}return q(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=wo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=wo)},persist:function(){},isPersistent:wo}),s}var Gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bl=It(Gr),ii=q({},Gr,{view:0,detail:0}),Ky=It(ii),Sl,kl,oi,xo=q({},ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jl,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==oi&&(oi&&n.type==="mousemove"?(Sl=n.screenX-oi.screenX,kl=n.screenY-oi.screenY):kl=Sl=0,oi=n),Sl)},movementY:function(n){return"movementY"in n?n.movementY:kl}}),ch=It(xo),qy=q({},xo,{dataTransfer:0}),Jy=It(qy),Yy=q({},ii,{relatedTarget:0}),El=It(Yy),Qy=q({},Gr,{animationName:0,elapsedTime:0,pseudoElement:0}),Xy=It(Qy),Zy=q({},Gr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ew=It(Zy),tw=q({},Gr,{data:0}),uh=It(tw),nw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iw(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=sw[n])?!!s[n]:!1}function jl(){return iw}var ow=q({},ii,{key:function(n){if(n.key){var s=nw[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=yo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?rw[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jl,charCode:function(n){return n.type==="keypress"?yo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?yo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),aw=It(ow),lw=q({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dh=It(lw),cw=q({},ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jl}),uw=It(cw),dw=q({},Gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),hw=It(dw),fw=q({},xo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),mw=It(fw),pw=[9,13,27,32],Nl=h&&"CompositionEvent"in window,ai=null;h&&"documentMode"in document&&(ai=document.documentMode);var gw=h&&"TextEvent"in window&&!ai,hh=h&&(!Nl||ai&&8<ai&&11>=ai),fh=" ",mh=!1;function ph(n,s){switch(n){case"keyup":return pw.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gh(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Kr=!1;function vw(n,s){switch(n){case"compositionend":return gh(s);case"keypress":return s.which!==32?null:(mh=!0,fh);case"textInput":return n=s.data,n===fh&&mh?null:n;default:return null}}function yw(n,s){if(Kr)return n==="compositionend"||!Nl&&ph(n,s)?(n=ah(),vo=_l=Jn=null,Kr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return hh&&s.locale!=="ko"?null:s.data;default:return null}}var ww={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vh(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!ww[n.type]:s==="textarea"}function yh(n,s,o,d){Md(d),s=Eo(s,"onChange"),0<s.length&&(o=new bl("onChange","change",null,o,d),n.push({event:o,listeners:s}))}var li=null,ci=null;function xw(n){$h(n,0)}function _o(n){var s=Xr(n);if(Pe(s))return n}function _w(n,s){if(n==="change")return s}var wh=!1;if(h){var Cl;if(h){var Tl="oninput"in document;if(!Tl){var xh=document.createElement("div");xh.setAttribute("oninput","return;"),Tl=typeof xh.oninput=="function"}Cl=Tl}else Cl=!1;wh=Cl&&(!document.documentMode||9<document.documentMode)}function _h(){li&&(li.detachEvent("onpropertychange",bh),ci=li=null)}function bh(n){if(n.propertyName==="value"&&_o(ci)){var s=[];yh(s,ci,n,ll(n)),Bd(xw,s)}}function bw(n,s,o){n==="focusin"?(_h(),li=s,ci=o,li.attachEvent("onpropertychange",bh)):n==="focusout"&&_h()}function Sw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return _o(ci)}function kw(n,s){if(n==="click")return _o(s)}function Ew(n,s){if(n==="input"||n==="change")return _o(s)}function jw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var nn=typeof Object.is=="function"?Object.is:jw;function ui(n,s){if(nn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),d=Object.keys(s);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var m=o[d];if(!f.call(s,m)||!nn(n[m],s[m]))return!1}return!0}function Sh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function kh(n,s){var o=Sh(n);n=0;for(var d;o;){if(o.nodeType===3){if(d=n+o.textContent.length,n<=s&&d>=s)return{node:o,offset:s-n};n=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Sh(o)}}function Eh(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Eh(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function jh(){for(var n=window,s=qe();s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=qe(n.document)}return s}function Rl(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function Nw(n){var s=jh(),o=n.focusedElem,d=n.selectionRange;if(s!==o&&o&&o.ownerDocument&&Eh(o.ownerDocument.documentElement,o)){if(d!==null&&Rl(o)){if(s=d.start,n=d.end,n===void 0&&(n=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(n,o.value.length);else if(n=(s=o.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var m=o.textContent.length,g=Math.min(d.start,m);d=d.end===void 0?g:Math.min(d.end,m),!n.extend&&g>d&&(m=d,d=g,g=m),m=kh(o,g);var k=kh(o,d);m&&k&&(n.rangeCount!==1||n.anchorNode!==m.node||n.anchorOffset!==m.offset||n.focusNode!==k.node||n.focusOffset!==k.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),n.removeAllRanges(),g>d?(n.addRange(s),n.extend(k.node,k.offset)):(s.setEnd(k.node,k.offset),n.addRange(s)))}}for(s=[],n=o;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)n=s[o],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Cw=h&&"documentMode"in document&&11>=document.documentMode,qr=null,Pl=null,di=null,Al=!1;function Nh(n,s,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Al||qr==null||qr!==qe(d)||(d=qr,"selectionStart"in d&&Rl(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),di&&ui(di,d)||(di=d,d=Eo(Pl,"onSelect"),0<d.length&&(s=new bl("onSelect","select",null,s,o),n.push({event:s,listeners:d}),s.target=qr)))}function bo(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var Jr={animationend:bo("Animation","AnimationEnd"),animationiteration:bo("Animation","AnimationIteration"),animationstart:bo("Animation","AnimationStart"),transitionend:bo("Transition","TransitionEnd")},Ol={},Ch={};h&&(Ch=document.createElement("div").style,"AnimationEvent"in window||(delete Jr.animationend.animation,delete Jr.animationiteration.animation,delete Jr.animationstart.animation),"TransitionEvent"in window||delete Jr.transitionend.transition);function So(n){if(Ol[n])return Ol[n];if(!Jr[n])return n;var s=Jr[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in Ch)return Ol[n]=s[o];return n}var Th=So("animationend"),Rh=So("animationiteration"),Ph=So("animationstart"),Ah=So("transitionend"),Oh=new Map,Ih="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yn(n,s){Oh.set(n,s),l(s,[n])}for(var Il=0;Il<Ih.length;Il++){var Ll=Ih[Il],Tw=Ll.toLowerCase(),Rw=Ll[0].toUpperCase()+Ll.slice(1);Yn(Tw,"on"+Rw)}Yn(Th,"onAnimationEnd"),Yn(Rh,"onAnimationIteration"),Yn(Ph,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(Ah,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pw=new Set("cancel close invalid load scroll toggle".split(" ").concat(hi));function Lh(n,s,o){var d=n.type||"unknown-event";n.currentTarget=o,Ty(d,s,void 0,n),n.currentTarget=null}function $h(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var d=n[o],m=d.event;d=d.listeners;e:{var g=void 0;if(s)for(var k=d.length-1;0<=k;k--){var T=d[k],R=T.instance,W=T.currentTarget;if(T=T.listener,R!==g&&m.isPropagationStopped())break e;Lh(m,T,W),g=R}else for(k=0;k<d.length;k++){if(T=d[k],R=T.instance,W=T.currentTarget,T=T.listener,R!==g&&m.isPropagationStopped())break e;Lh(m,T,W),g=R}}}if(oo)throw n=hl,oo=!1,hl=null,n}function We(n,s){var o=s[Wl];o===void 0&&(o=s[Wl]=new Set);var d=n+"__bubble";o.has(d)||(Dh(s,n,2,!1),o.add(d))}function $l(n,s,o){var d=0;s&&(d|=4),Dh(o,n,d,s)}var ko="_reactListening"+Math.random().toString(36).slice(2);function fi(n){if(!n[ko]){n[ko]=!0,i.forEach(function(o){o!=="selectionchange"&&(Pw.has(o)||$l(o,!1,n),$l(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[ko]||(s[ko]=!0,$l("selectionchange",!1,s))}}function Dh(n,s,o,d){switch(oh(s)){case 1:var m=Hy;break;case 4:m=Gy;break;default:m=wl}o=m.bind(null,s,o,n),m=void 0,!dl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),d?m!==void 0?n.addEventListener(s,o,{capture:!0,passive:m}):n.addEventListener(s,o,!0):m!==void 0?n.addEventListener(s,o,{passive:m}):n.addEventListener(s,o,!1)}function Dl(n,s,o,d,m){var g=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var k=d.tag;if(k===3||k===4){var T=d.stateNode.containerInfo;if(T===m||T.nodeType===8&&T.parentNode===m)break;if(k===4)for(k=d.return;k!==null;){var R=k.tag;if((R===3||R===4)&&(R=k.stateNode.containerInfo,R===m||R.nodeType===8&&R.parentNode===m))return;k=k.return}for(;T!==null;){if(k=_r(T),k===null)return;if(R=k.tag,R===5||R===6){d=g=k;continue e}T=T.parentNode}}d=d.return}Bd(function(){var W=g,Q=ll(o),Z=[];e:{var Y=Oh.get(n);if(Y!==void 0){var ce=bl,he=n;switch(n){case"keypress":if(yo(o)===0)break e;case"keydown":case"keyup":ce=aw;break;case"focusin":he="focus",ce=El;break;case"focusout":he="blur",ce=El;break;case"beforeblur":case"afterblur":ce=El;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=ch;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Jy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=uw;break;case Th:case Rh:case Ph:ce=Xy;break;case Ah:ce=hw;break;case"scroll":ce=Ky;break;case"wheel":ce=mw;break;case"copy":case"cut":case"paste":ce=ew;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=dh}var ge=(s&4)!==0,nt=!ge&&n==="scroll",M=ge?Y!==null?Y+"Capture":null:Y;ge=[];for(var I=W,z;I!==null;){z=I;var re=z.stateNode;if(z.tag===5&&re!==null&&(z=re,M!==null&&(re=Js(I,M),re!=null&&ge.push(mi(I,re,z)))),nt)break;I=I.return}0<ge.length&&(Y=new ce(Y,he,null,o,Q),Z.push({event:Y,listeners:ge}))}}if((s&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",ce=n==="mouseout"||n==="pointerout",Y&&o!==al&&(he=o.relatedTarget||o.fromElement)&&(_r(he)||he[Tn]))break e;if((ce||Y)&&(Y=Q.window===Q?Q:(Y=Q.ownerDocument)?Y.defaultView||Y.parentWindow:window,ce?(he=o.relatedTarget||o.toElement,ce=W,he=he?_r(he):null,he!==null&&(nt=xr(he),he!==nt||he.tag!==5&&he.tag!==6)&&(he=null)):(ce=null,he=W),ce!==he)){if(ge=ch,re="onMouseLeave",M="onMouseEnter",I="mouse",(n==="pointerout"||n==="pointerover")&&(ge=dh,re="onPointerLeave",M="onPointerEnter",I="pointer"),nt=ce==null?Y:Xr(ce),z=he==null?Y:Xr(he),Y=new ge(re,I+"leave",ce,o,Q),Y.target=nt,Y.relatedTarget=z,re=null,_r(Q)===W&&(ge=new ge(M,I+"enter",he,o,Q),ge.target=z,ge.relatedTarget=nt,re=ge),nt=re,ce&&he)t:{for(ge=ce,M=he,I=0,z=ge;z;z=Yr(z))I++;for(z=0,re=M;re;re=Yr(re))z++;for(;0<I-z;)ge=Yr(ge),I--;for(;0<z-I;)M=Yr(M),z--;for(;I--;){if(ge===M||M!==null&&ge===M.alternate)break t;ge=Yr(ge),M=Yr(M)}ge=null}else ge=null;ce!==null&&Mh(Z,Y,ce,ge,!1),he!==null&&nt!==null&&Mh(Z,nt,he,ge,!0)}}e:{if(Y=W?Xr(W):window,ce=Y.nodeName&&Y.nodeName.toLowerCase(),ce==="select"||ce==="input"&&Y.type==="file")var ve=_w;else if(vh(Y))if(wh)ve=Ew;else{ve=Sw;var _e=bw}else(ce=Y.nodeName)&&ce.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(ve=kw);if(ve&&(ve=ve(n,W))){yh(Z,ve,o,Q);break e}_e&&_e(n,Y,W),n==="focusout"&&(_e=Y._wrapperState)&&_e.controlled&&Y.type==="number"&&Vn(Y,"number",Y.value)}switch(_e=W?Xr(W):window,n){case"focusin":(vh(_e)||_e.contentEditable==="true")&&(qr=_e,Pl=W,di=null);break;case"focusout":di=Pl=qr=null;break;case"mousedown":Al=!0;break;case"contextmenu":case"mouseup":case"dragend":Al=!1,Nh(Z,o,Q);break;case"selectionchange":if(Cw)break;case"keydown":case"keyup":Nh(Z,o,Q)}var be;if(Nl)e:{switch(n){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Kr?ph(n,o)&&(Ne="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Ne="onCompositionStart");Ne&&(hh&&o.locale!=="ko"&&(Kr||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Kr&&(be=ah()):(Jn=Q,_l="value"in Jn?Jn.value:Jn.textContent,Kr=!0)),_e=Eo(W,Ne),0<_e.length&&(Ne=new uh(Ne,n,null,o,Q),Z.push({event:Ne,listeners:_e}),be?Ne.data=be:(be=gh(o),be!==null&&(Ne.data=be)))),(be=gw?vw(n,o):yw(n,o))&&(W=Eo(W,"onBeforeInput"),0<W.length&&(Q=new uh("onBeforeInput","beforeinput",null,o,Q),Z.push({event:Q,listeners:W}),Q.data=be))}$h(Z,s)})}function mi(n,s,o){return{instance:n,listener:s,currentTarget:o}}function Eo(n,s){for(var o=s+"Capture",d=[];n!==null;){var m=n,g=m.stateNode;m.tag===5&&g!==null&&(m=g,g=Js(n,o),g!=null&&d.unshift(mi(n,g,m)),g=Js(n,s),g!=null&&d.push(mi(n,g,m))),n=n.return}return d}function Yr(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Mh(n,s,o,d,m){for(var g=s._reactName,k=[];o!==null&&o!==d;){var T=o,R=T.alternate,W=T.stateNode;if(R!==null&&R===d)break;T.tag===5&&W!==null&&(T=W,m?(R=Js(o,g),R!=null&&k.unshift(mi(o,R,T))):m||(R=Js(o,g),R!=null&&k.push(mi(o,R,T)))),o=o.return}k.length!==0&&n.push({event:s,listeners:k})}var Aw=/\r\n?/g,Ow=/\u0000|\uFFFD/g;function Fh(n){return(typeof n=="string"?n:""+n).replace(Aw,`
`).replace(Ow,"")}function jo(n,s,o){if(s=Fh(s),Fh(n)!==s&&o)throw Error(r(425))}function No(){}var Ml=null,Fl=null;function Ul(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var zl=typeof setTimeout=="function"?setTimeout:void 0,Iw=typeof clearTimeout=="function"?clearTimeout:void 0,Uh=typeof Promise=="function"?Promise:void 0,Lw=typeof queueMicrotask=="function"?queueMicrotask:typeof Uh<"u"?function(n){return Uh.resolve(null).then(n).catch($w)}:zl;function $w(n){setTimeout(function(){throw n})}function Bl(n,s){var o=s,d=0;do{var m=o.nextSibling;if(n.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(d===0){n.removeChild(m),si(s);return}d--}else o!=="$"&&o!=="$?"&&o!=="$!"||d++;o=m}while(o);si(s)}function Qn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function zh(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return n;s--}else o==="/$"&&s++}n=n.previousSibling}return null}var Qr=Math.random().toString(36).slice(2),yn="__reactFiber$"+Qr,pi="__reactProps$"+Qr,Tn="__reactContainer$"+Qr,Wl="__reactEvents$"+Qr,Dw="__reactListeners$"+Qr,Mw="__reactHandles$"+Qr;function _r(n){var s=n[yn];if(s)return s;for(var o=n.parentNode;o;){if(s=o[Tn]||o[yn]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=zh(n);n!==null;){if(o=n[yn])return o;n=zh(n)}return s}n=o,o=n.parentNode}return null}function gi(n){return n=n[yn]||n[Tn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Xr(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function Co(n){return n[pi]||null}var Vl=[],Zr=-1;function Xn(n){return{current:n}}function Ve(n){0>Zr||(n.current=Vl[Zr],Vl[Zr]=null,Zr--)}function ze(n,s){Zr++,Vl[Zr]=n.current,n.current=s}var Zn={},yt=Xn(Zn),Ct=Xn(!1),br=Zn;function es(n,s){var o=n.type.contextTypes;if(!o)return Zn;var d=n.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var m={},g;for(g in o)m[g]=s[g];return d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=m),m}function Tt(n){return n=n.childContextTypes,n!=null}function To(){Ve(Ct),Ve(yt)}function Bh(n,s,o){if(yt.current!==Zn)throw Error(r(168));ze(yt,s),ze(Ct,o)}function Wh(n,s,o){var d=n.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return o;d=d.getChildContext();for(var m in d)if(!(m in s))throw Error(r(108,X(n)||"Unknown",m));return q({},o,d)}function Ro(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Zn,br=yt.current,ze(yt,n),ze(Ct,Ct.current),!0}function Vh(n,s,o){var d=n.stateNode;if(!d)throw Error(r(169));o?(n=Wh(n,s,br),d.__reactInternalMemoizedMergedChildContext=n,Ve(Ct),Ve(yt),ze(yt,n)):Ve(Ct),ze(Ct,o)}var Rn=null,Po=!1,Hl=!1;function Hh(n){Rn===null?Rn=[n]:Rn.push(n)}function Fw(n){Po=!0,Hh(n)}function er(){if(!Hl&&Rn!==null){Hl=!0;var n=0,s=Le;try{var o=Rn;for(Le=1;n<o.length;n++){var d=o[n];do d=d(!0);while(d!==null)}Rn=null,Po=!1}catch(m){throw Rn!==null&&(Rn=Rn.slice(n+1)),Kd(fl,er),m}finally{Le=s,Hl=!1}}return null}var ts=[],ns=0,Ao=null,Oo=0,Gt=[],Kt=0,Sr=null,Pn=1,An="";function kr(n,s){ts[ns++]=Oo,ts[ns++]=Ao,Ao=n,Oo=s}function Gh(n,s,o){Gt[Kt++]=Pn,Gt[Kt++]=An,Gt[Kt++]=Sr,Sr=n;var d=Pn;n=An;var m=32-tn(d)-1;d&=~(1<<m),o+=1;var g=32-tn(s)+m;if(30<g){var k=m-m%5;g=(d&(1<<k)-1).toString(32),d>>=k,m-=k,Pn=1<<32-tn(s)+m|o<<m|d,An=g+n}else Pn=1<<g|o<<m|d,An=n}function Gl(n){n.return!==null&&(kr(n,1),Gh(n,1,0))}function Kl(n){for(;n===Ao;)Ao=ts[--ns],ts[ns]=null,Oo=ts[--ns],ts[ns]=null;for(;n===Sr;)Sr=Gt[--Kt],Gt[Kt]=null,An=Gt[--Kt],Gt[Kt]=null,Pn=Gt[--Kt],Gt[Kt]=null}var Lt=null,$t=null,He=!1,rn=null;function Kh(n,s){var o=Qt(5,null,null,0);o.elementType="DELETED",o.stateNode=s,o.return=n,s=n.deletions,s===null?(n.deletions=[o],n.flags|=16):s.push(o)}function qh(n,s){switch(n.tag){case 5:var o=n.type;return s=s.nodeType!==1||o.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,Lt=n,$t=Qn(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,Lt=n,$t=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(o=Sr!==null?{id:Pn,overflow:An}:null,n.memoizedState={dehydrated:s,treeContext:o,retryLane:1073741824},o=Qt(18,null,null,0),o.stateNode=s,o.return=n,n.child=o,Lt=n,$t=null,!0):!1;default:return!1}}function ql(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Jl(n){if(He){var s=$t;if(s){var o=s;if(!qh(n,s)){if(ql(n))throw Error(r(418));s=Qn(o.nextSibling);var d=Lt;s&&qh(n,s)?Kh(d,o):(n.flags=n.flags&-4097|2,He=!1,Lt=n)}}else{if(ql(n))throw Error(r(418));n.flags=n.flags&-4097|2,He=!1,Lt=n}}}function Jh(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Lt=n}function Io(n){if(n!==Lt)return!1;if(!He)return Jh(n),He=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!Ul(n.type,n.memoizedProps)),s&&(s=$t)){if(ql(n))throw Yh(),Error(r(418));for(;s;)Kh(n,s),s=Qn(s.nextSibling)}if(Jh(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"){if(s===0){$t=Qn(n.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++}n=n.nextSibling}$t=null}}else $t=Lt?Qn(n.stateNode.nextSibling):null;return!0}function Yh(){for(var n=$t;n;)n=Qn(n.nextSibling)}function rs(){$t=Lt=null,He=!1}function Yl(n){rn===null?rn=[n]:rn.push(n)}var Uw=O.ReactCurrentBatchConfig;function vi(n,s,o){if(n=o.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(r(309));var d=o.stateNode}if(!d)throw Error(r(147,n));var m=d,g=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(k){var T=m.refs;k===null?delete T[g]:T[g]=k},s._stringRef=g,s)}if(typeof n!="string")throw Error(r(284));if(!o._owner)throw Error(r(290,n))}return n}function Lo(n,s){throw n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function Qh(n){var s=n._init;return s(n._payload)}function Xh(n){function s(M,I){if(n){var z=M.deletions;z===null?(M.deletions=[I],M.flags|=16):z.push(I)}}function o(M,I){if(!n)return null;for(;I!==null;)s(M,I),I=I.sibling;return null}function d(M,I){for(M=new Map;I!==null;)I.key!==null?M.set(I.key,I):M.set(I.index,I),I=I.sibling;return M}function m(M,I){return M=lr(M,I),M.index=0,M.sibling=null,M}function g(M,I,z){return M.index=z,n?(z=M.alternate,z!==null?(z=z.index,z<I?(M.flags|=2,I):z):(M.flags|=2,I)):(M.flags|=1048576,I)}function k(M){return n&&M.alternate===null&&(M.flags|=2),M}function T(M,I,z,re){return I===null||I.tag!==6?(I=zc(z,M.mode,re),I.return=M,I):(I=m(I,z),I.return=M,I)}function R(M,I,z,re){var ve=z.type;return ve===L?Q(M,I,z.props.children,re,z.key):I!==null&&(I.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===te&&Qh(ve)===I.type)?(re=m(I,z.props),re.ref=vi(M,I,z),re.return=M,re):(re=ia(z.type,z.key,z.props,null,M.mode,re),re.ref=vi(M,I,z),re.return=M,re)}function W(M,I,z,re){return I===null||I.tag!==4||I.stateNode.containerInfo!==z.containerInfo||I.stateNode.implementation!==z.implementation?(I=Bc(z,M.mode,re),I.return=M,I):(I=m(I,z.children||[]),I.return=M,I)}function Q(M,I,z,re,ve){return I===null||I.tag!==7?(I=Ar(z,M.mode,re,ve),I.return=M,I):(I=m(I,z),I.return=M,I)}function Z(M,I,z){if(typeof I=="string"&&I!==""||typeof I=="number")return I=zc(""+I,M.mode,z),I.return=M,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case $:return z=ia(I.type,I.key,I.props,null,M.mode,z),z.ref=vi(M,null,I),z.return=M,z;case F:return I=Bc(I,M.mode,z),I.return=M,I;case te:var re=I._init;return Z(M,re(I._payload),z)}if(Gs(I)||G(I))return I=Ar(I,M.mode,z,null),I.return=M,I;Lo(M,I)}return null}function Y(M,I,z,re){var ve=I!==null?I.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ve!==null?null:T(M,I,""+z,re);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case $:return z.key===ve?R(M,I,z,re):null;case F:return z.key===ve?W(M,I,z,re):null;case te:return ve=z._init,Y(M,I,ve(z._payload),re)}if(Gs(z)||G(z))return ve!==null?null:Q(M,I,z,re,null);Lo(M,z)}return null}function ce(M,I,z,re,ve){if(typeof re=="string"&&re!==""||typeof re=="number")return M=M.get(z)||null,T(I,M,""+re,ve);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case $:return M=M.get(re.key===null?z:re.key)||null,R(I,M,re,ve);case F:return M=M.get(re.key===null?z:re.key)||null,W(I,M,re,ve);case te:var _e=re._init;return ce(M,I,z,_e(re._payload),ve)}if(Gs(re)||G(re))return M=M.get(z)||null,Q(I,M,re,ve,null);Lo(I,re)}return null}function he(M,I,z,re){for(var ve=null,_e=null,be=I,Ne=I=0,ft=null;be!==null&&Ne<z.length;Ne++){be.index>Ne?(ft=be,be=null):ft=be.sibling;var Ie=Y(M,be,z[Ne],re);if(Ie===null){be===null&&(be=ft);break}n&&be&&Ie.alternate===null&&s(M,be),I=g(Ie,I,Ne),_e===null?ve=Ie:_e.sibling=Ie,_e=Ie,be=ft}if(Ne===z.length)return o(M,be),He&&kr(M,Ne),ve;if(be===null){for(;Ne<z.length;Ne++)be=Z(M,z[Ne],re),be!==null&&(I=g(be,I,Ne),_e===null?ve=be:_e.sibling=be,_e=be);return He&&kr(M,Ne),ve}for(be=d(M,be);Ne<z.length;Ne++)ft=ce(be,M,Ne,z[Ne],re),ft!==null&&(n&&ft.alternate!==null&&be.delete(ft.key===null?Ne:ft.key),I=g(ft,I,Ne),_e===null?ve=ft:_e.sibling=ft,_e=ft);return n&&be.forEach(function(cr){return s(M,cr)}),He&&kr(M,Ne),ve}function ge(M,I,z,re){var ve=G(z);if(typeof ve!="function")throw Error(r(150));if(z=ve.call(z),z==null)throw Error(r(151));for(var _e=ve=null,be=I,Ne=I=0,ft=null,Ie=z.next();be!==null&&!Ie.done;Ne++,Ie=z.next()){be.index>Ne?(ft=be,be=null):ft=be.sibling;var cr=Y(M,be,Ie.value,re);if(cr===null){be===null&&(be=ft);break}n&&be&&cr.alternate===null&&s(M,be),I=g(cr,I,Ne),_e===null?ve=cr:_e.sibling=cr,_e=cr,be=ft}if(Ie.done)return o(M,be),He&&kr(M,Ne),ve;if(be===null){for(;!Ie.done;Ne++,Ie=z.next())Ie=Z(M,Ie.value,re),Ie!==null&&(I=g(Ie,I,Ne),_e===null?ve=Ie:_e.sibling=Ie,_e=Ie);return He&&kr(M,Ne),ve}for(be=d(M,be);!Ie.done;Ne++,Ie=z.next())Ie=ce(be,M,Ne,Ie.value,re),Ie!==null&&(n&&Ie.alternate!==null&&be.delete(Ie.key===null?Ne:Ie.key),I=g(Ie,I,Ne),_e===null?ve=Ie:_e.sibling=Ie,_e=Ie);return n&&be.forEach(function(wx){return s(M,wx)}),He&&kr(M,Ne),ve}function nt(M,I,z,re){if(typeof z=="object"&&z!==null&&z.type===L&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case $:e:{for(var ve=z.key,_e=I;_e!==null;){if(_e.key===ve){if(ve=z.type,ve===L){if(_e.tag===7){o(M,_e.sibling),I=m(_e,z.props.children),I.return=M,M=I;break e}}else if(_e.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===te&&Qh(ve)===_e.type){o(M,_e.sibling),I=m(_e,z.props),I.ref=vi(M,_e,z),I.return=M,M=I;break e}o(M,_e);break}else s(M,_e);_e=_e.sibling}z.type===L?(I=Ar(z.props.children,M.mode,re,z.key),I.return=M,M=I):(re=ia(z.type,z.key,z.props,null,M.mode,re),re.ref=vi(M,I,z),re.return=M,M=re)}return k(M);case F:e:{for(_e=z.key;I!==null;){if(I.key===_e)if(I.tag===4&&I.stateNode.containerInfo===z.containerInfo&&I.stateNode.implementation===z.implementation){o(M,I.sibling),I=m(I,z.children||[]),I.return=M,M=I;break e}else{o(M,I);break}else s(M,I);I=I.sibling}I=Bc(z,M.mode,re),I.return=M,M=I}return k(M);case te:return _e=z._init,nt(M,I,_e(z._payload),re)}if(Gs(z))return he(M,I,z,re);if(G(z))return ge(M,I,z,re);Lo(M,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,I!==null&&I.tag===6?(o(M,I.sibling),I=m(I,z),I.return=M,M=I):(o(M,I),I=zc(z,M.mode,re),I.return=M,M=I),k(M)):o(M,I)}return nt}var ss=Xh(!0),Zh=Xh(!1),$o=Xn(null),Do=null,is=null,Ql=null;function Xl(){Ql=is=Do=null}function Zl(n){var s=$o.current;Ve($o),n._currentValue=s}function ec(n,s,o){for(;n!==null;){var d=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),n===o)break;n=n.return}}function os(n,s){Do=n,Ql=is=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(Rt=!0),n.firstContext=null)}function qt(n){var s=n._currentValue;if(Ql!==n)if(n={context:n,memoizedValue:s,next:null},is===null){if(Do===null)throw Error(r(308));is=n,Do.dependencies={lanes:0,firstContext:n}}else is=is.next=n;return s}var Er=null;function tc(n){Er===null?Er=[n]:Er.push(n)}function ef(n,s,o,d){var m=s.interleaved;return m===null?(o.next=o,tc(s)):(o.next=m.next,m.next=o),s.interleaved=o,On(n,d)}function On(n,s){n.lanes|=s;var o=n.alternate;for(o!==null&&(o.lanes|=s),o=n,n=n.return;n!==null;)n.childLanes|=s,o=n.alternate,o!==null&&(o.childLanes|=s),o=n,n=n.return;return o.tag===3?o.stateNode:null}var tr=!1;function nc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tf(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function In(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function nr(n,s,o){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(Oe&2)!==0){var m=d.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),d.pending=s,On(n,o)}return m=d.interleaved,m===null?(s.next=s,tc(d)):(s.next=m.next,m.next=s),d.interleaved=s,On(n,o)}function Mo(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194240)!==0)){var d=s.lanes;d&=n.pendingLanes,o|=d,s.lanes=o,gl(n,o)}}function nf(n,s){var o=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var k={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};g===null?m=g=k:g=g.next=k,o=o.next}while(o!==null);g===null?m=g=s:g=g.next=s}else m=g=s;o={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:d.shared,effects:d.effects},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}function Fo(n,s,o,d){var m=n.updateQueue;tr=!1;var g=m.firstBaseUpdate,k=m.lastBaseUpdate,T=m.shared.pending;if(T!==null){m.shared.pending=null;var R=T,W=R.next;R.next=null,k===null?g=W:k.next=W,k=R;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==k&&(T===null?Q.firstBaseUpdate=W:T.next=W,Q.lastBaseUpdate=R))}if(g!==null){var Z=m.baseState;k=0,Q=W=R=null,T=g;do{var Y=T.lane,ce=T.eventTime;if((d&Y)===Y){Q!==null&&(Q=Q.next={eventTime:ce,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var he=n,ge=T;switch(Y=s,ce=o,ge.tag){case 1:if(he=ge.payload,typeof he=="function"){Z=he.call(ce,Z,Y);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ge.payload,Y=typeof he=="function"?he.call(ce,Z,Y):he,Y==null)break e;Z=q({},Z,Y);break e;case 2:tr=!0}}T.callback!==null&&T.lane!==0&&(n.flags|=64,Y=m.effects,Y===null?m.effects=[T]:Y.push(T))}else ce={eventTime:ce,lane:Y,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(W=Q=ce,R=Z):Q=Q.next=ce,k|=Y;if(T=T.next,T===null){if(T=m.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,m.lastBaseUpdate=Y,m.shared.pending=null}}while(!0);if(Q===null&&(R=Z),m.baseState=R,m.firstBaseUpdate=W,m.lastBaseUpdate=Q,s=m.shared.interleaved,s!==null){m=s;do k|=m.lane,m=m.next;while(m!==s)}else g===null&&(m.shared.lanes=0);Cr|=k,n.lanes=k,n.memoizedState=Z}}function rf(n,s,o){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var d=n[s],m=d.callback;if(m!==null){if(d.callback=null,d=o,typeof m!="function")throw Error(r(191,m));m.call(d)}}}var yi={},wn=Xn(yi),wi=Xn(yi),xi=Xn(yi);function jr(n){if(n===yi)throw Error(r(174));return n}function rc(n,s){switch(ze(xi,s),ze(wi,n),ze(wn,yi),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:sl(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=sl(s,n)}Ve(wn),ze(wn,s)}function as(){Ve(wn),Ve(wi),Ve(xi)}function sf(n){jr(xi.current);var s=jr(wn.current),o=sl(s,n.type);s!==o&&(ze(wi,n),ze(wn,o))}function sc(n){wi.current===n&&(Ve(wn),Ve(wi))}var Je=Xn(0);function Uo(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ic=[];function oc(){for(var n=0;n<ic.length;n++)ic[n]._workInProgressVersionPrimary=null;ic.length=0}var zo=O.ReactCurrentDispatcher,ac=O.ReactCurrentBatchConfig,Nr=0,Ye=null,ot=null,dt=null,Bo=!1,_i=!1,bi=0,zw=0;function wt(){throw Error(r(321))}function lc(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!nn(n[o],s[o]))return!1;return!0}function cc(n,s,o,d,m,g){if(Nr=g,Ye=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,zo.current=n===null||n.memoizedState===null?Hw:Gw,n=o(d,m),_i){g=0;do{if(_i=!1,bi=0,25<=g)throw Error(r(301));g+=1,dt=ot=null,s.updateQueue=null,zo.current=Kw,n=o(d,m)}while(_i)}if(zo.current=Ho,s=ot!==null&&ot.next!==null,Nr=0,dt=ot=Ye=null,Bo=!1,s)throw Error(r(300));return n}function uc(){var n=bi!==0;return bi=0,n}function xn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ye.memoizedState=dt=n:dt=dt.next=n,dt}function Jt(){if(ot===null){var n=Ye.alternate;n=n!==null?n.memoizedState:null}else n=ot.next;var s=dt===null?Ye.memoizedState:dt.next;if(s!==null)dt=s,ot=n;else{if(n===null)throw Error(r(310));ot=n,n={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},dt===null?Ye.memoizedState=dt=n:dt=dt.next=n}return dt}function Si(n,s){return typeof s=="function"?s(n):s}function dc(n){var s=Jt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var d=ot,m=d.baseQueue,g=o.pending;if(g!==null){if(m!==null){var k=m.next;m.next=g.next,g.next=k}d.baseQueue=m=g,o.pending=null}if(m!==null){g=m.next,d=d.baseState;var T=k=null,R=null,W=g;do{var Q=W.lane;if((Nr&Q)===Q)R!==null&&(R=R.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),d=W.hasEagerState?W.eagerState:n(d,W.action);else{var Z={lane:Q,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};R===null?(T=R=Z,k=d):R=R.next=Z,Ye.lanes|=Q,Cr|=Q}W=W.next}while(W!==null&&W!==g);R===null?k=d:R.next=T,nn(d,s.memoizedState)||(Rt=!0),s.memoizedState=d,s.baseState=k,s.baseQueue=R,o.lastRenderedState=d}if(n=o.interleaved,n!==null){m=n;do g=m.lane,Ye.lanes|=g,Cr|=g,m=m.next;while(m!==n)}else m===null&&(o.lanes=0);return[s.memoizedState,o.dispatch]}function hc(n){var s=Jt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var d=o.dispatch,m=o.pending,g=s.memoizedState;if(m!==null){o.pending=null;var k=m=m.next;do g=n(g,k.action),k=k.next;while(k!==m);nn(g,s.memoizedState)||(Rt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,d]}function of(){}function af(n,s){var o=Ye,d=Jt(),m=s(),g=!nn(d.memoizedState,m);if(g&&(d.memoizedState=m,Rt=!0),d=d.queue,fc(uf.bind(null,o,d,n),[n]),d.getSnapshot!==s||g||dt!==null&&dt.memoizedState.tag&1){if(o.flags|=2048,ki(9,cf.bind(null,o,d,m,s),void 0,null),ht===null)throw Error(r(349));(Nr&30)!==0||lf(o,s,m)}return m}function lf(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Ye.updateQueue,s===null?(s={lastEffect:null,stores:null},Ye.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function cf(n,s,o,d){s.value=o,s.getSnapshot=d,df(s)&&hf(n)}function uf(n,s,o){return o(function(){df(s)&&hf(n)})}function df(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!nn(n,o)}catch{return!0}}function hf(n){var s=On(n,1);s!==null&&ln(s,n,1,-1)}function ff(n){var s=xn();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:n},s.queue=n,n=n.dispatch=Vw.bind(null,Ye,n),[s.memoizedState,n]}function ki(n,s,o,d){return n={tag:n,create:s,destroy:o,deps:d,next:null},s=Ye.updateQueue,s===null?(s={lastEffect:null,stores:null},Ye.updateQueue=s,s.lastEffect=n.next=n):(o=s.lastEffect,o===null?s.lastEffect=n.next=n:(d=o.next,o.next=n,n.next=d,s.lastEffect=n)),n}function mf(){return Jt().memoizedState}function Wo(n,s,o,d){var m=xn();Ye.flags|=n,m.memoizedState=ki(1|s,o,void 0,d===void 0?null:d)}function Vo(n,s,o,d){var m=Jt();d=d===void 0?null:d;var g=void 0;if(ot!==null){var k=ot.memoizedState;if(g=k.destroy,d!==null&&lc(d,k.deps)){m.memoizedState=ki(s,o,g,d);return}}Ye.flags|=n,m.memoizedState=ki(1|s,o,g,d)}function pf(n,s){return Wo(8390656,8,n,s)}function fc(n,s){return Vo(2048,8,n,s)}function gf(n,s){return Vo(4,2,n,s)}function vf(n,s){return Vo(4,4,n,s)}function yf(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function wf(n,s,o){return o=o!=null?o.concat([n]):null,Vo(4,4,yf.bind(null,s,n),o)}function mc(){}function xf(n,s){var o=Jt();s=s===void 0?null:s;var d=o.memoizedState;return d!==null&&s!==null&&lc(s,d[1])?d[0]:(o.memoizedState=[n,s],n)}function _f(n,s){var o=Jt();s=s===void 0?null:s;var d=o.memoizedState;return d!==null&&s!==null&&lc(s,d[1])?d[0]:(n=n(),o.memoizedState=[n,s],n)}function bf(n,s,o){return(Nr&21)===0?(n.baseState&&(n.baseState=!1,Rt=!0),n.memoizedState=o):(nn(o,s)||(o=Qd(),Ye.lanes|=o,Cr|=o,n.baseState=!0),s)}function Bw(n,s){var o=Le;Le=o!==0&&4>o?o:4,n(!0);var d=ac.transition;ac.transition={};try{n(!1),s()}finally{Le=o,ac.transition=d}}function Sf(){return Jt().memoizedState}function Ww(n,s,o){var d=or(n);if(o={lane:d,action:o,hasEagerState:!1,eagerState:null,next:null},kf(n))Ef(s,o);else if(o=ef(n,s,o,d),o!==null){var m=kt();ln(o,n,d,m),jf(o,s,d)}}function Vw(n,s,o){var d=or(n),m={lane:d,action:o,hasEagerState:!1,eagerState:null,next:null};if(kf(n))Ef(s,m);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var k=s.lastRenderedState,T=g(k,o);if(m.hasEagerState=!0,m.eagerState=T,nn(T,k)){var R=s.interleaved;R===null?(m.next=m,tc(s)):(m.next=R.next,R.next=m),s.interleaved=m;return}}catch{}finally{}o=ef(n,s,m,d),o!==null&&(m=kt(),ln(o,n,d,m),jf(o,s,d))}}function kf(n){var s=n.alternate;return n===Ye||s!==null&&s===Ye}function Ef(n,s){_i=Bo=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function jf(n,s,o){if((o&4194240)!==0){var d=s.lanes;d&=n.pendingLanes,o|=d,s.lanes=o,gl(n,o)}}var Ho={readContext:qt,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},Hw={readContext:qt,useCallback:function(n,s){return xn().memoizedState=[n,s===void 0?null:s],n},useContext:qt,useEffect:pf,useImperativeHandle:function(n,s,o){return o=o!=null?o.concat([n]):null,Wo(4194308,4,yf.bind(null,s,n),o)},useLayoutEffect:function(n,s){return Wo(4194308,4,n,s)},useInsertionEffect:function(n,s){return Wo(4,2,n,s)},useMemo:function(n,s){var o=xn();return s=s===void 0?null:s,n=n(),o.memoizedState=[n,s],n},useReducer:function(n,s,o){var d=xn();return s=o!==void 0?o(s):s,d.memoizedState=d.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},d.queue=n,n=n.dispatch=Ww.bind(null,Ye,n),[d.memoizedState,n]},useRef:function(n){var s=xn();return n={current:n},s.memoizedState=n},useState:ff,useDebugValue:mc,useDeferredValue:function(n){return xn().memoizedState=n},useTransition:function(){var n=ff(!1),s=n[0];return n=Bw.bind(null,n[1]),xn().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,o){var d=Ye,m=xn();if(He){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),ht===null)throw Error(r(349));(Nr&30)!==0||lf(d,s,o)}m.memoizedState=o;var g={value:o,getSnapshot:s};return m.queue=g,pf(uf.bind(null,d,g,n),[n]),d.flags|=2048,ki(9,cf.bind(null,d,g,o,s),void 0,null),o},useId:function(){var n=xn(),s=ht.identifierPrefix;if(He){var o=An,d=Pn;o=(d&~(1<<32-tn(d)-1)).toString(32)+o,s=":"+s+"R"+o,o=bi++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=zw++,s=":"+s+"r"+o.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},Gw={readContext:qt,useCallback:xf,useContext:qt,useEffect:fc,useImperativeHandle:wf,useInsertionEffect:gf,useLayoutEffect:vf,useMemo:_f,useReducer:dc,useRef:mf,useState:function(){return dc(Si)},useDebugValue:mc,useDeferredValue:function(n){var s=Jt();return bf(s,ot.memoizedState,n)},useTransition:function(){var n=dc(Si)[0],s=Jt().memoizedState;return[n,s]},useMutableSource:of,useSyncExternalStore:af,useId:Sf,unstable_isNewReconciler:!1},Kw={readContext:qt,useCallback:xf,useContext:qt,useEffect:fc,useImperativeHandle:wf,useInsertionEffect:gf,useLayoutEffect:vf,useMemo:_f,useReducer:hc,useRef:mf,useState:function(){return hc(Si)},useDebugValue:mc,useDeferredValue:function(n){var s=Jt();return ot===null?s.memoizedState=n:bf(s,ot.memoizedState,n)},useTransition:function(){var n=hc(Si)[0],s=Jt().memoizedState;return[n,s]},useMutableSource:of,useSyncExternalStore:af,useId:Sf,unstable_isNewReconciler:!1};function sn(n,s){if(n&&n.defaultProps){s=q({},s),n=n.defaultProps;for(var o in n)s[o]===void 0&&(s[o]=n[o]);return s}return s}function pc(n,s,o,d){s=n.memoizedState,o=o(d,s),o=o==null?s:q({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Go={isMounted:function(n){return(n=n._reactInternals)?xr(n)===n:!1},enqueueSetState:function(n,s,o){n=n._reactInternals;var d=kt(),m=or(n),g=In(d,m);g.payload=s,o!=null&&(g.callback=o),s=nr(n,g,m),s!==null&&(ln(s,n,m,d),Mo(s,n,m))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var d=kt(),m=or(n),g=In(d,m);g.tag=1,g.payload=s,o!=null&&(g.callback=o),s=nr(n,g,m),s!==null&&(ln(s,n,m,d),Mo(s,n,m))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=kt(),d=or(n),m=In(o,d);m.tag=2,s!=null&&(m.callback=s),s=nr(n,m,d),s!==null&&(ln(s,n,d,o),Mo(s,n,d))}};function Nf(n,s,o,d,m,g,k){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,g,k):s.prototype&&s.prototype.isPureReactComponent?!ui(o,d)||!ui(m,g):!0}function Cf(n,s,o){var d=!1,m=Zn,g=s.contextType;return typeof g=="object"&&g!==null?g=qt(g):(m=Tt(s)?br:yt.current,d=s.contextTypes,g=(d=d!=null)?es(n,m):Zn),s=new s(o,g),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Go,n.stateNode=s,s._reactInternals=n,d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=m,n.__reactInternalMemoizedMaskedChildContext=g),s}function Tf(n,s,o,d){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,d),s.state!==n&&Go.enqueueReplaceState(s,s.state,null)}function gc(n,s,o,d){var m=n.stateNode;m.props=o,m.state=n.memoizedState,m.refs={},nc(n);var g=s.contextType;typeof g=="object"&&g!==null?m.context=qt(g):(g=Tt(s)?br:yt.current,m.context=es(n,g)),m.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(pc(n,s,g,o),m.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(s=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),s!==m.state&&Go.enqueueReplaceState(m,m.state,null),Fo(n,o,m,d),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308)}function ls(n,s){try{var o="",d=s;do o+=je(d),d=d.return;while(d);var m=o}catch(g){m=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:s,stack:m,digest:null}}function vc(n,s,o){return{value:n,source:null,stack:o??null,digest:s??null}}function yc(n,s){try{console.error(s.value)}catch(o){setTimeout(function(){throw o})}}var qw=typeof WeakMap=="function"?WeakMap:Map;function Rf(n,s,o){o=In(-1,o),o.tag=3,o.payload={element:null};var d=s.value;return o.callback=function(){Zo||(Zo=!0,Oc=d),yc(n,s)},o}function Pf(n,s,o){o=In(-1,o),o.tag=3;var d=n.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;o.payload=function(){return d(m)},o.callback=function(){yc(n,s)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(o.callback=function(){yc(n,s),typeof d!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var k=s.stack;this.componentDidCatch(s.value,{componentStack:k!==null?k:""})}),o}function Af(n,s,o){var d=n.pingCache;if(d===null){d=n.pingCache=new qw;var m=new Set;d.set(s,m)}else m=d.get(s),m===void 0&&(m=new Set,d.set(s,m));m.has(o)||(m.add(o),n=lx.bind(null,n,s,o),s.then(n,n))}function Of(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function If(n,s,o,d,m){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(s=In(-1,1),s.tag=2,nr(o,s,1))),o.lanes|=1),n):(n.flags|=65536,n.lanes=m,n)}var Jw=O.ReactCurrentOwner,Rt=!1;function St(n,s,o,d){s.child=n===null?Zh(s,null,o,d):ss(s,n.child,o,d)}function Lf(n,s,o,d,m){o=o.render;var g=s.ref;return os(s,m),d=cc(n,s,o,d,g,m),o=uc(),n!==null&&!Rt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~m,Ln(n,s,m)):(He&&o&&Gl(s),s.flags|=1,St(n,s,d,m),s.child)}function $f(n,s,o,d,m){if(n===null){var g=o.type;return typeof g=="function"&&!Uc(g)&&g.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(s.tag=15,s.type=g,Df(n,s,g,d,m)):(n=ia(o.type,null,d,s,s.mode,m),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,(n.lanes&m)===0){var k=g.memoizedProps;if(o=o.compare,o=o!==null?o:ui,o(k,d)&&n.ref===s.ref)return Ln(n,s,m)}return s.flags|=1,n=lr(g,d),n.ref=s.ref,n.return=s,s.child=n}function Df(n,s,o,d,m){if(n!==null){var g=n.memoizedProps;if(ui(g,d)&&n.ref===s.ref)if(Rt=!1,s.pendingProps=d=g,(n.lanes&m)!==0)(n.flags&131072)!==0&&(Rt=!0);else return s.lanes=n.lanes,Ln(n,s,m)}return wc(n,s,o,d,m)}function Mf(n,s,o){var d=s.pendingProps,m=d.children,g=n!==null?n.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(us,Dt),Dt|=o;else{if((o&1073741824)===0)return n=g!==null?g.baseLanes|o:o,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,ze(us,Dt),Dt|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:o,ze(us,Dt),Dt|=d}else g!==null?(d=g.baseLanes|o,s.memoizedState=null):d=o,ze(us,Dt),Dt|=d;return St(n,s,m,o),s.child}function Ff(n,s){var o=s.ref;(n===null&&o!==null||n!==null&&n.ref!==o)&&(s.flags|=512,s.flags|=2097152)}function wc(n,s,o,d,m){var g=Tt(o)?br:yt.current;return g=es(s,g),os(s,m),o=cc(n,s,o,d,g,m),d=uc(),n!==null&&!Rt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~m,Ln(n,s,m)):(He&&d&&Gl(s),s.flags|=1,St(n,s,o,m),s.child)}function Uf(n,s,o,d,m){if(Tt(o)){var g=!0;Ro(s)}else g=!1;if(os(s,m),s.stateNode===null)qo(n,s),Cf(s,o,d),gc(s,o,d,m),d=!0;else if(n===null){var k=s.stateNode,T=s.memoizedProps;k.props=T;var R=k.context,W=o.contextType;typeof W=="object"&&W!==null?W=qt(W):(W=Tt(o)?br:yt.current,W=es(s,W));var Q=o.getDerivedStateFromProps,Z=typeof Q=="function"||typeof k.getSnapshotBeforeUpdate=="function";Z||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(T!==d||R!==W)&&Tf(s,k,d,W),tr=!1;var Y=s.memoizedState;k.state=Y,Fo(s,d,k,m),R=s.memoizedState,T!==d||Y!==R||Ct.current||tr?(typeof Q=="function"&&(pc(s,o,Q,d),R=s.memoizedState),(T=tr||Nf(s,o,T,d,Y,R,W))?(Z||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(s.flags|=4194308)):(typeof k.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=R),k.props=d,k.state=R,k.context=W,d=T):(typeof k.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{k=s.stateNode,tf(n,s),T=s.memoizedProps,W=s.type===s.elementType?T:sn(s.type,T),k.props=W,Z=s.pendingProps,Y=k.context,R=o.contextType,typeof R=="object"&&R!==null?R=qt(R):(R=Tt(o)?br:yt.current,R=es(s,R));var ce=o.getDerivedStateFromProps;(Q=typeof ce=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(T!==Z||Y!==R)&&Tf(s,k,d,R),tr=!1,Y=s.memoizedState,k.state=Y,Fo(s,d,k,m);var he=s.memoizedState;T!==Z||Y!==he||Ct.current||tr?(typeof ce=="function"&&(pc(s,o,ce,d),he=s.memoizedState),(W=tr||Nf(s,o,W,d,Y,he,R)||!1)?(Q||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(d,he,R),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(d,he,R)),typeof k.componentDidUpdate=="function"&&(s.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof k.componentDidUpdate!="function"||T===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=he),k.props=d,k.state=he,k.context=R,d=W):(typeof k.componentDidUpdate!="function"||T===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),d=!1)}return xc(n,s,o,d,g,m)}function xc(n,s,o,d,m,g){Ff(n,s);var k=(s.flags&128)!==0;if(!d&&!k)return m&&Vh(s,o,!1),Ln(n,s,g);d=s.stateNode,Jw.current=s;var T=k&&typeof o.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,n!==null&&k?(s.child=ss(s,n.child,null,g),s.child=ss(s,null,T,g)):St(n,s,T,g),s.memoizedState=d.state,m&&Vh(s,o,!0),s.child}function zf(n){var s=n.stateNode;s.pendingContext?Bh(n,s.pendingContext,s.pendingContext!==s.context):s.context&&Bh(n,s.context,!1),rc(n,s.containerInfo)}function Bf(n,s,o,d,m){return rs(),Yl(m),s.flags|=256,St(n,s,o,d),s.child}var _c={dehydrated:null,treeContext:null,retryLane:0};function bc(n){return{baseLanes:n,cachePool:null,transitions:null}}function Wf(n,s,o){var d=s.pendingProps,m=Je.current,g=!1,k=(s.flags&128)!==0,T;if((T=k)||(T=n!==null&&n.memoizedState===null?!1:(m&2)!==0),T?(g=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(m|=1),ze(Je,m&1),n===null)return Jl(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(k=d.children,n=d.fallback,g?(d=s.mode,g=s.child,k={mode:"hidden",children:k},(d&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=k):g=oa(k,d,0,null),n=Ar(n,d,o,null),g.return=s,n.return=s,g.sibling=n,s.child=g,s.child.memoizedState=bc(o),s.memoizedState=_c,n):Sc(s,k));if(m=n.memoizedState,m!==null&&(T=m.dehydrated,T!==null))return Yw(n,s,k,d,T,m,o);if(g){g=d.fallback,k=s.mode,m=n.child,T=m.sibling;var R={mode:"hidden",children:d.children};return(k&1)===0&&s.child!==m?(d=s.child,d.childLanes=0,d.pendingProps=R,s.deletions=null):(d=lr(m,R),d.subtreeFlags=m.subtreeFlags&14680064),T!==null?g=lr(T,g):(g=Ar(g,k,o,null),g.flags|=2),g.return=s,d.return=s,d.sibling=g,s.child=d,d=g,g=s.child,k=n.child.memoizedState,k=k===null?bc(o):{baseLanes:k.baseLanes|o,cachePool:null,transitions:k.transitions},g.memoizedState=k,g.childLanes=n.childLanes&~o,s.memoizedState=_c,d}return g=n.child,n=g.sibling,d=lr(g,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=o),d.return=s,d.sibling=null,n!==null&&(o=s.deletions,o===null?(s.deletions=[n],s.flags|=16):o.push(n)),s.child=d,s.memoizedState=null,d}function Sc(n,s){return s=oa({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function Ko(n,s,o,d){return d!==null&&Yl(d),ss(s,n.child,null,o),n=Sc(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Yw(n,s,o,d,m,g,k){if(o)return s.flags&256?(s.flags&=-257,d=vc(Error(r(422))),Ko(n,s,k,d)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(g=d.fallback,m=s.mode,d=oa({mode:"visible",children:d.children},m,0,null),g=Ar(g,m,k,null),g.flags|=2,d.return=s,g.return=s,d.sibling=g,s.child=d,(s.mode&1)!==0&&ss(s,n.child,null,k),s.child.memoizedState=bc(k),s.memoizedState=_c,g);if((s.mode&1)===0)return Ko(n,s,k,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var T=d.dgst;return d=T,g=Error(r(419)),d=vc(g,d,void 0),Ko(n,s,k,d)}if(T=(k&n.childLanes)!==0,Rt||T){if(d=ht,d!==null){switch(k&-k){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|k))!==0?0:m,m!==0&&m!==g.retryLane&&(g.retryLane=m,On(n,m),ln(d,n,m,-1))}return Fc(),d=vc(Error(r(421))),Ko(n,s,k,d)}return m.data==="$?"?(s.flags|=128,s.child=n.child,s=cx.bind(null,n),m._reactRetry=s,null):(n=g.treeContext,$t=Qn(m.nextSibling),Lt=s,He=!0,rn=null,n!==null&&(Gt[Kt++]=Pn,Gt[Kt++]=An,Gt[Kt++]=Sr,Pn=n.id,An=n.overflow,Sr=s),s=Sc(s,d.children),s.flags|=4096,s)}function Vf(n,s,o){n.lanes|=s;var d=n.alternate;d!==null&&(d.lanes|=s),ec(n.return,s,o)}function kc(n,s,o,d,m){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:m}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=o,g.tailMode=m)}function Hf(n,s,o){var d=s.pendingProps,m=d.revealOrder,g=d.tail;if(St(n,s,d.children,o),d=Je.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Vf(n,o,s);else if(n.tag===19)Vf(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}if(ze(Je,d),(s.mode&1)===0)s.memoizedState=null;else switch(m){case"forwards":for(o=s.child,m=null;o!==null;)n=o.alternate,n!==null&&Uo(n)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),kc(s,!1,m,o,g);break;case"backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(n=m.alternate,n!==null&&Uo(n)===null){s.child=m;break}n=m.sibling,m.sibling=o,o=m,m=n}kc(s,!0,o,null,g);break;case"together":kc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function qo(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function Ln(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),Cr|=s.lanes,(o&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,o=lr(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=lr(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function Qw(n,s,o){switch(s.tag){case 3:zf(s),rs();break;case 5:sf(s);break;case 1:Tt(s.type)&&Ro(s);break;case 4:rc(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,m=s.memoizedProps.value;ze($o,d._currentValue),d._currentValue=m;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(ze(Je,Je.current&1),s.flags|=128,null):(o&s.child.childLanes)!==0?Wf(n,s,o):(ze(Je,Je.current&1),n=Ln(n,s,o),n!==null?n.sibling:null);ze(Je,Je.current&1);break;case 19:if(d=(o&s.childLanes)!==0,(n.flags&128)!==0){if(d)return Hf(n,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ze(Je,Je.current),d)break;return null;case 22:case 23:return s.lanes=0,Mf(n,s,o)}return Ln(n,s,o)}var Gf,Ec,Kf,qf;Gf=function(n,s){for(var o=s.child;o!==null;){if(o.tag===5||o.tag===6)n.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Ec=function(){},Kf=function(n,s,o,d){var m=n.memoizedProps;if(m!==d){n=s.stateNode,jr(wn.current);var g=null;switch(o){case"input":m=bt(n,m),d=bt(n,d),g=[];break;case"select":m=q({},m,{value:void 0}),d=q({},d,{value:void 0}),g=[];break;case"textarea":m=rl(n,m),d=rl(n,d),g=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(n.onclick=No)}il(o,d);var k;o=null;for(W in m)if(!d.hasOwnProperty(W)&&m.hasOwnProperty(W)&&m[W]!=null)if(W==="style"){var T=m[W];for(k in T)T.hasOwnProperty(k)&&(o||(o={}),o[k]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(a.hasOwnProperty(W)?g||(g=[]):(g=g||[]).push(W,null));for(W in d){var R=d[W];if(T=m!=null?m[W]:void 0,d.hasOwnProperty(W)&&R!==T&&(R!=null||T!=null))if(W==="style")if(T){for(k in T)!T.hasOwnProperty(k)||R&&R.hasOwnProperty(k)||(o||(o={}),o[k]="");for(k in R)R.hasOwnProperty(k)&&T[k]!==R[k]&&(o||(o={}),o[k]=R[k])}else o||(g||(g=[]),g.push(W,o)),o=R;else W==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,T=T?T.__html:void 0,R!=null&&T!==R&&(g=g||[]).push(W,R)):W==="children"?typeof R!="string"&&typeof R!="number"||(g=g||[]).push(W,""+R):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(a.hasOwnProperty(W)?(R!=null&&W==="onScroll"&&We("scroll",n),g||T===R||(g=[])):(g=g||[]).push(W,R))}o&&(g=g||[]).push("style",o);var W=g;(s.updateQueue=W)&&(s.flags|=4)}},qf=function(n,s,o,d){o!==d&&(s.flags|=4)};function Ei(n,s){if(!He)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function xt(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,d=0;if(s)for(var m=n.child;m!==null;)o|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)o|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=d,n.childLanes=o,s}function Xw(n,s,o){var d=s.pendingProps;switch(Kl(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(s),null;case 1:return Tt(s.type)&&To(),xt(s),null;case 3:return d=s.stateNode,as(),Ve(Ct),Ve(yt),oc(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(Io(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,rn!==null&&($c(rn),rn=null))),Ec(n,s),xt(s),null;case 5:sc(s);var m=jr(xi.current);if(o=s.type,n!==null&&s.stateNode!=null)Kf(n,s,o,d,m),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(r(166));return xt(s),null}if(n=jr(wn.current),Io(s)){d=s.stateNode,o=s.type;var g=s.memoizedProps;switch(d[yn]=s,d[pi]=g,n=(s.mode&1)!==0,o){case"dialog":We("cancel",d),We("close",d);break;case"iframe":case"object":case"embed":We("load",d);break;case"video":case"audio":for(m=0;m<hi.length;m++)We(hi[m],d);break;case"source":We("error",d);break;case"img":case"image":case"link":We("error",d),We("load",d);break;case"details":We("toggle",d);break;case"input":Zt(d,g),We("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},We("invalid",d);break;case"textarea":Rd(d,g),We("invalid",d)}il(o,g),m=null;for(var k in g)if(g.hasOwnProperty(k)){var T=g[k];k==="children"?typeof T=="string"?d.textContent!==T&&(g.suppressHydrationWarning!==!0&&jo(d.textContent,T,n),m=["children",T]):typeof T=="number"&&d.textContent!==""+T&&(g.suppressHydrationWarning!==!0&&jo(d.textContent,T,n),m=["children",""+T]):a.hasOwnProperty(k)&&T!=null&&k==="onScroll"&&We("scroll",d)}switch(o){case"input":Te(d),wr(d,g,!0);break;case"textarea":Te(d),Ad(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=No)}d=m,s.updateQueue=d,d!==null&&(s.flags|=4)}else{k=m.nodeType===9?m:m.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Od(o)),n==="http://www.w3.org/1999/xhtml"?o==="script"?(n=k.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof d.is=="string"?n=k.createElement(o,{is:d.is}):(n=k.createElement(o),o==="select"&&(k=n,d.multiple?k.multiple=!0:d.size&&(k.size=d.size))):n=k.createElementNS(n,o),n[yn]=s,n[pi]=d,Gf(n,s,!1,!1),s.stateNode=n;e:{switch(k=ol(o,d),o){case"dialog":We("cancel",n),We("close",n),m=d;break;case"iframe":case"object":case"embed":We("load",n),m=d;break;case"video":case"audio":for(m=0;m<hi.length;m++)We(hi[m],n);m=d;break;case"source":We("error",n),m=d;break;case"img":case"image":case"link":We("error",n),We("load",n),m=d;break;case"details":We("toggle",n),m=d;break;case"input":Zt(n,d),m=bt(n,d),We("invalid",n);break;case"option":m=d;break;case"select":n._wrapperState={wasMultiple:!!d.multiple},m=q({},d,{value:void 0}),We("invalid",n);break;case"textarea":Rd(n,d),m=rl(n,d),We("invalid",n);break;default:m=d}il(o,m),T=m;for(g in T)if(T.hasOwnProperty(g)){var R=T[g];g==="style"?$d(n,R):g==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&Id(n,R)):g==="children"?typeof R=="string"?(o!=="textarea"||R!=="")&&Ks(n,R):typeof R=="number"&&Ks(n,""+R):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(a.hasOwnProperty(g)?R!=null&&g==="onScroll"&&We("scroll",n):R!=null&&C(n,g,R,k))}switch(o){case"input":Te(n),wr(n,d,!1);break;case"textarea":Te(n),Ad(n);break;case"option":d.value!=null&&n.setAttribute("value",""+pe(d.value));break;case"select":n.multiple=!!d.multiple,g=d.value,g!=null?Br(n,!!d.multiple,g,!1):d.defaultValue!=null&&Br(n,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(n.onclick=No)}switch(o){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return xt(s),null;case 6:if(n&&s.stateNode!=null)qf(n,s,n.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(r(166));if(o=jr(xi.current),jr(wn.current),Io(s)){if(d=s.stateNode,o=s.memoizedProps,d[yn]=s,(g=d.nodeValue!==o)&&(n=Lt,n!==null))switch(n.tag){case 3:jo(d.nodeValue,o,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&jo(d.nodeValue,o,(n.mode&1)!==0)}g&&(s.flags|=4)}else d=(o.nodeType===9?o:o.ownerDocument).createTextNode(d),d[yn]=s,s.stateNode=d}return xt(s),null;case 13:if(Ve(Je),d=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(He&&$t!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Yh(),rs(),s.flags|=98560,g=!1;else if(g=Io(s),d!==null&&d.dehydrated!==null){if(n===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[yn]=s}else rs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;xt(s),g=!1}else rn!==null&&($c(rn),rn=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=o,s):(d=d!==null,d!==(n!==null&&n.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(Je.current&1)!==0?at===0&&(at=3):Fc())),s.updateQueue!==null&&(s.flags|=4),xt(s),null);case 4:return as(),Ec(n,s),n===null&&fi(s.stateNode.containerInfo),xt(s),null;case 10:return Zl(s.type._context),xt(s),null;case 17:return Tt(s.type)&&To(),xt(s),null;case 19:if(Ve(Je),g=s.memoizedState,g===null)return xt(s),null;if(d=(s.flags&128)!==0,k=g.rendering,k===null)if(d)Ei(g,!1);else{if(at!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(k=Uo(n),k!==null){for(s.flags|=128,Ei(g,!1),d=k.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=o,o=s.child;o!==null;)g=o,n=d,g.flags&=14680066,k=g.alternate,k===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=k.childLanes,g.lanes=k.lanes,g.child=k.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=k.memoizedProps,g.memoizedState=k.memoizedState,g.updateQueue=k.updateQueue,g.type=k.type,n=k.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),o=o.sibling;return ze(Je,Je.current&1|2),s.child}n=n.sibling}g.tail!==null&&tt()>ds&&(s.flags|=128,d=!0,Ei(g,!1),s.lanes=4194304)}else{if(!d)if(n=Uo(k),n!==null){if(s.flags|=128,d=!0,o=n.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),Ei(g,!0),g.tail===null&&g.tailMode==="hidden"&&!k.alternate&&!He)return xt(s),null}else 2*tt()-g.renderingStartTime>ds&&o!==1073741824&&(s.flags|=128,d=!0,Ei(g,!1),s.lanes=4194304);g.isBackwards?(k.sibling=s.child,s.child=k):(o=g.last,o!==null?o.sibling=k:s.child=k,g.last=k)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=tt(),s.sibling=null,o=Je.current,ze(Je,d?o&1|2:o&1),s):(xt(s),null);case 22:case 23:return Mc(),d=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(Dt&1073741824)!==0&&(xt(s),s.subtreeFlags&6&&(s.flags|=8192)):xt(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function Zw(n,s){switch(Kl(s),s.tag){case 1:return Tt(s.type)&&To(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return as(),Ve(Ct),Ve(yt),oc(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return sc(s),null;case 13:if(Ve(Je),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));rs()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Ve(Je),null;case 4:return as(),null;case 10:return Zl(s.type._context),null;case 22:case 23:return Mc(),null;case 24:return null;default:return null}}var Jo=!1,_t=!1,ex=typeof WeakSet=="function"?WeakSet:Set,de=null;function cs(n,s){var o=n.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(d){Xe(n,s,d)}else o.current=null}function jc(n,s,o){try{o()}catch(d){Xe(n,s,d)}}var Jf=!1;function tx(n,s){if(Ml=po,n=jh(),Rl(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var m=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var k=0,T=-1,R=-1,W=0,Q=0,Z=n,Y=null;t:for(;;){for(var ce;Z!==o||m!==0&&Z.nodeType!==3||(T=k+m),Z!==g||d!==0&&Z.nodeType!==3||(R=k+d),Z.nodeType===3&&(k+=Z.nodeValue.length),(ce=Z.firstChild)!==null;)Y=Z,Z=ce;for(;;){if(Z===n)break t;if(Y===o&&++W===m&&(T=k),Y===g&&++Q===d&&(R=k),(ce=Z.nextSibling)!==null)break;Z=Y,Y=Z.parentNode}Z=ce}o=T===-1||R===-1?null:{start:T,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(Fl={focusedElem:n,selectionRange:o},po=!1,de=s;de!==null;)if(s=de,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,de=n;else for(;de!==null;){s=de;try{var he=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var ge=he.memoizedProps,nt=he.memoizedState,M=s.stateNode,I=M.getSnapshotBeforeUpdate(s.elementType===s.type?ge:sn(s.type,ge),nt);M.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var z=s.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(re){Xe(s,s.return,re)}if(n=s.sibling,n!==null){n.return=s.return,de=n;break}de=s.return}return he=Jf,Jf=!1,he}function ji(n,s,o){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&n)===n){var g=m.destroy;m.destroy=void 0,g!==void 0&&jc(s,o,g)}m=m.next}while(m!==d)}}function Yo(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&n)===n){var d=o.create;o.destroy=d()}o=o.next}while(o!==s)}}function Nc(n){var s=n.ref;if(s!==null){var o=n.stateNode;switch(n.tag){case 5:n=o;break;default:n=o}typeof s=="function"?s(n):s.current=n}}function Yf(n){var s=n.alternate;s!==null&&(n.alternate=null,Yf(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[yn],delete s[pi],delete s[Wl],delete s[Dw],delete s[Mw])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Qf(n){return n.tag===5||n.tag===3||n.tag===4}function Xf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Qf(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Cc(n,s,o){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(n,s):o.insertBefore(n,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(n,o)):(s=o,s.appendChild(n)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=No));else if(d!==4&&(n=n.child,n!==null))for(Cc(n,s,o),n=n.sibling;n!==null;)Cc(n,s,o),n=n.sibling}function Tc(n,s,o){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(d!==4&&(n=n.child,n!==null))for(Tc(n,s,o),n=n.sibling;n!==null;)Tc(n,s,o),n=n.sibling}var mt=null,on=!1;function rr(n,s,o){for(o=o.child;o!==null;)Zf(n,s,o),o=o.sibling}function Zf(n,s,o){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(lo,o)}catch{}switch(o.tag){case 5:_t||cs(o,s);case 6:var d=mt,m=on;mt=null,rr(n,s,o),mt=d,on=m,mt!==null&&(on?(n=mt,o=o.stateNode,n.nodeType===8?n.parentNode.removeChild(o):n.removeChild(o)):mt.removeChild(o.stateNode));break;case 18:mt!==null&&(on?(n=mt,o=o.stateNode,n.nodeType===8?Bl(n.parentNode,o):n.nodeType===1&&Bl(n,o),si(n)):Bl(mt,o.stateNode));break;case 4:d=mt,m=on,mt=o.stateNode.containerInfo,on=!0,rr(n,s,o),mt=d,on=m;break;case 0:case 11:case 14:case 15:if(!_t&&(d=o.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var g=m,k=g.destroy;g=g.tag,k!==void 0&&((g&2)!==0||(g&4)!==0)&&jc(o,s,k),m=m.next}while(m!==d)}rr(n,s,o);break;case 1:if(!_t&&(cs(o,s),d=o.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=o.memoizedProps,d.state=o.memoizedState,d.componentWillUnmount()}catch(T){Xe(o,s,T)}rr(n,s,o);break;case 21:rr(n,s,o);break;case 22:o.mode&1?(_t=(d=_t)||o.memoizedState!==null,rr(n,s,o),_t=d):rr(n,s,o);break;default:rr(n,s,o)}}function em(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var o=n.stateNode;o===null&&(o=n.stateNode=new ex),s.forEach(function(d){var m=ux.bind(null,n,d);o.has(d)||(o.add(d),d.then(m,m))})}}function an(n,s){var o=s.deletions;if(o!==null)for(var d=0;d<o.length;d++){var m=o[d];try{var g=n,k=s,T=k;e:for(;T!==null;){switch(T.tag){case 5:mt=T.stateNode,on=!1;break e;case 3:mt=T.stateNode.containerInfo,on=!0;break e;case 4:mt=T.stateNode.containerInfo,on=!0;break e}T=T.return}if(mt===null)throw Error(r(160));Zf(g,k,m),mt=null,on=!1;var R=m.alternate;R!==null&&(R.return=null),m.return=null}catch(W){Xe(m,s,W)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)tm(s,n),s=s.sibling}function tm(n,s){var o=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(an(s,n),_n(n),d&4){try{ji(3,n,n.return),Yo(3,n)}catch(ge){Xe(n,n.return,ge)}try{ji(5,n,n.return)}catch(ge){Xe(n,n.return,ge)}}break;case 1:an(s,n),_n(n),d&512&&o!==null&&cs(o,o.return);break;case 5:if(an(s,n),_n(n),d&512&&o!==null&&cs(o,o.return),n.flags&32){var m=n.stateNode;try{Ks(m,"")}catch(ge){Xe(n,n.return,ge)}}if(d&4&&(m=n.stateNode,m!=null)){var g=n.memoizedProps,k=o!==null?o.memoizedProps:g,T=n.type,R=n.updateQueue;if(n.updateQueue=null,R!==null)try{T==="input"&&g.type==="radio"&&g.name!=null&&en(m,g),ol(T,k);var W=ol(T,g);for(k=0;k<R.length;k+=2){var Q=R[k],Z=R[k+1];Q==="style"?$d(m,Z):Q==="dangerouslySetInnerHTML"?Id(m,Z):Q==="children"?Ks(m,Z):C(m,Q,Z,W)}switch(T){case"input":Ht(m,g);break;case"textarea":Pd(m,g);break;case"select":var Y=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!g.multiple;var ce=g.value;ce!=null?Br(m,!!g.multiple,ce,!1):Y!==!!g.multiple&&(g.defaultValue!=null?Br(m,!!g.multiple,g.defaultValue,!0):Br(m,!!g.multiple,g.multiple?[]:"",!1))}m[pi]=g}catch(ge){Xe(n,n.return,ge)}}break;case 6:if(an(s,n),_n(n),d&4){if(n.stateNode===null)throw Error(r(162));m=n.stateNode,g=n.memoizedProps;try{m.nodeValue=g}catch(ge){Xe(n,n.return,ge)}}break;case 3:if(an(s,n),_n(n),d&4&&o!==null&&o.memoizedState.isDehydrated)try{si(s.containerInfo)}catch(ge){Xe(n,n.return,ge)}break;case 4:an(s,n),_n(n);break;case 13:an(s,n),_n(n),m=n.child,m.flags&8192&&(g=m.memoizedState!==null,m.stateNode.isHidden=g,!g||m.alternate!==null&&m.alternate.memoizedState!==null||(Ac=tt())),d&4&&em(n);break;case 22:if(Q=o!==null&&o.memoizedState!==null,n.mode&1?(_t=(W=_t)||Q,an(s,n),_t=W):an(s,n),_n(n),d&8192){if(W=n.memoizedState!==null,(n.stateNode.isHidden=W)&&!Q&&(n.mode&1)!==0)for(de=n,Q=n.child;Q!==null;){for(Z=de=Q;de!==null;){switch(Y=de,ce=Y.child,Y.tag){case 0:case 11:case 14:case 15:ji(4,Y,Y.return);break;case 1:cs(Y,Y.return);var he=Y.stateNode;if(typeof he.componentWillUnmount=="function"){d=Y,o=Y.return;try{s=d,he.props=s.memoizedProps,he.state=s.memoizedState,he.componentWillUnmount()}catch(ge){Xe(d,o,ge)}}break;case 5:cs(Y,Y.return);break;case 22:if(Y.memoizedState!==null){sm(Z);continue}}ce!==null?(ce.return=Y,de=ce):sm(Z)}Q=Q.sibling}e:for(Q=null,Z=n;;){if(Z.tag===5){if(Q===null){Q=Z;try{m=Z.stateNode,W?(g=m.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(T=Z.stateNode,R=Z.memoizedProps.style,k=R!=null&&R.hasOwnProperty("display")?R.display:null,T.style.display=Ld("display",k))}catch(ge){Xe(n,n.return,ge)}}}else if(Z.tag===6){if(Q===null)try{Z.stateNode.nodeValue=W?"":Z.memoizedProps}catch(ge){Xe(n,n.return,ge)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===n)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===n)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===n)break e;Q===Z&&(Q=null),Z=Z.return}Q===Z&&(Q=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:an(s,n),_n(n),d&4&&em(n);break;case 21:break;default:an(s,n),_n(n)}}function _n(n){var s=n.flags;if(s&2){try{e:{for(var o=n.return;o!==null;){if(Qf(o)){var d=o;break e}o=o.return}throw Error(r(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(Ks(m,""),d.flags&=-33);var g=Xf(n);Tc(n,g,m);break;case 3:case 4:var k=d.stateNode.containerInfo,T=Xf(n);Cc(n,T,k);break;default:throw Error(r(161))}}catch(R){Xe(n,n.return,R)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function nx(n,s,o){de=n,nm(n)}function nm(n,s,o){for(var d=(n.mode&1)!==0;de!==null;){var m=de,g=m.child;if(m.tag===22&&d){var k=m.memoizedState!==null||Jo;if(!k){var T=m.alternate,R=T!==null&&T.memoizedState!==null||_t;T=Jo;var W=_t;if(Jo=k,(_t=R)&&!W)for(de=m;de!==null;)k=de,R=k.child,k.tag===22&&k.memoizedState!==null?im(m):R!==null?(R.return=k,de=R):im(m);for(;g!==null;)de=g,nm(g),g=g.sibling;de=m,Jo=T,_t=W}rm(n)}else(m.subtreeFlags&8772)!==0&&g!==null?(g.return=m,de=g):rm(n)}}function rm(n){for(;de!==null;){var s=de;if((s.flags&8772)!==0){var o=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:_t||Yo(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!_t)if(o===null)d.componentDidMount();else{var m=s.elementType===s.type?o.memoizedProps:sn(s.type,o.memoizedProps);d.componentDidUpdate(m,o.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&rf(s,g,d);break;case 3:var k=s.updateQueue;if(k!==null){if(o=null,s.child!==null)switch(s.child.tag){case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}rf(s,k,o)}break;case 5:var T=s.stateNode;if(o===null&&s.flags&4){o=T;var R=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&o.focus();break;case"img":R.src&&(o.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var W=s.alternate;if(W!==null){var Q=W.memoizedState;if(Q!==null){var Z=Q.dehydrated;Z!==null&&si(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}_t||s.flags&512&&Nc(s)}catch(Y){Xe(s,s.return,Y)}}if(s===n){de=null;break}if(o=s.sibling,o!==null){o.return=s.return,de=o;break}de=s.return}}function sm(n){for(;de!==null;){var s=de;if(s===n){de=null;break}var o=s.sibling;if(o!==null){o.return=s.return,de=o;break}de=s.return}}function im(n){for(;de!==null;){var s=de;try{switch(s.tag){case 0:case 11:case 15:var o=s.return;try{Yo(4,s)}catch(R){Xe(s,o,R)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var m=s.return;try{d.componentDidMount()}catch(R){Xe(s,m,R)}}var g=s.return;try{Nc(s)}catch(R){Xe(s,g,R)}break;case 5:var k=s.return;try{Nc(s)}catch(R){Xe(s,k,R)}}}catch(R){Xe(s,s.return,R)}if(s===n){de=null;break}var T=s.sibling;if(T!==null){T.return=s.return,de=T;break}de=s.return}}var rx=Math.ceil,Qo=O.ReactCurrentDispatcher,Rc=O.ReactCurrentOwner,Yt=O.ReactCurrentBatchConfig,Oe=0,ht=null,rt=null,pt=0,Dt=0,us=Xn(0),at=0,Ni=null,Cr=0,Xo=0,Pc=0,Ci=null,Pt=null,Ac=0,ds=1/0,$n=null,Zo=!1,Oc=null,sr=null,ea=!1,ir=null,ta=0,Ti=0,Ic=null,na=-1,ra=0;function kt(){return(Oe&6)!==0?tt():na!==-1?na:na=tt()}function or(n){return(n.mode&1)===0?1:(Oe&2)!==0&&pt!==0?pt&-pt:Uw.transition!==null?(ra===0&&(ra=Qd()),ra):(n=Le,n!==0||(n=window.event,n=n===void 0?16:oh(n.type)),n)}function ln(n,s,o,d){if(50<Ti)throw Ti=0,Ic=null,Error(r(185));Zs(n,o,d),((Oe&2)===0||n!==ht)&&(n===ht&&((Oe&2)===0&&(Xo|=o),at===4&&ar(n,pt)),At(n,d),o===1&&Oe===0&&(s.mode&1)===0&&(ds=tt()+500,Po&&er()))}function At(n,s){var o=n.callbackNode;Uy(n,s);var d=ho(n,n===ht?pt:0);if(d===0)o!==null&&qd(o),n.callbackNode=null,n.callbackPriority=0;else if(s=d&-d,n.callbackPriority!==s){if(o!=null&&qd(o),s===1)n.tag===0?Fw(am.bind(null,n)):Hh(am.bind(null,n)),Lw(function(){(Oe&6)===0&&er()}),o=null;else{switch(Xd(d)){case 1:o=fl;break;case 4:o=Jd;break;case 16:o=ao;break;case 536870912:o=Yd;break;default:o=ao}o=pm(o,om.bind(null,n))}n.callbackPriority=s,n.callbackNode=o}}function om(n,s){if(na=-1,ra=0,(Oe&6)!==0)throw Error(r(327));var o=n.callbackNode;if(hs()&&n.callbackNode!==o)return null;var d=ho(n,n===ht?pt:0);if(d===0)return null;if((d&30)!==0||(d&n.expiredLanes)!==0||s)s=sa(n,d);else{s=d;var m=Oe;Oe|=2;var g=cm();(ht!==n||pt!==s)&&($n=null,ds=tt()+500,Rr(n,s));do try{ox();break}catch(T){lm(n,T)}while(!0);Xl(),Qo.current=g,Oe=m,rt!==null?s=0:(ht=null,pt=0,s=at)}if(s!==0){if(s===2&&(m=ml(n),m!==0&&(d=m,s=Lc(n,m))),s===1)throw o=Ni,Rr(n,0),ar(n,d),At(n,tt()),o;if(s===6)ar(n,d);else{if(m=n.current.alternate,(d&30)===0&&!sx(m)&&(s=sa(n,d),s===2&&(g=ml(n),g!==0&&(d=g,s=Lc(n,g))),s===1))throw o=Ni,Rr(n,0),ar(n,d),At(n,tt()),o;switch(n.finishedWork=m,n.finishedLanes=d,s){case 0:case 1:throw Error(r(345));case 2:Pr(n,Pt,$n);break;case 3:if(ar(n,d),(d&130023424)===d&&(s=Ac+500-tt(),10<s)){if(ho(n,0)!==0)break;if(m=n.suspendedLanes,(m&d)!==d){kt(),n.pingedLanes|=n.suspendedLanes&m;break}n.timeoutHandle=zl(Pr.bind(null,n,Pt,$n),s);break}Pr(n,Pt,$n);break;case 4:if(ar(n,d),(d&4194240)===d)break;for(s=n.eventTimes,m=-1;0<d;){var k=31-tn(d);g=1<<k,k=s[k],k>m&&(m=k),d&=~g}if(d=m,d=tt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*rx(d/1960))-d,10<d){n.timeoutHandle=zl(Pr.bind(null,n,Pt,$n),d);break}Pr(n,Pt,$n);break;case 5:Pr(n,Pt,$n);break;default:throw Error(r(329))}}}return At(n,tt()),n.callbackNode===o?om.bind(null,n):null}function Lc(n,s){var o=Ci;return n.current.memoizedState.isDehydrated&&(Rr(n,s).flags|=256),n=sa(n,s),n!==2&&(s=Pt,Pt=o,s!==null&&$c(s)),n}function $c(n){Pt===null?Pt=n:Pt.push.apply(Pt,n)}function sx(n){for(var s=n;;){if(s.flags&16384){var o=s.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var d=0;d<o.length;d++){var m=o[d],g=m.getSnapshot;m=m.value;try{if(!nn(g(),m))return!1}catch{return!1}}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ar(n,s){for(s&=~Pc,s&=~Xo,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var o=31-tn(s),d=1<<o;n[o]=-1,s&=~d}}function am(n){if((Oe&6)!==0)throw Error(r(327));hs();var s=ho(n,0);if((s&1)===0)return At(n,tt()),null;var o=sa(n,s);if(n.tag!==0&&o===2){var d=ml(n);d!==0&&(s=d,o=Lc(n,d))}if(o===1)throw o=Ni,Rr(n,0),ar(n,s),At(n,tt()),o;if(o===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,Pr(n,Pt,$n),At(n,tt()),null}function Dc(n,s){var o=Oe;Oe|=1;try{return n(s)}finally{Oe=o,Oe===0&&(ds=tt()+500,Po&&er())}}function Tr(n){ir!==null&&ir.tag===0&&(Oe&6)===0&&hs();var s=Oe;Oe|=1;var o=Yt.transition,d=Le;try{if(Yt.transition=null,Le=1,n)return n()}finally{Le=d,Yt.transition=o,Oe=s,(Oe&6)===0&&er()}}function Mc(){Dt=us.current,Ve(us)}function Rr(n,s){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;if(o!==-1&&(n.timeoutHandle=-1,Iw(o)),rt!==null)for(o=rt.return;o!==null;){var d=o;switch(Kl(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&To();break;case 3:as(),Ve(Ct),Ve(yt),oc();break;case 5:sc(d);break;case 4:as();break;case 13:Ve(Je);break;case 19:Ve(Je);break;case 10:Zl(d.type._context);break;case 22:case 23:Mc()}o=o.return}if(ht=n,rt=n=lr(n.current,null),pt=Dt=s,at=0,Ni=null,Pc=Xo=Cr=0,Pt=Ci=null,Er!==null){for(s=0;s<Er.length;s++)if(o=Er[s],d=o.interleaved,d!==null){o.interleaved=null;var m=d.next,g=o.pending;if(g!==null){var k=g.next;g.next=m,d.next=k}o.pending=d}Er=null}return n}function lm(n,s){do{var o=rt;try{if(Xl(),zo.current=Ho,Bo){for(var d=Ye.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Bo=!1}if(Nr=0,dt=ot=Ye=null,_i=!1,bi=0,Rc.current=null,o===null||o.return===null){at=1,Ni=s,rt=null;break}e:{var g=n,k=o.return,T=o,R=s;if(s=pt,T.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var W=R,Q=T,Z=Q.tag;if((Q.mode&1)===0&&(Z===0||Z===11||Z===15)){var Y=Q.alternate;Y?(Q.updateQueue=Y.updateQueue,Q.memoizedState=Y.memoizedState,Q.lanes=Y.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var ce=Of(k);if(ce!==null){ce.flags&=-257,If(ce,k,T,g,s),ce.mode&1&&Af(g,W,s),s=ce,R=W;var he=s.updateQueue;if(he===null){var ge=new Set;ge.add(R),s.updateQueue=ge}else he.add(R);break e}else{if((s&1)===0){Af(g,W,s),Fc();break e}R=Error(r(426))}}else if(He&&T.mode&1){var nt=Of(k);if(nt!==null){(nt.flags&65536)===0&&(nt.flags|=256),If(nt,k,T,g,s),Yl(ls(R,T));break e}}g=R=ls(R,T),at!==4&&(at=2),Ci===null?Ci=[g]:Ci.push(g),g=k;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var M=Rf(g,R,s);nf(g,M);break e;case 1:T=R;var I=g.type,z=g.stateNode;if((g.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(sr===null||!sr.has(z)))){g.flags|=65536,s&=-s,g.lanes|=s;var re=Pf(g,T,s);nf(g,re);break e}}g=g.return}while(g!==null)}dm(o)}catch(ve){s=ve,rt===o&&o!==null&&(rt=o=o.return);continue}break}while(!0)}function cm(){var n=Qo.current;return Qo.current=Ho,n===null?Ho:n}function Fc(){(at===0||at===3||at===2)&&(at=4),ht===null||(Cr&268435455)===0&&(Xo&268435455)===0||ar(ht,pt)}function sa(n,s){var o=Oe;Oe|=2;var d=cm();(ht!==n||pt!==s)&&($n=null,Rr(n,s));do try{ix();break}catch(m){lm(n,m)}while(!0);if(Xl(),Oe=o,Qo.current=d,rt!==null)throw Error(r(261));return ht=null,pt=0,at}function ix(){for(;rt!==null;)um(rt)}function ox(){for(;rt!==null&&!Py();)um(rt)}function um(n){var s=mm(n.alternate,n,Dt);n.memoizedProps=n.pendingProps,s===null?dm(n):rt=s,Rc.current=null}function dm(n){var s=n;do{var o=s.alternate;if(n=s.return,(s.flags&32768)===0){if(o=Xw(o,s,Dt),o!==null){rt=o;return}}else{if(o=Zw(o,s),o!==null){o.flags&=32767,rt=o;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{at=6,rt=null;return}}if(s=s.sibling,s!==null){rt=s;return}rt=s=n}while(s!==null);at===0&&(at=5)}function Pr(n,s,o){var d=Le,m=Yt.transition;try{Yt.transition=null,Le=1,ax(n,s,o,d)}finally{Yt.transition=m,Le=d}return null}function ax(n,s,o,d){do hs();while(ir!==null);if((Oe&6)!==0)throw Error(r(327));o=n.finishedWork;var m=n.finishedLanes;if(o===null)return null;if(n.finishedWork=null,n.finishedLanes=0,o===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var g=o.lanes|o.childLanes;if(zy(n,g),n===ht&&(rt=ht=null,pt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||ea||(ea=!0,pm(ao,function(){return hs(),null})),g=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||g){g=Yt.transition,Yt.transition=null;var k=Le;Le=1;var T=Oe;Oe|=4,Rc.current=null,tx(n,o),tm(o,n),Nw(Fl),po=!!Ml,Fl=Ml=null,n.current=o,nx(o),Ay(),Oe=T,Le=k,Yt.transition=g}else n.current=o;if(ea&&(ea=!1,ir=n,ta=m),g=n.pendingLanes,g===0&&(sr=null),Ly(o.stateNode),At(n,tt()),s!==null)for(d=n.onRecoverableError,o=0;o<s.length;o++)m=s[o],d(m.value,{componentStack:m.stack,digest:m.digest});if(Zo)throw Zo=!1,n=Oc,Oc=null,n;return(ta&1)!==0&&n.tag!==0&&hs(),g=n.pendingLanes,(g&1)!==0?n===Ic?Ti++:(Ti=0,Ic=n):Ti=0,er(),null}function hs(){if(ir!==null){var n=Xd(ta),s=Yt.transition,o=Le;try{if(Yt.transition=null,Le=16>n?16:n,ir===null)var d=!1;else{if(n=ir,ir=null,ta=0,(Oe&6)!==0)throw Error(r(331));var m=Oe;for(Oe|=4,de=n.current;de!==null;){var g=de,k=g.child;if((de.flags&16)!==0){var T=g.deletions;if(T!==null){for(var R=0;R<T.length;R++){var W=T[R];for(de=W;de!==null;){var Q=de;switch(Q.tag){case 0:case 11:case 15:ji(8,Q,g)}var Z=Q.child;if(Z!==null)Z.return=Q,de=Z;else for(;de!==null;){Q=de;var Y=Q.sibling,ce=Q.return;if(Yf(Q),Q===W){de=null;break}if(Y!==null){Y.return=ce,de=Y;break}de=ce}}}var he=g.alternate;if(he!==null){var ge=he.child;if(ge!==null){he.child=null;do{var nt=ge.sibling;ge.sibling=null,ge=nt}while(ge!==null)}}de=g}}if((g.subtreeFlags&2064)!==0&&k!==null)k.return=g,de=k;else e:for(;de!==null;){if(g=de,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:ji(9,g,g.return)}var M=g.sibling;if(M!==null){M.return=g.return,de=M;break e}de=g.return}}var I=n.current;for(de=I;de!==null;){k=de;var z=k.child;if((k.subtreeFlags&2064)!==0&&z!==null)z.return=k,de=z;else e:for(k=I;de!==null;){if(T=de,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:Yo(9,T)}}catch(ve){Xe(T,T.return,ve)}if(T===k){de=null;break e}var re=T.sibling;if(re!==null){re.return=T.return,de=re;break e}de=T.return}}if(Oe=m,er(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(lo,n)}catch{}d=!0}return d}finally{Le=o,Yt.transition=s}}return!1}function hm(n,s,o){s=ls(o,s),s=Rf(n,s,1),n=nr(n,s,1),s=kt(),n!==null&&(Zs(n,1,s),At(n,s))}function Xe(n,s,o){if(n.tag===3)hm(n,n,o);else for(;s!==null;){if(s.tag===3){hm(s,n,o);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(sr===null||!sr.has(d))){n=ls(o,n),n=Pf(s,n,1),s=nr(s,n,1),n=kt(),s!==null&&(Zs(s,1,n),At(s,n));break}}s=s.return}}function lx(n,s,o){var d=n.pingCache;d!==null&&d.delete(s),s=kt(),n.pingedLanes|=n.suspendedLanes&o,ht===n&&(pt&o)===o&&(at===4||at===3&&(pt&130023424)===pt&&500>tt()-Ac?Rr(n,0):Pc|=o),At(n,s)}function fm(n,s){s===0&&((n.mode&1)===0?s=1:(s=uo,uo<<=1,(uo&130023424)===0&&(uo=4194304)));var o=kt();n=On(n,s),n!==null&&(Zs(n,s,o),At(n,o))}function cx(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),fm(n,o)}function ux(n,s){var o=0;switch(n.tag){case 13:var d=n.stateNode,m=n.memoizedState;m!==null&&(o=m.retryLane);break;case 19:d=n.stateNode;break;default:throw Error(r(314))}d!==null&&d.delete(s),fm(n,o)}var mm;mm=function(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps||Ct.current)Rt=!0;else{if((n.lanes&o)===0&&(s.flags&128)===0)return Rt=!1,Qw(n,s,o);Rt=(n.flags&131072)!==0}else Rt=!1,He&&(s.flags&1048576)!==0&&Gh(s,Oo,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;qo(n,s),n=s.pendingProps;var m=es(s,yt.current);os(s,o),m=cc(null,s,d,n,m,o);var g=uc();return s.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Tt(d)?(g=!0,Ro(s)):g=!1,s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,nc(s),m.updater=Go,s.stateNode=m,m._reactInternals=s,gc(s,d,n,o),s=xc(null,s,d,!0,g,o)):(s.tag=0,He&&g&&Gl(s),St(null,s,m,o),s=s.child),s;case 16:d=s.elementType;e:{switch(qo(n,s),n=s.pendingProps,m=d._init,d=m(d._payload),s.type=d,m=s.tag=hx(d),n=sn(d,n),m){case 0:s=wc(null,s,d,n,o);break e;case 1:s=Uf(null,s,d,n,o);break e;case 11:s=Lf(null,s,d,n,o);break e;case 14:s=$f(null,s,d,sn(d.type,n),o);break e}throw Error(r(306,d,""))}return s;case 0:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:sn(d,m),wc(n,s,d,m,o);case 1:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:sn(d,m),Uf(n,s,d,m,o);case 3:e:{if(zf(s),n===null)throw Error(r(387));d=s.pendingProps,g=s.memoizedState,m=g.element,tf(n,s),Fo(s,d,null,o);var k=s.memoizedState;if(d=k.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){m=ls(Error(r(423)),s),s=Bf(n,s,d,o,m);break e}else if(d!==m){m=ls(Error(r(424)),s),s=Bf(n,s,d,o,m);break e}else for($t=Qn(s.stateNode.containerInfo.firstChild),Lt=s,He=!0,rn=null,o=Zh(s,null,d,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(rs(),d===m){s=Ln(n,s,o);break e}St(n,s,d,o)}s=s.child}return s;case 5:return sf(s),n===null&&Jl(s),d=s.type,m=s.pendingProps,g=n!==null?n.memoizedProps:null,k=m.children,Ul(d,m)?k=null:g!==null&&Ul(d,g)&&(s.flags|=32),Ff(n,s),St(n,s,k,o),s.child;case 6:return n===null&&Jl(s),null;case 13:return Wf(n,s,o);case 4:return rc(s,s.stateNode.containerInfo),d=s.pendingProps,n===null?s.child=ss(s,null,d,o):St(n,s,d,o),s.child;case 11:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:sn(d,m),Lf(n,s,d,m,o);case 7:return St(n,s,s.pendingProps,o),s.child;case 8:return St(n,s,s.pendingProps.children,o),s.child;case 12:return St(n,s,s.pendingProps.children,o),s.child;case 10:e:{if(d=s.type._context,m=s.pendingProps,g=s.memoizedProps,k=m.value,ze($o,d._currentValue),d._currentValue=k,g!==null)if(nn(g.value,k)){if(g.children===m.children&&!Ct.current){s=Ln(n,s,o);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var T=g.dependencies;if(T!==null){k=g.child;for(var R=T.firstContext;R!==null;){if(R.context===d){if(g.tag===1){R=In(-1,o&-o),R.tag=2;var W=g.updateQueue;if(W!==null){W=W.shared;var Q=W.pending;Q===null?R.next=R:(R.next=Q.next,Q.next=R),W.pending=R}}g.lanes|=o,R=g.alternate,R!==null&&(R.lanes|=o),ec(g.return,o,s),T.lanes|=o;break}R=R.next}}else if(g.tag===10)k=g.type===s.type?null:g.child;else if(g.tag===18){if(k=g.return,k===null)throw Error(r(341));k.lanes|=o,T=k.alternate,T!==null&&(T.lanes|=o),ec(k,o,s),k=g.sibling}else k=g.child;if(k!==null)k.return=g;else for(k=g;k!==null;){if(k===s){k=null;break}if(g=k.sibling,g!==null){g.return=k.return,k=g;break}k=k.return}g=k}St(n,s,m.children,o),s=s.child}return s;case 9:return m=s.type,d=s.pendingProps.children,os(s,o),m=qt(m),d=d(m),s.flags|=1,St(n,s,d,o),s.child;case 14:return d=s.type,m=sn(d,s.pendingProps),m=sn(d.type,m),$f(n,s,d,m,o);case 15:return Df(n,s,s.type,s.pendingProps,o);case 17:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:sn(d,m),qo(n,s),s.tag=1,Tt(d)?(n=!0,Ro(s)):n=!1,os(s,o),Cf(s,d,m),gc(s,d,m,o),xc(null,s,d,!0,n,o);case 19:return Hf(n,s,o);case 22:return Mf(n,s,o)}throw Error(r(156,s.tag))};function pm(n,s){return Kd(n,s)}function dx(n,s,o,d){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(n,s,o,d){return new dx(n,s,o,d)}function Uc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function hx(n){if(typeof n=="function")return Uc(n)?1:0;if(n!=null){if(n=n.$$typeof,n===K)return 11;if(n===ae)return 14}return 2}function lr(n,s){var o=n.alternate;return o===null?(o=Qt(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&14680064,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o}function ia(n,s,o,d,m,g){var k=2;if(d=n,typeof n=="function")Uc(n)&&(k=1);else if(typeof n=="string")k=5;else e:switch(n){case L:return Ar(o.children,m,g,s);case B:k=8,m|=8;break;case U:return n=Qt(12,o,s,m|2),n.elementType=U,n.lanes=g,n;case J:return n=Qt(13,o,s,m),n.elementType=J,n.lanes=g,n;case oe:return n=Qt(19,o,s,m),n.elementType=oe,n.lanes=g,n;case D:return oa(o,m,g,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ee:k=10;break e;case ie:k=9;break e;case K:k=11;break e;case ae:k=14;break e;case te:k=16,d=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return s=Qt(k,o,s,m),s.elementType=n,s.type=d,s.lanes=g,s}function Ar(n,s,o,d){return n=Qt(7,n,d,s),n.lanes=o,n}function oa(n,s,o,d){return n=Qt(22,n,d,s),n.elementType=D,n.lanes=o,n.stateNode={isHidden:!1},n}function zc(n,s,o){return n=Qt(6,n,null,s),n.lanes=o,n}function Bc(n,s,o){return s=Qt(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function fx(n,s,o,d,m){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pl(0),this.expirationTimes=pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pl(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Wc(n,s,o,d,m,g,k,T,R){return n=new fx(n,s,o,T,R),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Qt(3,null,null,s),n.current=g,g.stateNode=n,g.memoizedState={element:d,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},nc(g),n}function mx(n,s,o){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:d==null?null:""+d,children:n,containerInfo:s,implementation:o}}function gm(n){if(!n)return Zn;n=n._reactInternals;e:{if(xr(n)!==n||n.tag!==1)throw Error(r(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Tt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(n.tag===1){var o=n.type;if(Tt(o))return Wh(n,o,s)}return s}function vm(n,s,o,d,m,g,k,T,R){return n=Wc(o,d,!0,n,m,g,k,T,R),n.context=gm(null),o=n.current,d=kt(),m=or(o),g=In(d,m),g.callback=s??null,nr(o,g,m),n.current.lanes=m,Zs(n,m,d),At(n,d),n}function aa(n,s,o,d){var m=s.current,g=kt(),k=or(m);return o=gm(o),s.context===null?s.context=o:s.pendingContext=o,s=In(g,k),s.payload={element:n},d=d===void 0?null:d,d!==null&&(s.callback=d),n=nr(m,s,k),n!==null&&(ln(n,m,k,g),Mo(n,m,k)),k}function la(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function ym(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function Vc(n,s){ym(n,s),(n=n.alternate)&&ym(n,s)}function px(){return null}var wm=typeof reportError=="function"?reportError:function(n){console.error(n)};function Hc(n){this._internalRoot=n}ca.prototype.render=Hc.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));aa(n,s,null,null)},ca.prototype.unmount=Hc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Tr(function(){aa(null,n,null,null)}),s[Tn]=null}};function ca(n){this._internalRoot=n}ca.prototype.unstable_scheduleHydration=function(n){if(n){var s=th();n={blockedOn:null,target:n,priority:s};for(var o=0;o<qn.length&&s!==0&&s<qn[o].priority;o++);qn.splice(o,0,n),o===0&&sh(n)}};function Gc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ua(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function xm(){}function gx(n,s,o,d,m){if(m){if(typeof d=="function"){var g=d;d=function(){var W=la(k);g.call(W)}}var k=vm(s,d,n,0,null,!1,!1,"",xm);return n._reactRootContainer=k,n[Tn]=k.current,fi(n.nodeType===8?n.parentNode:n),Tr(),k}for(;m=n.lastChild;)n.removeChild(m);if(typeof d=="function"){var T=d;d=function(){var W=la(R);T.call(W)}}var R=Wc(n,0,!1,null,null,!1,!1,"",xm);return n._reactRootContainer=R,n[Tn]=R.current,fi(n.nodeType===8?n.parentNode:n),Tr(function(){aa(s,R,o,d)}),R}function da(n,s,o,d,m){var g=o._reactRootContainer;if(g){var k=g;if(typeof m=="function"){var T=m;m=function(){var R=la(k);T.call(R)}}aa(s,k,n,m)}else k=gx(o,s,n,m,d);return la(k)}Zd=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var o=Xs(s.pendingLanes);o!==0&&(gl(s,o|1),At(s,tt()),(Oe&6)===0&&(ds=tt()+500,er()))}break;case 13:Tr(function(){var d=On(n,1);if(d!==null){var m=kt();ln(d,n,1,m)}}),Vc(n,1)}},vl=function(n){if(n.tag===13){var s=On(n,134217728);if(s!==null){var o=kt();ln(s,n,134217728,o)}Vc(n,134217728)}},eh=function(n){if(n.tag===13){var s=or(n),o=On(n,s);if(o!==null){var d=kt();ln(o,n,s,d)}Vc(n,s)}},th=function(){return Le},nh=function(n,s){var o=Le;try{return Le=n,s()}finally{Le=o}},cl=function(n,s,o){switch(s){case"input":if(Ht(n,o),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<o.length;s++){var d=o[s];if(d!==n&&d.form===n.form){var m=Co(d);if(!m)throw Error(r(90));Pe(d),Ht(d,m)}}}break;case"textarea":Pd(n,o);break;case"select":s=o.value,s!=null&&Br(n,!!o.multiple,s,!1)}},Ud=Dc,zd=Tr;var vx={usingClientEntryPoint:!1,Events:[gi,Xr,Co,Md,Fd,Dc]},Ri={findFiberByHostInstance:_r,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yx={bundleType:Ri.bundleType,version:Ri.version,rendererPackageName:Ri.rendererPackageName,rendererConfig:Ri.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Hd(n),n===null?null:n.stateNode},findFiberByHostInstance:Ri.findFiberByHostInstance||px,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ha=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ha.isDisabled&&ha.supportsFiber)try{lo=ha.inject(yx),vn=ha}catch{}}return Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vx,Ot.createPortal=function(n,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gc(s))throw Error(r(200));return mx(n,s,null,o)},Ot.createRoot=function(n,s){if(!Gc(n))throw Error(r(299));var o=!1,d="",m=wm;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),s=Wc(n,1,!1,null,null,o,!1,d,m),n[Tn]=s.current,fi(n.nodeType===8?n.parentNode:n),new Hc(s)},Ot.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=Hd(s),n=n===null?null:n.stateNode,n},Ot.flushSync=function(n){return Tr(n)},Ot.hydrate=function(n,s,o){if(!ua(s))throw Error(r(200));return da(null,n,s,!0,o)},Ot.hydrateRoot=function(n,s,o){if(!Gc(n))throw Error(r(405));var d=o!=null&&o.hydratedSources||null,m=!1,g="",k=wm;if(o!=null&&(o.unstable_strictMode===!0&&(m=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onRecoverableError!==void 0&&(k=o.onRecoverableError)),s=vm(s,null,n,1,o??null,m,!1,g,k),n[Tn]=s.current,fi(n),d)for(n=0;n<d.length;n++)o=d[n],m=o._getVersion,m=m(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,m]:s.mutableSourceEagerHydrationData.push(o,m);return new ca(s)},Ot.render=function(n,s,o){if(!ua(s))throw Error(r(200));return da(null,n,s,!1,o)},Ot.unmountComponentAtNode=function(n){if(!ua(n))throw Error(r(40));return n._reactRootContainer?(Tr(function(){da(null,null,n,!1,function(){n._reactRootContainer=null,n[Tn]=null})}),!0):!1},Ot.unstable_batchedUpdates=Dc,Ot.unstable_renderSubtreeIntoContainer=function(n,s,o,d){if(!ua(o))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return da(n,s,o,!1,d)},Ot.version="18.3.1-next-f1338f8080-20240426",Ot}var Cm;function Hp(){if(Cm)return Jc.exports;Cm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Jc.exports=Nx(),Jc.exports}var Tm;function Cx(){if(Tm)return fa;Tm=1;var t=Hp();return fa.createRoot=t.createRoot,fa.hydrateRoot=t.hydrateRoot,fa}var Tx=Cx();const Rx=ed(Tx);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Rm="popstate";function Px(t={}){function e(i,a){let{pathname:l,search:u,hash:h}=i.location;return ku("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){return typeof a=="string"?a:zi(a)}return Ox(e,r,null,t)}function Ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ax(){return Math.random().toString(36).substring(2,10)}function Pm(t,e){return{usr:t.state,key:t.key,idx:e}}function ku(t,e,r=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?$s(e):e,state:r,key:e&&e.key||i||Ax()}}function zi({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function $s(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function Ox(t,e,r,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,h="POP",f=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function w(){h="POP";let S=v(),j=S==null?null:S-p;p=S,f&&f({action:h,location:x.location,delta:j})}function _(S,j){h="PUSH";let N=ku(x.location,S,j);p=v()+1;let C=Pm(N,p),O=x.createHref(N);try{u.pushState(C,"",O)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;a.location.assign(O)}l&&f&&f({action:h,location:x.location,delta:1})}function b(S,j){h="REPLACE";let N=ku(x.location,S,j);p=v();let C=Pm(N,p),O=x.createHref(N);u.replaceState(C,"",O),l&&f&&f({action:h,location:x.location,delta:0})}function E(S){return Ix(S)}let x={get action(){return h},get location(){return t(a,u)},listen(S){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Rm,w),f=S,()=>{a.removeEventListener(Rm,w),f=null}},createHref(S){return e(a,S)},createURL:E,encodeLocation(S){let j=E(S);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:_,replace:b,go(S){return u.go(S)}};return x}function Ix(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ke(r,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:zi(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=r+i),new URL(i,r)}function Gp(t,e,r="/"){return Lx(t,e,r,!1)}function Lx(t,e,r,i){let a=typeof e=="string"?$s(e):e,l=Un(a.pathname||"/",r);if(l==null)return null;let u=Kp(t);$x(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=Kx(l);h=Hx(u[f],p,i)}return h}function Kp(t,e=[],r=[],i="",a=!1){let l=(u,h,f=a,p)=>{let v={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&f)return;Ke(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let w=Fn([i,v.relativePath]),_=r.concat(v);u.children&&u.children.length>0&&(Ke(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Kp(u.children,e,_,w,f)),!(u.path==null&&!u.index)&&e.push({path:w,score:Wx(w,u.index),routesMeta:_})};return t.forEach((u,h)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))l(u,h);else for(let p of qp(u.path))l(u,h,!0,p)}),e}function qp(t){let e=t.split("/");if(e.length===0)return[];let[r,...i]=e,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=qp(i.join("/")),h=[];return h.push(...u.map(f=>f===""?l:[l,f].join("/"))),a&&h.push(...u),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function $x(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Vx(e.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var Dx=/^:[\w-]+$/,Mx=3,Fx=2,Ux=1,zx=10,Bx=-2,Am=t=>t==="*";function Wx(t,e){let r=t.split("/"),i=r.length;return r.some(Am)&&(i+=Bx),e&&(i+=Fx),r.filter(a=>!Am(a)).reduce((a,l)=>a+(Dx.test(l)?Mx:l===""?Ux:zx),i)}function Vx(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function Hx(t,e,r=!1){let{routesMeta:i}=t,a={},l="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],p=h===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",w=Ia({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},v),_=f.route;if(!w&&p&&r&&!i[i.length-1].route.index&&(w=Ia({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!w)return null;Object.assign(a,w.params),u.push({params:a,pathname:Fn([l,w.pathname]),pathnameBase:Qx(Fn([l,w.pathnameBase])),route:_}),w.pathnameBase!=="/"&&(l=Fn([l,w.pathnameBase]))}return u}function Ia(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,i]=Gx(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:w},_)=>{if(v==="*"){let E=h[_]||"";u=l.slice(0,l.length-E.length).replace(/(.)\/+$/,"$1")}const b=h[_];return w&&!b?p[v]=void 0:p[v]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function Gx(t,e=!1,r=!0){Wt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function Kx(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Un(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,i=t.charAt(r);return i&&i!=="/"?null:t.slice(r)||"/"}var Jp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qx=t=>Jp.test(t);function Jx(t,e="/"){let{pathname:r,search:i="",hash:a=""}=typeof t=="string"?$s(t):t,l;if(r)if(qx(r))l=r;else{if(r.includes("//")){let u=r;r=r.replace(/\/\/+/g,"/"),Wt(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${r}`)}r.startsWith("/")?l=Om(r.substring(1),"/"):l=Om(r,e)}else l=e;return{pathname:l,search:Xx(i),hash:Zx(a)}}function Om(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Xc(t,e,r,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Yx(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function nd(t){let e=Yx(t);return e.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase)}function rd(t,e,r,i=!1){let a;typeof t=="string"?a=$s(t):(a={...t},Ke(!a.pathname||!a.pathname.includes("?"),Xc("?","pathname","search",a)),Ke(!a.pathname||!a.pathname.includes("#"),Xc("#","pathname","hash",a)),Ke(!a.search||!a.search.includes("#"),Xc("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=r;else{let w=e.length-1;if(!i&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),w-=1;a.pathname=_.join("/")}h=w>=0?e[w]:"/"}let f=Jx(a,h),p=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(p||v)&&(f.pathname+="/"),f}var Fn=t=>t.join("/").replace(/\/\/+/g,"/"),Qx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Xx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Zx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,e_=class{constructor(t,e,r,i=!1){this.status=t,this.statusText=e||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function t_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function n_(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Yp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Qp(t,e){let r=t;if(typeof r!="string"||!Jp.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let i=r,a=!1;if(Yp)try{let l=new URL(window.location.href),u=r.startsWith("//")?new URL(l.protocol+r):new URL(r),h=Un(u.pathname,e);u.origin===l.origin&&h!=null?r=h+u.search+u.hash:a=!0}catch{Wt(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Xp=["POST","PUT","PATCH","DELETE"];new Set(Xp);var r_=["GET",...Xp];new Set(r_);var Ds=y.createContext(null);Ds.displayName="DataRouter";var Va=y.createContext(null);Va.displayName="DataRouterState";var s_=y.createContext(!1),Zp=y.createContext({isTransitioning:!1});Zp.displayName="ViewTransition";var i_=y.createContext(new Map);i_.displayName="Fetchers";var o_=y.createContext(null);o_.displayName="Await";var Vt=y.createContext(null);Vt.displayName="Navigation";var Yi=y.createContext(null);Yi.displayName="Location";var pn=y.createContext({outlet:null,matches:[],isDataRoute:!1});pn.displayName="Route";var sd=y.createContext(null);sd.displayName="RouteError";var eg="REACT_ROUTER_ERROR",a_="REDIRECT",l_="ROUTE_ERROR_RESPONSE";function c_(t){if(t.startsWith(`${eg}:${a_}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function u_(t){if(t.startsWith(`${eg}:${l_}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new e_(e.status,e.statusText,e.data)}catch{}}function d_(t,{relative:e}={}){Ke(Ms(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=y.useContext(Vt),{hash:a,pathname:l,search:u}=Qi(t,{relative:e}),h=l;return r!=="/"&&(h=l==="/"?r:Fn([r,l])),i.createHref({pathname:h,search:u,hash:a})}function Ms(){return y.useContext(Yi)!=null}function gn(){return Ke(Ms(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Yi).location}var tg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ng(t){y.useContext(Vt).static||y.useLayoutEffect(t)}function Fs(){let{isDataRoute:t}=y.useContext(pn);return t?k_():h_()}function h_(){Ke(Ms(),"useNavigate() may be used only in the context of a <Router> component.");let t=y.useContext(Ds),{basename:e,navigator:r}=y.useContext(Vt),{matches:i}=y.useContext(pn),{pathname:a}=gn(),l=JSON.stringify(nd(i)),u=y.useRef(!1);return ng(()=>{u.current=!0}),y.useCallback((f,p={})=>{if(Wt(u.current,tg),!u.current)return;if(typeof f=="number"){r.go(f);return}let v=rd(f,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Fn([e,v.pathname])),(p.replace?r.replace:r.push)(v,p.state,p)},[e,r,l,a,t])}y.createContext(null);function rg(){let{matches:t}=y.useContext(pn),e=t[t.length-1];return e?e.params:{}}function Qi(t,{relative:e}={}){let{matches:r}=y.useContext(pn),{pathname:i}=gn(),a=JSON.stringify(nd(r));return y.useMemo(()=>rd(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function f_(t,e){return sg(t,e)}function sg(t,e,r,i,a){var N;Ke(Ms(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=y.useContext(Vt),{matches:u}=y.useContext(pn),h=u[u.length-1],f=h?h.params:{},p=h?h.pathname:"/",v=h?h.pathnameBase:"/",w=h&&h.route;{let C=w&&w.path||"";og(p,!w||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let _=gn(),b;if(e){let C=typeof e=="string"?$s(e):e;Ke(v==="/"||((N=C.pathname)==null?void 0:N.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${C.pathname}" was given in the \`location\` prop.`),b=C}else b=_;let E=b.pathname||"/",x=E;if(v!=="/"){let C=v.replace(/^\//,"").split("/");x="/"+E.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=Gp(t,{pathname:x});Wt(w||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Wt(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=y_(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},f,C.params),pathname:Fn([v,l.encodeLocation?l.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?v:Fn([v,l.encodeLocation?l.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),u,r,i,a);return e&&j?y.createElement(Yi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},j):j}function m_(){let t=S_(),e=t_(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:l},"ErrorBoundary")," or"," ",y.createElement("code",{style:l},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),r?y.createElement("pre",{style:a},r):null,u)}var p_=y.createElement(m_,null),ig=class extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const r=u_(t.digest);r&&(t=r)}let e=t!==void 0?y.createElement(pn.Provider,{value:this.props.routeContext},y.createElement(sd.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?y.createElement(g_,{error:t},e):e}};ig.contextType=s_;var Zc=new WeakMap;function g_({children:t,error:e}){let{basename:r}=y.useContext(Vt);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=c_(e.digest);if(i){let a=Zc.get(e);if(a)throw a;let l=Qp(i.location,r);if(Yp&&!Zc.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw Zc.set(e,u),u}return y.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function v_({routeContext:t,match:e,children:r}){let i=y.useContext(Ds);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(pn.Provider,{value:t},r)}function y_(t,e=[],r=null,i=null,a=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let l=t,u=r==null?void 0:r.errors;if(u!=null){let v=l.findIndex(w=>w.route.id&&(u==null?void 0:u[w.route.id])!==void 0);Ke(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let h=!1,f=-1;if(r)for(let v=0;v<l.length;v++){let w=l[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(f=v),w.route.id){let{loaderData:_,errors:b}=r,E=w.route.loader&&!_.hasOwnProperty(w.route.id)&&(!b||b[w.route.id]===void 0);if(w.route.lazy||E){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let p=r&&i?(v,w)=>{var _,b;i(v,{location:r.location,params:((b=(_=r.matches)==null?void 0:_[0])==null?void 0:b.params)??{},unstable_pattern:n_(r.matches),errorInfo:w})}:void 0;return l.reduceRight((v,w,_)=>{let b,E=!1,x=null,S=null;r&&(b=u&&w.route.id?u[w.route.id]:void 0,x=w.route.errorElement||p_,h&&(f<0&&_===0?(og("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,S=null):f===_&&(E=!0,S=w.route.hydrateFallbackElement||null)));let j=e.concat(l.slice(0,_+1)),N=()=>{let C;return b?C=x:E?C=S:w.route.Component?C=y.createElement(w.route.Component,null):w.route.element?C=w.route.element:C=v,y.createElement(v_,{match:w,routeContext:{outlet:v,matches:j,isDataRoute:r!=null},children:C})};return r&&(w.route.ErrorBoundary||w.route.errorElement||_===0)?y.createElement(ig,{location:r.location,revalidation:r.revalidation,component:x,error:b,children:N(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:p}):N()},null)}function id(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w_(t){let e=y.useContext(Ds);return Ke(e,id(t)),e}function x_(t){let e=y.useContext(Va);return Ke(e,id(t)),e}function __(t){let e=y.useContext(pn);return Ke(e,id(t)),e}function od(t){let e=__(t),r=e.matches[e.matches.length-1];return Ke(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function b_(){return od("useRouteId")}function S_(){var i;let t=y.useContext(sd),e=x_("useRouteError"),r=od("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[r]}function k_(){let{router:t}=w_("useNavigate"),e=od("useNavigate"),r=y.useRef(!1);return ng(()=>{r.current=!0}),y.useCallback(async(a,l={})=>{Wt(r.current,tg),r.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Im={};function og(t,e,r){!e&&!Im[t]&&(Im[t]=!0,Wt(!1,r))}y.memo(E_);function E_({routes:t,future:e,state:r,onError:i}){return sg(t,void 0,r,i,e)}function Ca({to:t,replace:e,state:r,relative:i}){Ke(Ms(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=y.useContext(Vt);Wt(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=y.useContext(pn),{pathname:u}=gn(),h=Fs(),f=rd(t,nd(l),u,i==="path"),p=JSON.stringify(f);return y.useEffect(()=>{h(JSON.parse(p),{replace:e,state:r,relative:i})},[h,p,i,e,r]),null}function Ze(t){Ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function j_({basename:t="/",children:e=null,location:r,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){Ke(!Ms(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),f=y.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[h,a,l,u]);typeof r=="string"&&(r=$s(r));let{pathname:p="/",search:v="",hash:w="",state:_=null,key:b="default"}=r,E=y.useMemo(()=>{let x=Un(p,h);return x==null?null:{location:{pathname:x,search:v,hash:w,state:_,key:b},navigationType:i}},[h,p,v,w,_,b,i]);return Wt(E!=null,`<Router basename="${h}"> is not able to match the URL "${p}${v}${w}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:y.createElement(Vt.Provider,{value:f},y.createElement(Yi.Provider,{children:e,value:E}))}function N_({children:t,location:e}){return f_(Eu(t),e)}function Eu(t,e=[]){let r=[];return y.Children.forEach(t,(i,a)=>{if(!y.isValidElement(i))return;let l=[...e,a];if(i.type===y.Fragment){r.push.apply(r,Eu(i.props.children,l));return}Ke(i.type===Ze,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ke(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Eu(i.props.children,l)),r.push(u)}),r}var Ta="get",Ra="application/x-www-form-urlencoded";function Ha(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function C_(t){return Ha(t)&&t.tagName.toLowerCase()==="button"}function T_(t){return Ha(t)&&t.tagName.toLowerCase()==="form"}function R_(t){return Ha(t)&&t.tagName.toLowerCase()==="input"}function P_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function A_(t,e){return t.button===0&&(!e||e==="_self")&&!P_(t)}function ju(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let i=t[r];return e.concat(Array.isArray(i)?i.map(a=>[r,a]):[[r,i]])},[]))}function O_(t,e){let r=ju(t);return e&&e.forEach((i,a)=>{r.has(a)||e.getAll(a).forEach(l=>{r.append(a,l)})}),r}var ma=null;function I_(){if(ma===null)try{new FormData(document.createElement("form"),0),ma=!1}catch{ma=!0}return ma}var L_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function eu(t){return t!=null&&!L_.has(t)?(Wt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ra}"`),null):t}function $_(t,e){let r,i,a,l,u;if(T_(t)){let h=t.getAttribute("action");i=h?Un(h,e):null,r=t.getAttribute("method")||Ta,a=eu(t.getAttribute("enctype"))||Ra,l=new FormData(t)}else if(C_(t)||R_(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(i=f?Un(f,e):null,r=t.getAttribute("formmethod")||h.getAttribute("method")||Ta,a=eu(t.getAttribute("formenctype"))||eu(h.getAttribute("enctype"))||Ra,l=new FormData(h,t),!I_()){let{name:p,type:v,value:w}=t;if(v==="image"){let _=p?`${p}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else p&&l.append(p,w)}}else{if(Ha(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ta,i=null,a=Ra,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:r.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ad(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function D_(t,e,r,i){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&Un(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function M_(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function F_(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function U_(t,e,r){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await M_(l,r);return u.links?u.links():[]}return[]}));return V_(i.flat(1).filter(F_).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Lm(t,e,r,i,a,l){let u=(f,p)=>r[p]?f.route.id!==r[p].route.id:!0,h=(f,p)=>{var v;return r[p].pathname!==f.pathname||((v=r[p].route.path)==null?void 0:v.endsWith("*"))&&r[p].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,p)=>u(f,p)||h(f,p)):l==="data"?e.filter((f,p)=>{var w;let v=i.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((w=r[0])==null?void 0:w.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function z_(t,e,{includeHydrateFallback:r}={}){return B_(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function B_(t){return[...new Set(t)]}function W_(t){let e={},r=Object.keys(t).sort();for(let i of r)e[i]=t[i];return e}function V_(t,e){let r=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(W_(a));return r.has(l)||(r.add(l),i.push({key:l,link:a})),i},[])}function ag(){let t=y.useContext(Ds);return ad(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function H_(){let t=y.useContext(Va);return ad(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ld=y.createContext(void 0);ld.displayName="FrameworkContext";function lg(){let t=y.useContext(ld);return ad(t,"You must render this element inside a <HydratedRouter> element"),t}function G_(t,e){let r=y.useContext(ld),[i,a]=y.useState(!1),[l,u]=y.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:v,onTouchStart:w}=e,_=y.useRef(null);y.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let x=j=>{j.forEach(N=>{u(N.isIntersecting)})},S=new IntersectionObserver(x,{threshold:.5});return _.current&&S.observe(_.current),()=>{S.disconnect()}}},[t]),y.useEffect(()=>{if(i){let x=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(x)}}},[i]);let b=()=>{a(!0)},E=()=>{a(!1),u(!1)};return r?t!=="intent"?[l,_,{}]:[l,_,{onFocus:Ai(h,b),onBlur:Ai(f,E),onMouseEnter:Ai(p,b),onMouseLeave:Ai(v,E),onTouchStart:Ai(w,b)}]:[!1,_,{}]}function Ai(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function K_({page:t,...e}){let{router:r}=ag(),i=y.useMemo(()=>Gp(r.routes,t,r.basename),[r.routes,t,r.basename]);return i?y.createElement(J_,{page:t,matches:i,...e}):null}function q_(t){let{manifest:e,routeModules:r}=lg(),[i,a]=y.useState([]);return y.useEffect(()=>{let l=!1;return U_(t,e,r).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,r]),i}function J_({page:t,matches:e,...r}){let i=gn(),{future:a,manifest:l,routeModules:u}=lg(),{basename:h}=ag(),{loaderData:f,matches:p}=H_(),v=y.useMemo(()=>Lm(t,e,p,l,i,"data"),[t,e,p,l,i]),w=y.useMemo(()=>Lm(t,e,p,l,i,"assets"),[t,e,p,l,i]),_=y.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let x=new Set,S=!1;if(e.forEach(N=>{var O;let C=l.routes[N.route.id];!C||!C.hasLoader||(!v.some($=>$.route.id===N.route.id)&&N.route.id in f&&((O=u[N.route.id])!=null&&O.shouldRevalidate)||C.hasClientLoader?S=!0:x.add(N.route.id))}),x.size===0)return[];let j=D_(t,h,a.unstable_trailingSlashAwareDataRequests,"data");return S&&x.size>0&&j.searchParams.set("_routes",e.filter(N=>x.has(N.route.id)).map(N=>N.route.id).join(",")),[j.pathname+j.search]},[h,a.unstable_trailingSlashAwareDataRequests,f,i,l,v,e,t,u]),b=y.useMemo(()=>z_(w,l),[w,l]),E=q_(w);return y.createElement(y.Fragment,null,_.map(x=>y.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...r})),b.map(x=>y.createElement("link",{key:x,rel:"modulepreload",href:x,...r})),E.map(({key:x,link:S})=>y.createElement("link",{key:x,nonce:r.nonce,...S})))}function Y_(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Q_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Q_&&(window.__reactRouterVersion="7.12.0")}catch{}function X_({basename:t,children:e,unstable_useTransitions:r,window:i}){let a=y.useRef();a.current==null&&(a.current=Px({window:i,v5Compat:!0}));let l=a.current,[u,h]=y.useState({action:l.action,location:l.location}),f=y.useCallback(p=>{r===!1?h(p):y.startTransition(()=>h(p))},[r]);return y.useLayoutEffect(()=>l.listen(f),[l,f]),y.createElement(j_,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:r})}var cg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ge=y.forwardRef(function({onClick:e,discover:r="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:h,target:f,to:p,preventScrollReset:v,viewTransition:w,unstable_defaultShouldRevalidate:_,...b},E){let{basename:x,unstable_useTransitions:S}=y.useContext(Vt),j=typeof p=="string"&&cg.test(p),N=Qp(p,x);p=N.to;let C=d_(p,{relative:a}),[O,$,F]=G_(i,b),L=n0(p,{replace:u,state:h,target:f,preventScrollReset:v,relative:a,viewTransition:w,unstable_defaultShouldRevalidate:_,unstable_useTransitions:S});function B(ee){e&&e(ee),ee.defaultPrevented||L(ee)}let U=y.createElement("a",{...b,...F,href:N.absoluteURL||C,onClick:N.isExternal||l?e:B,ref:Y_(E,$),target:f,"data-discover":!j&&r==="render"?"true":void 0});return O&&!j?y.createElement(y.Fragment,null,U,y.createElement(K_,{page:C})):U});Ge.displayName="Link";var Z_=y.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:h,children:f,...p},v){let w=Qi(u,{relative:p.relative}),_=gn(),b=y.useContext(Va),{navigator:E,basename:x}=y.useContext(Vt),S=b!=null&&a0(w)&&h===!0,j=E.encodeLocation?E.encodeLocation(w).pathname:w.pathname,N=_.pathname,C=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(N=N.toLowerCase(),C=C?C.toLowerCase():null,j=j.toLowerCase()),C&&x&&(C=Un(C,x)||C);const O=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let $=N===j||!a&&N.startsWith(j)&&N.charAt(O)==="/",F=C!=null&&(C===j||!a&&C.startsWith(j)&&C.charAt(j.length)==="/"),L={isActive:$,isPending:F,isTransitioning:S},B=$?e:void 0,U;typeof i=="function"?U=i(L):U=[i,$?"active":null,F?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let ee=typeof l=="function"?l(L):l;return y.createElement(Ge,{...p,"aria-current":B,className:U,ref:v,style:ee,to:u,viewTransition:h},typeof f=="function"?f(L):f)});Z_.displayName="NavLink";var e0=y.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:i,replace:a,state:l,method:u=Ta,action:h,onSubmit:f,relative:p,preventScrollReset:v,viewTransition:w,unstable_defaultShouldRevalidate:_,...b},E)=>{let{unstable_useTransitions:x}=y.useContext(Vt),S=i0(),j=o0(h,{relative:p}),N=u.toLowerCase()==="get"?"get":"post",C=typeof h=="string"&&cg.test(h),O=$=>{if(f&&f($),$.defaultPrevented)return;$.preventDefault();let F=$.nativeEvent.submitter,L=(F==null?void 0:F.getAttribute("formmethod"))||u,B=()=>S(F||$.currentTarget,{fetcherKey:e,method:L,navigate:r,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:w,unstable_defaultShouldRevalidate:_});x&&r!==!1?y.startTransition(()=>B()):B()};return y.createElement("form",{ref:E,method:N,action:j,onSubmit:i?f:O,...b,"data-discover":!C&&t==="render"?"true":void 0})});e0.displayName="Form";function t0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ug(t){let e=y.useContext(Ds);return Ke(e,t0(t)),e}function n0(t,{target:e,replace:r,state:i,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:h,unstable_useTransitions:f}={}){let p=Fs(),v=gn(),w=Qi(t,{relative:l});return y.useCallback(_=>{if(A_(_,e)){_.preventDefault();let b=r!==void 0?r:zi(v)===zi(w),E=()=>p(t,{replace:b,state:i,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:h});f?y.startTransition(()=>E()):E()}},[v,p,w,r,i,e,t,a,l,u,h,f])}function dg(t){Wt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=y.useRef(ju(t)),r=y.useRef(!1),i=gn(),a=y.useMemo(()=>O_(i.search,r.current?null:e.current),[i.search]),l=Fs(),u=y.useCallback((h,f)=>{const p=ju(typeof h=="function"?h(new URLSearchParams(a)):h);r.current=!0,l("?"+p,f)},[l,a]);return[a,u]}var r0=0,s0=()=>`__${String(++r0)}__`;function i0(){let{router:t}=ug("useSubmit"),{basename:e}=y.useContext(Vt),r=b_(),i=t.fetch,a=t.navigate;return y.useCallback(async(l,u={})=>{let{action:h,method:f,encType:p,formData:v,body:w}=$_(l,e);if(u.navigate===!1){let _=u.fetcherKey||s0();await i(_,r,u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:w,formMethod:u.method||f,formEncType:u.encType||p,flushSync:u.flushSync})}else await a(u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:w,formMethod:u.method||f,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:r,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,a,e,r])}function o0(t,{relative:e}={}){let{basename:r}=y.useContext(Vt),i=y.useContext(pn);Ke(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Qi(t||".",{relative:e})},u=gn();if(t==null){l.search=u.search;let h=new URLSearchParams(l.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(w=>w).forEach(w=>h.append("index",w));let v=h.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:Fn([r,l.pathname])),zi(l)}function a0(t,{relative:e}={}){let r=y.useContext(Zp);Ke(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ug("useViewTransitionState"),a=Qi(t,{relative:e});if(!r.isTransitioning)return!1;let l=Un(r.currentLocation.pathname,i)||r.currentLocation.pathname,u=Un(r.nextLocation.pathname,i)||r.nextLocation.pathname;return Ia(a.pathname,u)!=null||Ia(a.pathname,l)!=null}var Xi=Hp();const l0=ed(Xi);var Sn=function(){return Sn=Object.assign||function(e){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},Sn.apply(this,arguments)};function Us(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(r[i[a]]=t[i[a]]);return r}function c0(t,e,r,i){function a(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function h(v){try{p(i.next(v))}catch(w){u(w)}}function f(v){try{p(i.throw(v))}catch(w){u(w)}}function p(v){v.done?l(v.value):a(v.value).then(h,f)}p((i=i.apply(t,e||[])).next())})}function u0(t,e,r){if(r||arguments.length===2)for(var i=0,a=e.length,l;i<a;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return t.concat(l||Array.prototype.slice.call(e))}const d0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class cd extends Error{constructor(e,r="FunctionsError",i){super(e),this.name=r,this.context=i}}class h0 extends cd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class $m extends cd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Dm extends cd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Nu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Nu||(Nu={}));class f0{constructor(e,{headers:r={},customFetch:i,region:a=Nu.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=d0(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return c0(this,arguments,void 0,function*(r,i={}){var a;let l,u;try{const{headers:h,method:f,body:p,signal:v,timeout:w}=i;let _={},{region:b}=i;b||(b=this.region);const E=new URL(`${this.url}/${r}`);b&&b!=="any"&&(_["x-region"]=b,E.searchParams.set("forceFunctionRegion",b));let x;p&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",x=p):typeof p=="string"?(_["Content-Type"]="text/plain",x=p):typeof FormData<"u"&&p instanceof FormData?x=p:(_["Content-Type"]="application/json",x=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?x=JSON.stringify(p):x=p;let S=v;w&&(u=new AbortController,l=setTimeout(()=>u.abort(),w),v?(S=u.signal,v.addEventListener("abort",()=>u.abort())):S=u.signal);const j=yield this.fetch(E.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),h),body:x,signal:S}).catch($=>{throw new h0($)}),N=j.headers.get("x-relay-error");if(N&&N==="true")throw new $m(j);if(!j.ok)throw new Dm(j);let C=((a=j.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),O;return C==="application/json"?O=yield j.json():C==="application/octet-stream"||C==="application/pdf"?O=yield j.blob():C==="text/event-stream"?O=j:C==="multipart/form-data"?O=yield j.formData():O=yield j.text(),{data:O,error:null,response:j}}catch(h){return{data:null,error:h,response:h instanceof Dm||h instanceof $m?h.context:void 0}}finally{l&&clearTimeout(l)}})}}var m0=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},p0=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let a=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let u=null,h=null,f=null,p=l.status,v=l.statusText;if(l.ok){var w,_;if(r.method!=="HEAD"){var b;const j=await l.text();j===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((b=r.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?h=j:h=JSON.parse(j))}const x=(w=r.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),S=(_=l.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");x&&S&&S.length>1&&(f=parseInt(S[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,p=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var E;const x=await l.text();try{u=JSON.parse(x),Array.isArray(u)&&l.status===404&&(h=[],u=null,p=200,v="OK")}catch{l.status===404&&x===""?(p=204,v="No Content"):u={message:x}}if(u&&r.isMaybeSingle&&(!(u==null||(E=u.details)===null||E===void 0)&&E.includes("0 rows"))&&(u=null,p=200,v="OK"),u&&r.shouldThrowOnError)throw new m0(u)}return{error:u,data:h,count:f,status:p,statusText:v}});return this.shouldThrowOnError||(a=a.catch(l=>{var u;let h="";const f=l==null?void 0:l.cause;if(f){var p,v,w,_;const E=(p=f==null?void 0:f.message)!==null&&p!==void 0?p:"",x=(v=f==null?void 0:f.code)!==null&&v!==void 0?v:"";h=`${(w=l==null?void 0:l.name)!==null&&w!==void 0?w:"FetchError"}: ${l==null?void 0:l.message}`,h+=`

Caused by: ${(_=f==null?void 0:f.name)!==null&&_!==void 0?_:"Error"}: ${E}`,x&&(h+=` (${x})`),f!=null&&f.stack&&(h+=`
${f.stack}`)}else{var b;h=(b=l==null?void 0:l.stack)!==null&&b!==void 0?b:""}return{error:{message:`${(u=l==null?void 0:l.name)!==null&&u!==void 0?u:"FetchError"}: ${l==null?void 0:l.message}`,details:h,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(t,e)}returns(){return this}overrideTypes(){return this}},g0=class extends p0{select(t){let e=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const l=a?`${a}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:l="text"}={}){var u;const h=[t?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${f}"; options=${h};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Mm=new RegExp("[,()]");var Es=class extends g0{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(i=>typeof i=="string"&&Mm.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(i=>typeof i=="string"&&Mm.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},v0=class{constructor(t,{headers:e={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:i}=e??{},a=r?"HEAD":"GET";let l=!1;const u=(t??"*").split("").map(p=>/\s/.test(p)&&!l?"":(p==='"'&&(l=!l),p)).join(""),{url:h,headers:f}=this.cloneRequestState();return h.searchParams.set("select",u),i&&f.append("Prefer",`count=${i}`),new Es({method:a,url:h,headers:f,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var i;const a="POST",{url:l,headers:u}=this.cloneRequestState();if(e&&u.append("Prefer",`count=${e}`),r||u.append("Prefer","missing=default"),Array.isArray(t)){const h=t.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);l.searchParams.set("columns",f.join(","))}}return new Es({method:a,url:l,headers:u,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){var l;const u="POST",{url:h,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&h.searchParams.set("on_conflict",e),i&&f.append("Prefer",`count=${i}`),a||f.append("Prefer","missing=default"),Array.isArray(t)){const p=t.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(p.length>0){const v=[...new Set(p)].map(w=>`"${w}"`);h.searchParams.set("columns",v.join(","))}}return new Es({method:u,url:h,headers:f,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:e}={}){var r;const i="PATCH",{url:a,headers:l}=this.cloneRequestState();return e&&l.append("Prefer",`count=${e}`),new Es({method:i,url:a,headers:l,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:i,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new Es({method:r,url:i,headers:a,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},y0=class hg{constructor(e,{headers:r={},schema:i,fetch:a}={}){this.url=e,this.headers=new Headers(r),this.schemaName=i,this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new v0(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new hg(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:i=!1,get:a=!1,count:l}={}){var u;let h;const f=new URL(`${this.url}/rpc/${e}`);let p;const v=b=>b!==null&&typeof b=="object"&&(!Array.isArray(b)||b.some(v)),w=i&&Object.values(r).some(v);w?(h="POST",p=r):i||a?(h=i?"HEAD":"GET",Object.entries(r).filter(([b,E])=>E!==void 0).map(([b,E])=>[b,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([b,E])=>{f.searchParams.append(b,E)})):(h="POST",p=r);const _=new Headers(this.headers);return w?_.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&_.set("Prefer",`count=${l}`),new Es({method:h,url:f,headers:_,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class w0{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const i=r.versions;if(i&&i.node){const a=i.node,l=parseInt(a.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const i=this.getWebSocketConstructor();return new i(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const x0="2.91.0",_0=`realtime-js/${x0}`,b0="1.0.0",fg="2.0.0",Fm=fg,Cu=1e4,S0=1e3,k0=100;var hr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(hr||(hr={}));var ct;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ct||(ct={}));var hn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(hn||(hn={}));var Tu;(function(t){t.websocket="websocket"})(Tu||(Tu={}));var Dr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Dr||(Dr={}));class E0{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,i;const a=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var r,i;const a=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:{},u=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,r,i){var a,l;const u=e.topic,h=(a=e.ref)!==null&&a!==void 0?a:"",f=(l=e.join_ref)!==null&&l!==void 0?l:"",p=e.payload.event,v=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},w=Object.keys(v).length===0?"":JSON.stringify(v);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+h.length+u.length+p.length+w.length,b=new ArrayBuffer(this.HEADER_LENGTH+_);let E=new DataView(b),x=0;E.setUint8(x++,this.KINDS.userBroadcastPush),E.setUint8(x++,f.length),E.setUint8(x++,h.length),E.setUint8(x++,u.length),E.setUint8(x++,p.length),E.setUint8(x++,w.length),E.setUint8(x++,r),Array.from(f,j=>E.setUint8(x++,j.charCodeAt(0))),Array.from(h,j=>E.setUint8(x++,j.charCodeAt(0))),Array.from(u,j=>E.setUint8(x++,j.charCodeAt(0))),Array.from(p,j=>E.setUint8(x++,j.charCodeAt(0))),Array.from(w,j=>E.setUint8(x++,j.charCodeAt(0)));var S=new Uint8Array(b.byteLength+i.byteLength);return S.set(new Uint8Array(b),0),S.set(new Uint8Array(i),b.byteLength),S.buffer}decode(e,r){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return r(i)}if(typeof e=="string"){const i=JSON.parse(e),[a,l,u,h,f]=i;return r({join_ref:a,ref:l,topic:u,event:h,payload:f})}return r({})}_binaryDecode(e){const r=new DataView(e),i=r.getUint8(0),a=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,a)}}_decodeUserBroadcast(e,r,i){const a=r.getUint8(1),l=r.getUint8(2),u=r.getUint8(3),h=r.getUint8(4);let f=this.HEADER_LENGTH+4;const p=i.decode(e.slice(f,f+a));f=f+a;const v=i.decode(e.slice(f,f+l));f=f+l;const w=i.decode(e.slice(f,f+u));f=f+u;const _=e.slice(f,e.byteLength),b=h===this.JSON_ENCODING?JSON.parse(i.decode(_)):_,E={type:this.BROADCAST_EVENT,event:v,payload:b};return u>0&&(E.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>r.includes(i)))}}class mg{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Be;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Be||(Be={}));const Um=(t,e,r={})=>{var i;const a=(i=r.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=j0(u,t,e,a),l),{}):{}},j0=(t,e,r,i)=>{const a=e.find(h=>h.name===t),l=a==null?void 0:a.type,u=r[t];return l&&!i.includes(l)?pg(l,u):Ru(u)},pg=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return R0(e,r)}switch(t){case Be.bool:return N0(e);case Be.float4:case Be.float8:case Be.int2:case Be.int4:case Be.int8:case Be.numeric:case Be.oid:return C0(e);case Be.json:case Be.jsonb:return T0(e);case Be.timestamp:return P0(e);case Be.abstime:case Be.date:case Be.daterange:case Be.int4range:case Be.int8range:case Be.money:case Be.reltime:case Be.text:case Be.time:case Be.timestamptz:case Be.timetz:case Be.tsrange:case Be.tstzrange:return Ru(e);default:return Ru(e)}},Ru=t=>t,N0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},C0=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},T0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},R0=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,i=t[r];if(t[0]==="{"&&i==="}"){let l;const u=t.slice(1,r);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(h=>pg(e,h))}return t},P0=t=>typeof t=="string"?t.replace(" ","T"):t,gg=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class tu{constructor(e,r,i={},a=Cu){this.channel=e,this.event=r,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var i;return this._hasReceived(e)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var zm;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(zm||(zm={}));class $i{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$i.syncState(this.state,a,l,u),this.pendingDiffs.forEach(f=>{this.state=$i.syncDiff(this.state,f,l,u)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},a=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=$i.syncDiff(this.state,a,l,u),h())}),this.onJoin((a,l,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:u})}),this.onLeave((a,l,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,i,a){const l=this.cloneDeep(e),u=this.transformState(r),h={},f={};return this.map(l,(p,v)=>{u[p]||(f[p]=v)}),this.map(u,(p,v)=>{const w=l[p];if(w){const _=v.map(S=>S.presence_ref),b=w.map(S=>S.presence_ref),E=v.filter(S=>b.indexOf(S.presence_ref)<0),x=w.filter(S=>_.indexOf(S.presence_ref)<0);E.length>0&&(h[p]=E),x.length>0&&(f[p]=x)}else h[p]=v}),this.syncDiff(l,{joins:h,leaves:f},i,a)}static syncDiff(e,r,i,a){const{joins:l,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(l,(h,f)=>{var p;const v=(p=e[h])!==null&&p!==void 0?p:[];if(e[h]=this.cloneDeep(f),v.length>0){const w=e[h].map(b=>b.presence_ref),_=v.filter(b=>w.indexOf(b.presence_ref)<0);e[h].unshift(..._)}i(h,v,f)}),this.map(u,(h,f)=>{let p=e[h];if(!p)return;const v=f.map(w=>w.presence_ref);p=p.filter(w=>v.indexOf(w.presence_ref)<0),e[h]=p,a(h,p,f),p.length===0&&delete e[h]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(i=>r(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,i)=>{const a=e[i];return"metas"in a?r[i]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[i]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bm;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Bm||(Bm={}));var Di;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Di||(Di={}));var Mn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Mn||(Mn={}));class Cs{constructor(e,r={config:{}},i){var a,l;if(this.topic=e,this.params=r,this.socket=i,this.bindings={},this.state=ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new tu(this,hn.join,this.params,this.timeout),this.rejoinTimer=new mg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ct.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(hn.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new $i(this),this.broadcastEndpointURL=gg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var i,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==ct.closed){const{config:{broadcast:u,presence:h,private:f}}=this.params,p=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(b=>b.filter))!==null&&a!==void 0?a:[],v=!!this.bindings[Di.PRESENCE]&&this.bindings[Di.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,w={},_={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:v}),postgres_changes:p,private:f};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(b=>e==null?void 0:e(Mn.CHANNEL_ERROR,b)),this._onClose(()=>e==null?void 0:e(Mn.CLOSED)),this.updateJoinPayload(Object.assign({config:_},w)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){e==null||e(Mn.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,S=(E=x==null?void 0:x.length)!==null&&E!==void 0?E:0,j=[];for(let N=0;N<S;N++){const C=x[N],{filter:{event:O,schema:$,table:F,filter:L}}=C,B=b&&b[N];if(B&&B.event===O&&Cs.isFilterValueEqual(B.schema,$)&&Cs.isFilterValueEqual(B.table,F)&&Cs.isFilterValueEqual(B.filter,L))j.push(Object.assign(Object.assign({},C),{id:B.id}));else{this.unsubscribe(),this.state=ct.errored,e==null||e(Mn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,e&&e(Mn.SUBSCRIBED);return}}).receive("error",b=>{this.state=ct.errored,e==null||e(Mn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Mn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,i){return this.state===ct.joined&&e===Di.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,i)}async httpSend(e,r,i={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);if(h.status===202)return{success:!0};let f=h.statusText;try{const p=await h.json();f=p.error||p.message||f}catch{}return Promise.reject(new Error(f))}async send(e,r={}){var i,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=p.body)===null||a===void 0?void 0:a.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,h,f;const p=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ct.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(hn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new tu(this,hn.leave,{},e),i.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ct.closed,this.bindings={}}async _fetchWithTimeout(e,r,i){const a=new AbortController,l=setTimeout(()=>a.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(l),u}_push(e,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new tu(this,e,r,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>k0){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,i){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,i){var a,l;const u=e.toLocaleLowerCase(),{close:h,error:f,leave:p,join:v}=hn;if(i&&[h,f,p,v].indexOf(u)>=0&&i!==this._joinRef())return;let _=this._onMessage(u,r,i);if(r&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(b=>{var E,x,S;return((E=b.filter)===null||E===void 0?void 0:E.event)==="*"||((S=(x=b.filter)===null||x===void 0?void 0:x.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===u}).map(b=>b.callback(_,i)):(l=this.bindings[u])===null||l===void 0||l.filter(b=>{var E,x,S,j,N,C,O,$;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const F=b.id,L=(E=b.filter)===null||E===void 0?void 0:E.event;return F&&((x=r.ids)===null||x===void 0?void 0:x.includes(F))&&(L==="*"||(L==null?void 0:L.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))&&(!(!((j=b.filter)===null||j===void 0)&&j.table)||b.filter.table===((N=r.data)===null||N===void 0?void 0:N.table))}else{const F=(O=(C=b==null?void 0:b.filter)===null||C===void 0?void 0:C.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return F==="*"||F===(($=r==null?void 0:r.event)===null||$===void 0?void 0:$.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof _=="object"&&"ids"in _){const E=_.data,{schema:x,table:S,commit_timestamp:j,type:N,errors:C}=E;_=Object.assign(Object.assign({},{schema:x,table:S,commit_timestamp:j,eventType:N,new:{},old:{},errors:C}),this._getPayloadRecords(E))}b.callback(_,i)})}_isClosed(){return this.state===ct.closed}_isJoined(){return this.state===ct.joined}_isJoining(){return this.state===ct.joining}_isLeaving(){return this.state===ct.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,i){const a=e.toLocaleLowerCase(),l={type:a,filter:r,callback:i};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,r){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&Cs.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const i in e)if(e[i]!==r[i])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(hn.close,{},e)}_onError(e){this._on(hn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ct.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Um(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Um(e.columns,e.old_record)),r}}const nu=()=>{},pa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},A0=[1e3,2e3,5e3,1e4],O0=1e4,I0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class L0{constructor(e,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Cu,this.transport=null,this.heartbeatIntervalMs=pa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=nu,this.ref=0,this.reconnectTimer=null,this.vsn=Fm,this.logger=nu,this.conn=null,this.sendBuffer=[],this.serializer=new E0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...l)=>a(...l):(...l)=>fetch(...l),!(!((i=r==null?void 0:r.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Tu.websocket}`,this.httpEndpoint=gg(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=w0.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,i){this.logger(e,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case hr.connecting:return Dr.Connecting;case hr.open:return Dr.Open;case hr.closing:return Dr.Closing;default:return Dr.Closed}}isConnected(){return this.connectionState()===Dr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const i=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===i);if(a)return a;{const l=new Cs(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:i,payload:a,ref:l}=e,u=()=>{this.encode(e,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${r} ${i} (${l})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(S0,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},pa.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",p)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:a,payload:l,ref:u}=r,h=u?`(${u})`:"",f=l.status||"";this.log("receive",`${f} ${i} ${a} ${h}`.trim(),l),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(a,l,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===hr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===hr.open||this.conn.readyState===hr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(hn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const i=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${i}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const i=new Blob([I0],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,i=!1;if(e)r=e,i=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const l={access_token:r,version:_0};r&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(hn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new mg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},pa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,i,a,l,u,h,f,p,v,w,_,b;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:Cu,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:pa.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=e==null?void 0:e.heartbeatCallback)!==null&&h!==void 0?h:nu,this.vsn=(f=e==null?void 0:e.vsn)!==null&&f!==void 0?f:Fm,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e==null?void 0:e.reconnectAfterMs)!==null&&p!==void 0?p:(E=>A0[E-1]||O0),this.vsn){case b0:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:((E,x)=>x(JSON.stringify(E))),this.decode=(w=e==null?void 0:e.decode)!==null&&w!==void 0?w:((E,x)=>x(JSON.parse(E)));break;case fg:this.encode=(_=e==null?void 0:e.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Bi=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function $0(t,e,r){const i=new URL(e,t);if(r)for(const[a,l]of Object.entries(r))l!==void 0&&i.searchParams.set(a,l);return i.toString()}async function D0(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function M0(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:i,query:a,body:l,headers:u}){const h=$0(t.baseUrl,i,a),f=await D0(t.auth),p=await e(h,{method:r,headers:{...l?{"Content-Type":"application/json"}:{},...f,...u},body:l?JSON.stringify(l):void 0}),v=await p.text(),w=(p.headers.get("content-type")||"").includes("application/json"),_=w&&v?JSON.parse(v):v;if(!p.ok){const b=w?_:void 0,E=b==null?void 0:b.error;throw new Bi((E==null?void 0:E.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:E==null?void 0:E.type,icebergCode:E==null?void 0:E.code,details:b})}return{status:p.status,headers:p.headers,data:_}}}}function ga(t){return t.join("")}var F0=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:ga(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ga(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ga(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ga(t.namespace)}`}),!0}catch(e){if(e instanceof Bi&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Bi&&r.status===409)return;throw r}}};function fs(t){return t.join("")}var U0=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fs(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${fs(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${fs(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${fs(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fs(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${fs(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Bi&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Bi&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},z0=class{constructor(t){var i;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=M0({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(i=t.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new F0(this.client,e),this.tableOps=new U0(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Ga=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Qe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var B0=class extends Ga{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Pu=class extends Ga{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const ud=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),W0=()=>Response,Au=t=>{if(Array.isArray(t))return t.map(r=>Au(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,i])=>{const a=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=Au(i)}),e},V0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},H0=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Wi(t){"@babel/helpers - typeof";return Wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wi(t)}function G0(t,e){if(Wi(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(Wi(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K0(t){var e=G0(t,"string");return Wi(e)=="symbol"?e:e+""}function q0(t,e,r){return(e=K0(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,i)}return r}function Ee(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wm(Object(r),!0).forEach(function(i){q0(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wm(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}const ru=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},J0=async(t,e,r)=>{t instanceof await W0()&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const a=t.status||500,l=(i==null?void 0:i.statusCode)||a+"";e(new B0(ru(i),a,l))}).catch(i=>{e(new Pu(ru(i),i))}):e(new Pu(ru(t),t))},Y0=(t,e,r,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!i?a:(V0(i)?(a.headers=Ee({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(i)):a.body=i,e!=null&&e.duplex&&(a.duplex=e.duplex),Ee(Ee({},a),r))};async function Zi(t,e,r,i,a,l){return new Promise((u,h)=>{t(r,Y0(e,i,a,l)).then(f=>{if(!f.ok)throw f;return i!=null&&i.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>J0(f,h,i))})}async function Vi(t,e,r,i){return Zi(t,"GET",e,r,i)}async function dn(t,e,r,i,a){return Zi(t,"POST",e,i,a,r)}async function Ou(t,e,r,i,a){return Zi(t,"PUT",e,i,a,r)}async function Q0(t,e,r,i){return Zi(t,"HEAD",e,Ee(Ee({},r),{},{noResolveJson:!0}),i)}async function dd(t,e,r,i,a){return Zi(t,"DELETE",e,i,a,r)}var X0=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Qe(e))return{data:null,error:e};throw e}}};let vg;vg=Symbol.toStringTag;var Z0=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[vg]="BlobDownloadBuilder",this.promise=null}asStream(){return new X0(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Qe(e))return{data:null,error:e};throw e}}};const eb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var tb=class{constructor(t,e={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=ud(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,i){var a=this;try{let l;const u=Ee(Ee({},Vm),i);let h=Ee(Ee({},a.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),f&&l.append("metadata",a.encodeMetadata(f)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),f&&!l.has("metadata")&&l.append("metadata",a.encodeMetadata(f))):(l=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,f&&(h["x-metadata"]=a.toBase64(a.encodeMetadata(f))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),i!=null&&i.headers&&(h=Ee(Ee({},h),i.headers));const p=a._removeEmptyFolders(e),v=a._getFinalPath(p),w=await(t=="PUT"?Ou:dn)(a.fetch,`${a.url}/object/${v}`,l,Ee({headers:h},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:w.Id,fullPath:w.Key},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Qe(l))return{data:null,error:l};throw l}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,i){var a=this;const l=a._removeEmptyFolders(t),u=a._getFinalPath(l),h=new URL(a.url+`/object/upload/sign/${u}`);h.searchParams.set("token",e);try{let f;const p=Ee({upsert:Vm.upsert},i),v=Ee(Ee({},a.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",p.cacheControl)):(f=r,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType),{data:{path:l,fullPath:(await Ou(a.fetch,h.toString(),f,{headers:v})).Key},error:null}}catch(f){if(a.shouldThrowOnError)throw f;if(Qe(f))return{data:null,error:f};throw f}}async createSignedUploadUrl(t,e){var r=this;try{let i=r._getFinalPath(t);const a=Ee({},r.headers);e!=null&&e.upsert&&(a["x-upsert"]="true");const l=await dn(r.fetch,`${r.url}/object/upload/sign/${i}`,{},{headers:a}),u=new URL(r.url+l.url),h=u.searchParams.get("token");if(!h)throw new Ga("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:h},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var i=this;try{return{data:await dn(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:i.headers}),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Qe(a))return{data:null,error:a};throw a}}async copy(t,e,r){var i=this;try{return{data:{path:(await dn(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:i.headers})).Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Qe(a))return{data:null,error:a};throw a}}async createSignedUrl(t,e,r){var i=this;try{let a=i._getFinalPath(t),l=await dn(i.fetch,`${i.url}/object/sign/${a}`,Ee({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:i.headers});const u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return l={signedUrl:encodeURI(`${i.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Qe(a))return{data:null,error:a};throw a}}async createSignedUrls(t,e,r){var i=this;try{const a=await dn(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:e,paths:t},{headers:i.headers}),l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(u=>Ee(Ee({},u),{},{signedUrl:u.signedURL?encodeURI(`${i.url}${u.signedURL}${l}`):null})),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Qe(a))return{data:null,error:a};throw a}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),a=i?`?${i}`:"",l=this._getFinalPath(t),u=()=>Vi(this.fetch,`${this.url}/${r}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new Z0(u,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:Au(await Vi(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await Q0(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Qe(i)&&i instanceof Pu){const a=i.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:i}}throw i}}getPublicUrl(t,e){const r=this._getFinalPath(t),i=[],a=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&i.push(a);const l=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});u!==""&&i.push(u);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${h}`)}}}async remove(t){var e=this;try{return{data:await dd(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async list(t,e,r){var i=this;try{const a=Ee(Ee(Ee({},eb),e),{},{prefix:t||""});return{data:await dn(i.fetch,`${i.url}/object/list/${i.bucketId}`,a,{headers:i.headers},r),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Qe(a))return{data:null,error:a};throw a}}async listV2(t,e){var r=this;try{const i=Ee({},t);return{data:await dn(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,i,{headers:r.headers},e),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const yg="2.91.0",wg={"X-Client-Info":`storage-js/${yg}`};var nb=class{constructor(t,e={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Ee(Ee({},wg),e),this.fetch=ud(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await Vi(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Vi(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await dn(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async updateBucket(t,e){var r=this;try{return{data:await Ou(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async emptyBucket(t){var e=this;try{return{data:await dn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await dd(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},rb=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ee(Ee({},wg),e),this.fetch=ud(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await dn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const i=r.toString(),a=i?`${e.url}/bucket?${i}`:`${e.url}/bucket`;return{data:await Vi(e.fetch,a,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await dd(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!H0(t))throw new Ga("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new z0({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(r,{get(a,l){const u=a[l];return typeof u!="function"?u:async(...h)=>{try{return{data:await u.apply(a,h),error:null}}catch(f){if(i)throw f;return{data:null,error:f}}}}})}};const hd={"X-Client-Info":`storage-js/${yg}`,"Content-Type":"application/json"};var xg=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ut(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var su=class extends xg{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},sb=class extends xg{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const fd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ib=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Hm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ob=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,a=t;if(typeof a.json=="function")a.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||i+"";e(new su(Hm(l),i,u))}).catch(()=>{const l=i+"";e(new su(a.statusText||`HTTP ${i} error`,i,l))});else{const l=i+"";e(new su(a.statusText||`HTTP ${i} error`,i,l))}}else e(new sb(Hm(t),t))},ab=(t,e,r,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return i?(ib(i)?(a.headers=Ee({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(i)):a.body=i,Ee(Ee({},a),r)):a};async function lb(t,e,r,i,a,l){return new Promise((u,h)=>{t(r,ab(e,i,a,l)).then(f=>{if(!f.ok)throw f;if(i!=null&&i.noResolveJson)return f;const p=f.headers.get("content-type");return!p||!p.includes("application/json")?{}:f.json()}).then(f=>u(f)).catch(f=>ob(f,h,i))})}async function zt(t,e,r,i,a){return lb(t,"POST",e,i,a,r)}var cb=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ee(Ee({},hd),e),this.fetch=fd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await zt(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await zt(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ut(i))return{data:null,error:i};throw i}}async listIndexes(t){var e=this;try{return{data:await zt(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await zt(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ut(i))return{data:null,error:i};throw i}}},ub=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ee(Ee({},hd),e),this.fetch=fd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await zt(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await zt(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await zt(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await zt(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await zt(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}},db=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ee(Ee({},hd),e),this.fetch=fd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await zt(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await zt(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await zt(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await zt(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}},hb=class extends db{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new fb(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},fb=class extends cb{constructor(t,e,r,i){super(t,e,i),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Ee(Ee({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Ee(Ee({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new mb(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},mb=class extends ub{constructor(t,e,r,i,a){super(t,e,a),this.vectorBucketName=r,this.indexName=i}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Ee(Ee({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Ee(Ee({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Ee(Ee({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Ee(Ee({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Ee(Ee({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},pb=class extends nb{constructor(t,e={},r,i){super(t,e,r,i)}from(t){return new tb(this.url,this.headers,t,this.fetch)}get vectors(){return new hb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new rb(this.url+"/iceberg",this.headers,this.fetch)}};const _g="2.91.0",js=30*1e3,Iu=3,iu=Iu*js,gb="http://localhost:9999",vb="supabase.auth.token",yb={"X-Client-Info":`gotrue-js/${_g}`},Lu="X-Supabase-Api-Version",bg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},wb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xb=600*1e3;class Hi extends Error{constructor(e,r,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function ye(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class _b extends Hi{constructor(e,r,i){super(e,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function bb(t){return ye(t)&&t.name==="AuthApiError"}class Mr extends Hi{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Wn extends Hi{constructor(e,r,i,a){super(e,i,a),this.name=r,this.status=i}}class Mt extends Wn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Sb(t){return ye(t)&&t.name==="AuthSessionMissingError"}class ms extends Wn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class va extends Wn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ya extends Wn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function kb(t){return ye(t)&&t.name==="AuthImplicitGrantRedirectError"}class Gm extends Wn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Eb extends Wn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class $u extends Wn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ou(t){return ye(t)&&t.name==="AuthRetryableFetchError"}class Km extends Wn{constructor(e,r,i){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class Du extends Wn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const La="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qm=` 	
\r=`.split(""),jb=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<qm.length;e+=1)t[qm[e].charCodeAt(0)]=-2;for(let e=0;e<La.length;e+=1)t[La[e].charCodeAt(0)]=e;return t})();function Jm(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(La[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(La[i]),e.queuedBits-=6}}function Sg(t,e,r){const i=jb[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ym(t){const e=[],r=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=u=>{Tb(u,i,r)};for(let u=0;u<t.length;u+=1)Sg(t.charCodeAt(u),a,l);return e.join("")}function Nb(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Cb(t,e){for(let r=0;r<t.length;r+=1){let i=t.charCodeAt(r);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Nb(i,e)}}function Tb(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ts(t){const e=[],r={queue:0,queuedBits:0},i=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)Sg(t.charCodeAt(a),r,i);return new Uint8Array(e)}function Rb(t){const e=[];return Cb(t,r=>e.push(r)),new Uint8Array(e)}function Fr(t){const e=[],r={queue:0,queuedBits:0},i=a=>{e.push(a)};return t.forEach(a=>Jm(a,r,i)),Jm(null,r,i),e.join("")}function Pb(t){return Math.round(Date.now()/1e3)+t}function Ab(){return Symbol("auth-callback")}const vt=()=>typeof window<"u"&&typeof document<"u",Or={tested:!1,writable:!1},kg=()=>{if(!vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Or.tested)return Or.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Or.tested=!0,Or.writable=!0}catch{Or.tested=!0,Or.writable=!1}return Or.writable};function Ob(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return r.searchParams.forEach((i,a)=>{e[a]=i}),e}const Eg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Ib=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ns=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ir=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},gt=async(t,e)=>{await t.removeItem(e)};class Ka{constructor(){this.promise=new Ka.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ka.promiseConstructor=Promise;function au(t){const e=t.split(".");if(e.length!==3)throw new Du("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!wb.test(e[i]))throw new Du("JWT not in base64url format");return{header:JSON.parse(Ym(e[0])),payload:JSON.parse(Ym(e[1])),signature:Ts(e[2]),raw:{header:e[0],payload:e[1]}}}async function Lb(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function $b(t,e){return new Promise((i,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){i(u);return}}catch(u){if(!e(l,u)){a(u);return}}})()})}function Db(t){return("0"+t.toString(16)).substr(-2)}function Mb(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let a="";for(let l=0;l<56;l++)a+=r.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(e),Array.from(e,Db).join("")}async function Fb(t){const r=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(i);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function Ub(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Fb(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ps(t,e,r=!1){const i=Mb();let a=i;r&&(a+="/PASSWORD_RECOVERY"),await Ns(t,`${e}-code-verifier`,a);const l=await Ub(i);return[l,i===l?"plain":"s256"]}const zb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Bb(t){const e=t.headers.get(Lu);if(!e||!e.match(zb))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Wb(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Vb(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Hb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gs(t){if(!Hb.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function lu(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Gb(t,e){return new Proxy(t,{get:(r,i,a)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,a)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,i,a)}})}function Qm(t){return JSON.parse(JSON.stringify(t))}const $r=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Kb=[502,503,504];async function Xm(t){var e;if(!Ib(t))throw new $u($r(t),0);if(Kb.includes(t.status))throw new $u($r(t),t.status);let r;try{r=await t.json()}catch(l){throw new Mr($r(l),l)}let i;const a=Bb(t);if(a&&a.getTime()>=bg["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new Km($r(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Mt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new Km($r(r),t.status,r.weak_password.reasons);throw new _b($r(r),t.status||500,i)}const qb=(t,e,r,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),r))};async function ke(t,e,r,i){var a;const l=Object.assign({},i==null?void 0:i.headers);l[Lu]||(l[Lu]=bg["2024-01-01"].name),i!=null&&i.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const u=(a=i==null?void 0:i.query)!==null&&a!==void 0?a:{};i!=null&&i.redirectTo&&(u.redirect_to=i.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await Jb(t,e,r+h,{headers:l,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(f):{data:Object.assign({},f),error:null}}async function Jb(t,e,r,i,a,l){const u=qb(e,i,a,l);let h;try{h=await t(r,Object.assign({},u))}catch(f){throw console.error(f),new $u($r(f),0)}if(h.ok||await Xm(h),i!=null&&i.noResolveJson)return h;try{return await h.json()}catch(f){await Xm(f)}}function cn(t){var e;let r=null;Xb(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Pb(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:i},error:null}}function Zm(t){const e=cn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function mr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Yb(t){return{data:t,error:null}}function Qb(t){const{action_link:e,email_otp:r,hashed_token:i,redirect_to:a,verification_type:l}=t,u=Us(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:r,hashed_token:i,redirect_to:a,verification_type:l},f=Object.assign({},u);return{data:{properties:h,user:f},error:null}}function ep(t){return t}function Xb(t){return t.access_token&&t.refresh_token&&t.expires_in}const cu=["global","local","others"];class Zb{constructor({url:e="",headers:r={},fetch:i}){this.url=e,this.headers=r,this.fetch=Eg(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=cu[0]){if(cu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cu.join(", ")}`);try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ye(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,r={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:mr})}catch(i){if(ye(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:r}=e,i=Us(e,["options"]),a=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(a.new_email=i==null?void 0:i.newEmail,delete a.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Qb,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ye(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:mr})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,i,a,l,u,h,f;try{const p={nextPage:null,lastPage:0,total:0},v=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:ep});if(v.error)throw v.error;const w=await v.json(),_=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(f=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(E=>{const x=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(E.split(";")[1].split("=")[1]);p[`${S}Page`]=x}),p.total=parseInt(_)),{data:Object.assign(Object.assign({},w),p),error:null}}catch(p){if(ye(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){gs(e);try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:mr})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){gs(e);try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:mr})}catch(i){if(ye(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,r=!1){gs(e);try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:mr})}catch(i){if(ye(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){gs(e.userId);try{const{data:r,error:i}=await ke(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:i}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _deleteFactor(e){gs(e.userId),gs(e.id);try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,i,a,l,u,h,f;try{const p={nextPage:null,lastPage:0,total:0},v=await ke(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:ep});if(v.error)throw v.error;const w=await v.json(),_=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(f=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(E=>{const x=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(E.split(";")[1].split("=")[1]);p[`${S}Page`]=x}),p.total=parseInt(_)),{data:Object.assign(Object.assign({},w),p),error:null}}catch(p){if(ye(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await ke(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ke(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await ke(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ye(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await ke(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ke(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}}function tp(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const vs={debug:!!(globalThis&&kg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class eS extends jg{}async function tS(t,e,r){vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),vs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new eS(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(vs.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function nS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ng(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function rS(t){return parseInt(t,16)}function sS(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function iS(t){var e;const{chainId:r,domain:i,expirationTime:a,issuedAt:l=new Date,nonce:u,notBefore:h,requestId:f,resources:p,scheme:v,uri:w,version:_}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=Ng(t.address),E=v?`${v}://${i}`:i,x=t.statement?`${t.statement}
`:"",S=`${E} wants you to sign in with your Ethereum account:
${b}

${x}`;let j=`URI: ${w}
Version: ${_}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(a&&(j+=`
Expiration Time: ${a.toISOString()}`),h&&(j+=`
Not Before: ${h.toISOString()}`),f&&(j+=`
Request ID: ${f}`),p){let N=`
Resources:`;for(const C of p){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);N+=`
- ${C}`}j+=N}return`${S}
${j}`}class st extends Error{constructor({message:e,code:r,cause:i,name:a}){var l;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=a??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class $a extends st{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function oS({error:t,options:e}){var r,i,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new st({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new st({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new st({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new st({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new st({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new st({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new st({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new st({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(Cg(u)){if(l.rp.id!==u)return new st({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new st({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function aS({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new st({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new st({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(Cg(i)){if(r.rpId!==i)return new st({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class lS{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const cS=new lS;function uS(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:i}=t,a=Us(t,["challenge","user","excludeCredentials"]),l=Ts(e).buffer,u=Object.assign(Object.assign({},r),{id:Ts(r.id).buffer}),h=Object.assign(Object.assign({},a),{challenge:l,user:u});if(i&&i.length>0){h.excludeCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const p=i[f];h.excludeCredentials[f]=Object.assign(Object.assign({},p),{id:Ts(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return h}function dS(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,i=Us(t,["challenge","allowCredentials"]),a=Ts(e).buffer,l=Object.assign(Object.assign({},i),{challenge:a});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const h=r[u];l.allowCredentials[u]=Object.assign(Object.assign({},h),{id:Ts(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function hS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Fr(new Uint8Array(t.response.attestationObject)),clientDataJSON:Fr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function fS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,i=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Fr(new Uint8Array(a.authenticatorData)),clientDataJSON:Fr(new Uint8Array(a.clientDataJSON)),signature:Fr(new Uint8Array(a.signature)),userHandle:a.userHandle?Fr(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Cg(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function np(){var t,e;return!!(vt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function mS(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new $a("Browser returned unexpected credential type",e)}:{data:null,error:new $a("Empty credential response",e)}}catch(e){return{data:null,error:oS({error:e,options:t})}}}async function pS(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new $a("Browser returned unexpected credential type",e)}:{data:null,error:new $a("Empty credential response",e)}}catch(e){return{data:null,error:aS({error:e,options:t})}}}const gS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},vS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Da(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of t)if(a)for(const l in a){const u=a[l];if(u!==void 0)if(Array.isArray(u))i[l]=u;else if(r(u))i[l]=u;else if(e(u)){const h=i[l];e(h)?i[l]=Da(h,u):i[l]=Da(u)}else i[l]=u}return i}function yS(t,e){return Da(gS,t,e||{})}function wS(t,e){return Da(vS,t,e||{})}class xS{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:i,signal:a},l){try{const{data:u,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!u)return{data:null,error:h};const f=a??cS.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${i}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=yS(u.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:v,error:w}=await mS({publicKey:p,signal:f});return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}case"request":{const p=wS(u.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:v,error:w}=await pS(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:f}));return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}}}catch(u){return ye(u)?{data:null,error:u}:{data:null,error:new Mr("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!r)return{data:null,error:new Hi("rpId is required for WebAuthn authentication")};try{if(!np())return{data:null,error:new Mr("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:i},signal:a},{request:l});if(!u)return{data:null,error:h};const{webauthn:f}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:i,credential_response:f.credential_response}})}catch(u){return ye(u)?{data:null,error:u}:{data:null,error:new Mr("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!r)return{data:null,error:new Hi("rpId is required for WebAuthn registration")};try{if(!np())return{data:null,error:new Mr("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(v=>{var w;return(w=v.data)===null||w===void 0?void 0:w.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===e&&_.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:h};const{data:f,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:a},{create:l});return f?this._verify({factorId:u.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:i,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:p}}catch(u){return ye(u)?{data:null,error:u}:{data:null,error:new Mr("Unexpected error in register",u)}}}}nS();const _S={url:gb,storageKey:vb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function rp(t,e,r){return await r()}const ys={};class Gi{get jwks(){var e,r;return(r=(e=ys[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){ys[this.storageKey]=Object.assign(Object.assign({},ys[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=ys[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ys[this.storageKey]=Object.assign(Object.assign({},ys[this.storageKey]),{cachedAt:e})}constructor(e){var r,i,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},_S),e);if(this.storageKey=l.storageKey,this.instanceID=(r=Gi.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Gi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&vt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Zb({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Eg(l.fetch),this.lock=l.lock||rp,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&vt()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=tS:this.lock=rp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new xS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:kg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=tp(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=tp(this.memoryStorage)),vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${_g}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},i="none";if(vt()&&(r=Ob(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),vt()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:l}=await this._getSessionFromURL(r,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),kb(l)){const f=(e=l.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:u,redirectType:h}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ye(r)?this._returnResult({error:r}):this._returnResult({error:new Mr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,i,a;try{const l=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:cn}),{data:u,error:h}=l;if(h||!u)return this._returnResult({data:{user:null,session:null},error:h});const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(l){if(ye(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var r,i,a;try{let l;if("email"in e){const{email:v,password:w,options:_}=e;let b=null,E=null;this.flowType==="pkce"&&([b,E]=await ps(this.storage,this.storageKey)),l=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:v,password:w,data:(r=_==null?void 0:_.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:b,code_challenge_method:E},xform:cn})}else if("phone"in e){const{phone:v,password:w,options:_}=e;l=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(i=_==null?void 0:_.data)!==null&&i!==void 0?i:{},channel:(a=_==null?void 0:_.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:cn})}else throw new va("You must provide either an email or phone number and a password");const{data:u,error:h}=l;if(h||!u)return await gt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(l){if(await gt(this.storage,`${this.storageKey}-code-verifier`),ye(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:u,options:h}=e;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Zm})}else if("phone"in e){const{phone:l,password:u,options:h}=e;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Zm})}else throw new va("You must provide either an email or phone number and a password");const{data:i,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!i||!i.session||!i.user){const l=new ms;return this._returnResult({data:{user:null,session:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(r){if(ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,i,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,i,a,l,u,h,f,p,v,w,_;let b,E;if("message"in e)b=e.message,E=e.signature;else{const{chain:x,wallet:S,statement:j,options:N}=e;let C;if(vt())if(typeof S=="object")C=S;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")C=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=S}const O=new URL((r=N==null?void 0:N.url)!==null&&r!==void 0?r:window.location.href),$=await C.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!$||$.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=Ng($[0]);let L=(i=N==null?void 0:N.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!L){const U=await C.request({method:"eth_chainId"});L=rS(U)}const B={domain:O.host,address:F,statement:j,uri:O.href,version:"1",chainId:L,nonce:(a=N==null?void 0:N.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(u=(l=N==null?void 0:N.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(h=N==null?void 0:N.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(f=N==null?void 0:N.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(p=N==null?void 0:N.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(v=N==null?void 0:N.signInWithEthereum)===null||v===void 0?void 0:v.resources};b=iS(B),E=await C.request({method:"personal_sign",params:[sS(b),F]})}try{const{data:x,error:S}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:E},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:cn});if(S)throw S;if(!x||!x.session||!x.user){const j=new ms;return this._returnResult({data:{user:null,session:null},error:j})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:S})}catch(x){if(ye(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(e){var r,i,a,l,u,h,f,p,v,w,_,b;let E,x;if("message"in e)E=e.message,x=e.signature;else{const{chain:S,wallet:j,statement:N,options:C}=e;let O;if(vt())if(typeof j=="object")O=j;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))O=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=j}const $=new URL((r=C==null?void 0:C.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in O&&O.signIn){const F=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),N?{statement:N}:null));let L;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")L=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)L=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)E=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),x=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${$.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(a=(i=C==null?void 0:C.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=C==null?void 0:C.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((u=C==null?void 0:C.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((h=C==null?void 0:C.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((f=C==null?void 0:C.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((p=C==null?void 0:C.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((w=(v=C==null?void 0:C.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||w===void 0)&&w.length?["Resources",...C.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const F=await O.signMessage(new TextEncoder().encode(E),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=F}}try{const{data:S,error:j}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Fr(x)},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:cn});if(j)throw j;if(!S||!S.session||!S.user){const N=new ms;return this._returnResult({data:{user:null,session:null},error:N})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:j})}catch(S){if(ye(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(e){const r=await Ir(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(r??"").split("/");try{if(!i&&this.flowType==="pkce")throw new Eb;const{data:l,error:u}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:cn});if(await gt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const h=new ms;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return l.session&&(await this._saveSession(l.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",l.session)},0)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:u})}catch(l){if(await gt(this.storage,`${this.storageKey}-code-verifier`),ye(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:r,provider:i,token:a,access_token:l,nonce:u}=e,h=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:cn}),{data:f,error:p}=h;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f||!f.session||!f.user){const v=new ms;return this._returnResult({data:{user:null,session:null},error:v})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:p})}catch(r){if(ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,i,a,l,u;try{if("email"in e){const{email:h,options:f}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await ps(this.storage,this.storageKey));const{error:w}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},create_user:(i=f==null?void 0:f.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in e){const{phone:h,options:f}=e,{data:p,error:v}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},create_user:(l=f==null?void 0:f.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(u=f==null?void 0:f.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:v})}throw new va("You must provide either an email or phone number.")}catch(h){if(await gt(this.storage,`${this.storageKey}-code-verifier`),ye(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var r,i;try{let a,l;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:h}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:cn});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,p=u.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(a){if(ye(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var r,i,a,l,u;try{let h=null,f=null;this.flowType==="pkce"&&([h,f]=await ps(this.storage,this.storageKey));const p=await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:f}),headers:this.headers,xform:Yb});return!((l=p.data)===null||l===void 0)&&l.url&&vt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(h){if(await gt(this.storage,`${this.storageKey}-code-verifier`),ye(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new Mt;const{error:a}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(ye(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:i,type:a,options:l}=e,{error:u}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:i,type:a,options:l}=e,{data:u,error:h}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h})}throw new va("You must provide either an email or phone number and a type")}catch(r){if(ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ir(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<iu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await Ir(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=lu()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=Gb(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:mr}):await this._useSession(async r=>{var i,a,l;const{data:u,error:h}=r;if(h)throw h;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Mt}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:mr})})}catch(r){if(ye(r))return Sb(r)&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async i=>{const{data:a,error:l}=i;if(l)throw l;if(!a.session)throw new Mt;const u=a.session;let h=null,f=null;this.flowType==="pkce"&&e.email!=null&&([h,f]=await ps(this.storage,this.storageKey));const{data:p,error:v}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:f}),jwt:u.access_token,xform:mr});if(v)throw v;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(i){if(await gt(this.storage,`${this.storageKey}-code-verifier`),ye(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Mt;const r=Date.now()/1e3;let i=r,a=!0,l=null;const{payload:u}=au(e.access_token);if(u.exp&&(i=u.exp,a=i<=r),a){const{data:h,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:f}=await this._getUser(e.access_token);if(f)throw f;l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(ye(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var i;if(!e){const{data:u,error:h}=r;if(h)throw h;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new Mt;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!vt())throw new ya("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ya(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Gm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ya("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Gm("No code detected.");const{data:N,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:l,refresh_token:u,expires_in:h,expires_at:f,token_type:p}=e;if(!l||!h||!u||!p)throw new ya("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(h);let _=v+w;f&&(_=parseInt(f));const b=_-v;b*1e3<=js&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${w}s`);const E=_-w;v-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,_,v):v-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,_,v);const{data:x,error:S}=await this._getUser(l);if(S)throw S;const j={provider_token:i,provider_refresh_token:a,access_token:l,expires_in:w,expires_at:_,refresh_token:u,token_type:p,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:e.type},error:null})}catch(i){if(ye(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ir(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:a,error:l}=r;if(l)return this._returnResult({error:l});const u=(i=a.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(bb(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Ab(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async r=>{var i,a;try{const{data:{session:l},error:u}=r;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await ps(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(await gt(this.storage,`${this.storageKey}-code-verifier`),ye(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:i,error:a}=await this._useSession(async l=>{var u,h,f,p,v;const{data:w,error:_}=l;if(_)throw _;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",b,{headers:this.headers,jwt:(v=(p=w.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(a)throw a;return vt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:e.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(ye(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var i;try{const{error:a,data:{session:l}}=r;if(a)throw a;const{options:u,provider:h,token:f,access_token:p,nonce:v}=e,w=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l==null?void 0:l.access_token)!==null&&i!==void 0?i:void 0,body:{provider:h,id_token:f,access_token:p,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:cn}),{data:_,error:b}=w;return b?this._returnResult({data:{user:null,session:null},error:b}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new ms}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:b}))}catch(a){if(await gt(this.storage,`${this.storageKey}-code-verifier`),ye(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var i,a;const{data:l,error:u}=r;if(u)throw u;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await $b(async a=>(a>0&&await Lb(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:cn})),(a,l)=>{const u=200*Math.pow(2,a);return l&&ou(l)&&Date.now()+u-i<js})}catch(i){if(this._debug(r,"error",i),ye(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),vt()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await Ir(this.storage,this.storageKey);if(a&&this.userStorage){let u=await Ir(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await Ns(this.userStorage,this.storageKey+"-user",u)),a.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:lu()}else if(a&&!a.user&&!a.user){const u=await Ir(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(a.user=u.user,await gt(this.storage,this.storageKey+"-user"),await Ns(this.storage,this.storageKey,a)):a.user=lu()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const l=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<iu;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${iu}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),ou(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(a.access_token);!h&&(u!=null&&u.user)?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var r,i;if(!e)throw new Mt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ka;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new Mt;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(a,"error",l),ye(l)){const u={data:null,error:l};return ou(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,i=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,r)}catch(f){l.push(f)}});if(await Promise.all(u),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await gt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await Ns(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const l=Qm(a);await Ns(this.storage,this.storageKey,l)}else{const a=Qm(r);await Ns(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await gt(this.storage,this.storageKey),await gt(this.storage,this.storageKey+"-code-verifier"),await gt(this.storage,this.storageKey+"-user"),this.userStorage&&await gt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&vt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),js);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-e)/js);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${js}ms, refresh threshold is ${Iu} ticks`),a<=Iu&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof jg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,i){const a=[`provider=${encodeURIComponent(r)}`];if(i!=null&&i.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,u]=await ps(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(h.toString())}if(i!=null&&i.queryParams){const l=new URLSearchParams(i.queryParams);a.push(l.toString())}return i!=null&&i.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var i;const{data:a,error:l}=r;return l?this._returnResult({data:null,error:l}):await ke(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var i,a;const{data:l,error:u}=r;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:p}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&f.type==="totp"&&(!((a=f==null?void 0:f.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;const{data:a,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?hS(e.webauthn.credential_response):fS(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:f}=await ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:f}))})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;const{data:a,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=await ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:h}=u;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:uS(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:dS(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:i},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=au(i.access_token);let u=null;l.aal&&(u=l.aal);let h=u;((r=(e=i.user.factors)===null||e===void 0?void 0:e.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(h="aal2");const p=l.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;return a?this._returnResult({data:null,error:a}):i?await ke(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Mt})})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Mt});const u=await ke(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&vt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(i){if(ye(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Mt});const u=await ke(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&vt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(i){if(ye(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;return i?this._returnResult({data:null,error:i}):r?await ke(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Mt})})}catch(e){if(ye(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;return a?this._returnResult({data:null,error:a}):i?(await ke(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Mt})})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let i=r.keys.find(h=>h.kid===e);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(h=>h.kid===e),i&&this.jwks_cached_at+xb>a)return i;const{data:l,error:u}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,i=l.keys.find(h=>h.kid===e),!i)?null:i}async getClaims(e,r={}){try{let i=e;if(!i){const{data:b,error:E}=await this.getSession();if(E||!b.session)return this._returnResult({data:null,error:E});i=b.session.access_token}const{header:a,payload:l,signature:u,raw:{header:h,payload:f}}=au(i);r!=null&&r.allowExpired||Wb(l.exp);const p=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!p){const{error:b}=await this.getUser(i);if(b)throw b;return{data:{claims:l,header:a,signature:u},error:null}}const v=Vb(a.alg),w=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,w,u,Rb(`${h}.${f}`)))throw new Du("Invalid JWT signature");return{data:{claims:l,header:a,signature:u},error:null}}catch(i){if(ye(i))return this._returnResult({data:null,error:i});throw i}}}Gi.nextInstanceID={};const bS=Gi,SS="2.91.0";let Ii="";typeof Deno<"u"?Ii="deno":typeof document<"u"?Ii="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ii="react-native":Ii="node";const kS={"X-Client-Info":`supabase-js-${Ii}/${SS}`},ES={headers:kS},jS={schema:"public"},NS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},CS={};function Ki(t){"@babel/helpers - typeof";return Ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ki(t)}function TS(t,e){if(Ki(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(Ki(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RS(t){var e=TS(t,"string");return Ki(e)=="symbol"?e:e+""}function PS(t,e,r){return(e=RS(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,i)}return r}function et(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sp(Object(r),!0).forEach(function(i){PS(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sp(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}const AS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),OS=()=>Headers,IS=(t,e,r)=>{const i=AS(r),a=OS();return async(l,u)=>{var h;const f=(h=await e())!==null&&h!==void 0?h:t;let p=new a(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),i(l,et(et({},u),{},{headers:p}))}};function LS(t){return t.endsWith("/")?t:t+"/"}function $S(t,e){var r,i;const{db:a,auth:l,realtime:u,global:h}=t,{db:f,auth:p,realtime:v,global:w}=e,_={db:et(et({},f),a),auth:et(et({},p),l),realtime:et(et({},v),u),storage:{},global:et(et(et({},w),h),{},{headers:et(et({},(r=w==null?void 0:w.headers)!==null&&r!==void 0?r:{}),(i=h==null?void 0:h.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?_.accessToken=t.accessToken:delete _.accessToken,_}function DS(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(LS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var MS=class extends bS{constructor(t){super(t)}},FS=class{constructor(t,e,r){var i,a;this.supabaseUrl=t,this.supabaseKey=e;const l=DS(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,h={db:jS,realtime:CS,auth:et(et({},NS),{},{storageKey:u}),global:ES},f=$S(r??{},h);if(this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=f.auth)!==null&&p!==void 0?p:{},this.headers,f.global.fetch)}this.fetch=IS(e,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(et({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new y0(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new pb(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new f0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:i}=await t.auth.getSession();return(e=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:l,flowType:u,lock:h,debug:f,throwOnError:p},v,w){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new MS({url:this.authUrl.href,headers:et(et({},_),v),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:a,flowType:u,lock:h,debug:f,throwOnError:p,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new L0(this.realtimeUrl.href,et(et({},t),{},{params:et(et({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const US=(t,e,r)=>new FS(t,e,r);function zS(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}zS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Mu="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZsY2V3aHZsYWR5bXFncGpidHZvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5MTc4ODEsImV4cCI6MjA4NDQ5Mzg4MX0.A5J1nNgyFMX9qjKMOrFSIjWKRcYQx4RKby1pyDKveb0",De="https://flcewhvladymqgpjbtvo.supabase.co",Rs=US(De,Mu);function Me(){return{Authorization:`Bearer ${Mu}`,apikey:Mu}}function Tg(t){var e,r,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=Tg(t[e]))&&(i&&(i+=" "),i+=r)}else for(r in t)t[r]&&(i&&(i+=" "),i+=r);return i}function Rg(){for(var t,e,r=0,i="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=Tg(t))&&(i&&(i+=" "),i+=e);return i}const md="-",BS=t=>{const e=VS(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:u=>{const h=u.split(md);return h[0]===""&&h.length!==1&&h.shift(),Pg(h,e)||WS(u)},getConflictingClassGroupIds:(u,h)=>{const f=r[u]||[];return h&&i[u]?[...f,...i[u]]:f}}},Pg=(t,e)=>{var u;if(t.length===0)return e.classGroupId;const r=t[0],i=e.nextPart.get(r),a=i?Pg(t.slice(1),i):void 0;if(a)return a;if(e.validators.length===0)return;const l=t.join(md);return(u=e.validators.find(({validator:h})=>h(l)))==null?void 0:u.classGroupId},ip=/^\[(.+)\]$/,WS=t=>{if(ip.test(t)){const e=ip.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},VS=t=>{const{theme:e,classGroups:r}=t,i={nextPart:new Map,validators:[]};for(const a in r)Fu(r[a],i,a,e);return i},Fu=(t,e,r,i)=>{t.forEach(a=>{if(typeof a=="string"){const l=a===""?e:op(e,a);l.classGroupId=r;return}if(typeof a=="function"){if(HS(a)){Fu(a(i),e,r,i);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([l,u])=>{Fu(u,op(e,l),r,i)})})},op=(t,e)=>{let r=t;return e.split(md).forEach(i=>{r.nextPart.has(i)||r.nextPart.set(i,{nextPart:new Map,validators:[]}),r=r.nextPart.get(i)}),r},HS=t=>t.isThemeGetter,GS=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,i=new Map;const a=(l,u)=>{r.set(l,u),e++,e>t&&(e=0,i=r,r=new Map)};return{get(l){let u=r.get(l);if(u!==void 0)return u;if((u=i.get(l))!==void 0)return a(l,u),u},set(l,u){r.has(l)?r.set(l,u):a(l,u)}}},Uu="!",zu=":",KS=zu.length,qS=t=>{const{prefix:e,experimentalParseClassName:r}=t;let i=a=>{const l=[];let u=0,h=0,f=0,p;for(let E=0;E<a.length;E++){let x=a[E];if(u===0&&h===0){if(x===zu){l.push(a.slice(f,E)),f=E+KS;continue}if(x==="/"){p=E;continue}}x==="["?u++:x==="]"?u--:x==="("?h++:x===")"&&h--}const v=l.length===0?a:a.substring(f),w=JS(v),_=w!==v,b=p&&p>f?p-f:void 0;return{modifiers:l,hasImportantModifier:_,baseClassName:w,maybePostfixModifierPosition:b}};if(e){const a=e+zu,l=i;i=u=>u.startsWith(a)?l(u.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(r){const a=i;i=l=>r({className:l,parseClassName:a})}return i},JS=t=>t.endsWith(Uu)?t.substring(0,t.length-1):t.startsWith(Uu)?t.substring(1):t,YS=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const a=[];let l=[];return i.forEach(u=>{u[0]==="["||e[u]?(a.push(...l.sort(),u),l=[]):l.push(u)}),a.push(...l.sort()),a}},QS=t=>({cache:GS(t.cacheSize),parseClassName:qS(t),sortModifiers:YS(t),...BS(t)}),XS=/\s+/,ZS=(t,e)=>{const{parseClassName:r,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,u=[],h=t.trim().split(XS);let f="";for(let p=h.length-1;p>=0;p-=1){const v=h[p],{isExternal:w,modifiers:_,hasImportantModifier:b,baseClassName:E,maybePostfixModifierPosition:x}=r(v);if(w){f=v+(f.length>0?" "+f:f);continue}let S=!!x,j=i(S?E.substring(0,x):E);if(!j){if(!S){f=v+(f.length>0?" "+f:f);continue}if(j=i(E),!j){f=v+(f.length>0?" "+f:f);continue}S=!1}const N=l(_).join(":"),C=b?N+Uu:N,O=C+j;if(u.includes(O))continue;u.push(O);const $=a(j,S);for(let F=0;F<$.length;++F){const L=$[F];u.push(C+L)}f=v+(f.length>0?" "+f:f)}return f};function ek(){let t=0,e,r,i="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Ag(e))&&(i&&(i+=" "),i+=r);return i}const Ag=t=>{if(typeof t=="string")return t;let e,r="";for(let i=0;i<t.length;i++)t[i]&&(e=Ag(t[i]))&&(r&&(r+=" "),r+=e);return r};function tk(t,...e){let r,i,a,l=u;function u(f){const p=e.reduce((v,w)=>w(v),t());return r=QS(p),i=r.cache.get,a=r.cache.set,l=h,h(f)}function h(f){const p=i(f);if(p)return p;const v=ZS(f,r);return a(f,v),v}return function(){return l(ek.apply(null,arguments))}}const lt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Og=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Ig=/^\((?:(\w[\w-]*):)?(.+)\)$/i,nk=/^\d+\/\d+$/,rk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ik=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ok=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ak=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ws=t=>nk.test(t),Re=t=>!!t&&!Number.isNaN(Number(t)),ur=t=>!!t&&Number.isInteger(Number(t)),uu=t=>t.endsWith("%")&&Re(t.slice(0,-1)),Dn=t=>rk.test(t),lk=()=>!0,ck=t=>sk.test(t)&&!ik.test(t),Lg=()=>!1,uk=t=>ok.test(t),dk=t=>ak.test(t),hk=t=>!fe(t)&&!me(t),fk=t=>zs(t,Mg,Lg),fe=t=>Og.test(t),Lr=t=>zs(t,Fg,ck),du=t=>zs(t,yk,Re),ap=t=>zs(t,$g,Lg),mk=t=>zs(t,Dg,dk),wa=t=>zs(t,Ug,uk),me=t=>Ig.test(t),Oi=t=>Bs(t,Fg),pk=t=>Bs(t,wk),lp=t=>Bs(t,$g),gk=t=>Bs(t,Mg),vk=t=>Bs(t,Dg),xa=t=>Bs(t,Ug,!0),zs=(t,e,r)=>{const i=Og.exec(t);return i?i[1]?e(i[1]):r(i[2]):!1},Bs=(t,e,r=!1)=>{const i=Ig.exec(t);return i?i[1]?e(i[1]):r:!1},$g=t=>t==="position"||t==="percentage",Dg=t=>t==="image"||t==="url",Mg=t=>t==="length"||t==="size"||t==="bg-size",Fg=t=>t==="length",yk=t=>t==="number",wk=t=>t==="family-name",Ug=t=>t==="shadow",xk=()=>{const t=lt("color"),e=lt("font"),r=lt("text"),i=lt("font-weight"),a=lt("tracking"),l=lt("leading"),u=lt("breakpoint"),h=lt("container"),f=lt("spacing"),p=lt("radius"),v=lt("shadow"),w=lt("inset-shadow"),_=lt("text-shadow"),b=lt("drop-shadow"),E=lt("blur"),x=lt("perspective"),S=lt("aspect"),j=lt("ease"),N=lt("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],$=()=>[...O(),me,fe],F=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto","contain","none"],B=()=>[me,fe,f],U=()=>[ws,"full","auto",...B()],ee=()=>[ur,"none","subgrid",me,fe],ie=()=>["auto",{span:["full",ur,me,fe]},ur,me,fe],K=()=>[ur,"auto",me,fe],J=()=>["auto","min","max","fr",me,fe],oe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ae=()=>["start","end","center","stretch","center-safe","end-safe"],te=()=>["auto",...B()],D=()=>[ws,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...B()],P=()=>[t,me,fe],G=()=>[...O(),lp,ap,{position:[me,fe]}],q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],A=()=>["auto","cover","contain",gk,fk,{size:[me,fe]}],V=()=>[uu,Oi,Lr],ne=()=>["","none","full",p,me,fe],ue=()=>["",Re,Oi,Lr],je=()=>["solid","dashed","dotted","double"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>[Re,uu,lp,ap],pe=()=>["","none",E,me,fe],Se=()=>["none",Re,me,fe],we=()=>["none",Re,me,fe],Te=()=>[Re,me,fe],Pe=()=>[ws,"full",...B()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Dn],breakpoint:[Dn],color:[lk],container:[Dn],"drop-shadow":[Dn],ease:["in","out","in-out"],font:[hk],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Dn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Dn],shadow:[Dn],spacing:["px",Re],text:[Dn],"text-shadow":[Dn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ws,fe,me,S]}],container:["container"],columns:[{columns:[Re,fe,me,h]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:$()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:U()}],"inset-x":[{"inset-x":U()}],"inset-y":[{"inset-y":U()}],start:[{start:U()}],end:[{end:U()}],top:[{top:U()}],right:[{right:U()}],bottom:[{bottom:U()}],left:[{left:U()}],visibility:["visible","invisible","collapse"],z:[{z:[ur,"auto",me,fe]}],basis:[{basis:[ws,"full","auto",h,...B()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Re,ws,"auto","initial","none",fe]}],grow:[{grow:["",Re,me,fe]}],shrink:[{shrink:["",Re,me,fe]}],order:[{order:[ur,"first","last","none",me,fe]}],"grid-cols":[{"grid-cols":ee()}],"col-start-end":[{col:ie()}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":ee()}],"row-start-end":[{row:ie()}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":J()}],"auto-rows":[{"auto-rows":J()}],gap:[{gap:B()}],"gap-x":[{"gap-x":B()}],"gap-y":[{"gap-y":B()}],"justify-content":[{justify:[...oe(),"normal"]}],"justify-items":[{"justify-items":[...ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...ae()]}],"align-content":[{content:["normal",...oe()]}],"align-items":[{items:[...ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":oe()}],"place-items":[{"place-items":[...ae(),"baseline"]}],"place-self":[{"place-self":["auto",...ae()]}],p:[{p:B()}],px:[{px:B()}],py:[{py:B()}],ps:[{ps:B()}],pe:[{pe:B()}],pt:[{pt:B()}],pr:[{pr:B()}],pb:[{pb:B()}],pl:[{pl:B()}],m:[{m:te()}],mx:[{mx:te()}],my:[{my:te()}],ms:[{ms:te()}],me:[{me:te()}],mt:[{mt:te()}],mr:[{mr:te()}],mb:[{mb:te()}],ml:[{ml:te()}],"space-x":[{"space-x":B()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":B()}],"space-y-reverse":["space-y-reverse"],size:[{size:D()}],w:[{w:[h,"screen",...D()]}],"min-w":[{"min-w":[h,"screen","none",...D()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[u]},...D()]}],h:[{h:["screen",...D()]}],"min-h":[{"min-h":["screen","none",...D()]}],"max-h":[{"max-h":["screen",...D()]}],"font-size":[{text:["base",r,Oi,Lr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,me,du]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",uu,fe]}],"font-family":[{font:[pk,fe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,me,fe]}],"line-clamp":[{"line-clamp":[Re,"none",me,du]}],leading:[{leading:[l,...B()]}],"list-image":[{"list-image":["none",me,fe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",me,fe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:P()}],"text-color":[{text:P()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...je(),"wavy"]}],"text-decoration-thickness":[{decoration:[Re,"from-font","auto",me,Lr]}],"text-decoration-color":[{decoration:P()}],"underline-offset":[{"underline-offset":[Re,"auto",me,fe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me,fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me,fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:G()}],"bg-repeat":[{bg:q()}],"bg-size":[{bg:A()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ur,me,fe],radial:["",me,fe],conic:[ur,me,fe]},vk,mk]}],"bg-color":[{bg:P()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:P()}],"gradient-via":[{via:P()}],"gradient-to":[{to:P()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...je(),"hidden","none"]}],"divide-style":[{divide:[...je(),"hidden","none"]}],"border-color":[{border:P()}],"border-color-x":[{"border-x":P()}],"border-color-y":[{"border-y":P()}],"border-color-s":[{"border-s":P()}],"border-color-e":[{"border-e":P()}],"border-color-t":[{"border-t":P()}],"border-color-r":[{"border-r":P()}],"border-color-b":[{"border-b":P()}],"border-color-l":[{"border-l":P()}],"divide-color":[{divide:P()}],"outline-style":[{outline:[...je(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Re,me,fe]}],"outline-w":[{outline:["",Re,Oi,Lr]}],"outline-color":[{outline:P()}],shadow:[{shadow:["","none",v,xa,wa]}],"shadow-color":[{shadow:P()}],"inset-shadow":[{"inset-shadow":["none",w,xa,wa]}],"inset-shadow-color":[{"inset-shadow":P()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:P()}],"ring-offset-w":[{"ring-offset":[Re,Lr]}],"ring-offset-color":[{"ring-offset":P()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":P()}],"text-shadow":[{"text-shadow":["none",_,xa,wa]}],"text-shadow-color":[{"text-shadow":P()}],opacity:[{opacity:[Re,me,fe]}],"mix-blend":[{"mix-blend":[...xe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Re]}],"mask-image-linear-from-pos":[{"mask-linear-from":X()}],"mask-image-linear-to-pos":[{"mask-linear-to":X()}],"mask-image-linear-from-color":[{"mask-linear-from":P()}],"mask-image-linear-to-color":[{"mask-linear-to":P()}],"mask-image-t-from-pos":[{"mask-t-from":X()}],"mask-image-t-to-pos":[{"mask-t-to":X()}],"mask-image-t-from-color":[{"mask-t-from":P()}],"mask-image-t-to-color":[{"mask-t-to":P()}],"mask-image-r-from-pos":[{"mask-r-from":X()}],"mask-image-r-to-pos":[{"mask-r-to":X()}],"mask-image-r-from-color":[{"mask-r-from":P()}],"mask-image-r-to-color":[{"mask-r-to":P()}],"mask-image-b-from-pos":[{"mask-b-from":X()}],"mask-image-b-to-pos":[{"mask-b-to":X()}],"mask-image-b-from-color":[{"mask-b-from":P()}],"mask-image-b-to-color":[{"mask-b-to":P()}],"mask-image-l-from-pos":[{"mask-l-from":X()}],"mask-image-l-to-pos":[{"mask-l-to":X()}],"mask-image-l-from-color":[{"mask-l-from":P()}],"mask-image-l-to-color":[{"mask-l-to":P()}],"mask-image-x-from-pos":[{"mask-x-from":X()}],"mask-image-x-to-pos":[{"mask-x-to":X()}],"mask-image-x-from-color":[{"mask-x-from":P()}],"mask-image-x-to-color":[{"mask-x-to":P()}],"mask-image-y-from-pos":[{"mask-y-from":X()}],"mask-image-y-to-pos":[{"mask-y-to":X()}],"mask-image-y-from-color":[{"mask-y-from":P()}],"mask-image-y-to-color":[{"mask-y-to":P()}],"mask-image-radial":[{"mask-radial":[me,fe]}],"mask-image-radial-from-pos":[{"mask-radial-from":X()}],"mask-image-radial-to-pos":[{"mask-radial-to":X()}],"mask-image-radial-from-color":[{"mask-radial-from":P()}],"mask-image-radial-to-color":[{"mask-radial-to":P()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":O()}],"mask-image-conic-pos":[{"mask-conic":[Re]}],"mask-image-conic-from-pos":[{"mask-conic-from":X()}],"mask-image-conic-to-pos":[{"mask-conic-to":X()}],"mask-image-conic-from-color":[{"mask-conic-from":P()}],"mask-image-conic-to-color":[{"mask-conic-to":P()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:G()}],"mask-repeat":[{mask:q()}],"mask-size":[{mask:A()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",me,fe]}],filter:[{filter:["","none",me,fe]}],blur:[{blur:pe()}],brightness:[{brightness:[Re,me,fe]}],contrast:[{contrast:[Re,me,fe]}],"drop-shadow":[{"drop-shadow":["","none",b,xa,wa]}],"drop-shadow-color":[{"drop-shadow":P()}],grayscale:[{grayscale:["",Re,me,fe]}],"hue-rotate":[{"hue-rotate":[Re,me,fe]}],invert:[{invert:["",Re,me,fe]}],saturate:[{saturate:[Re,me,fe]}],sepia:[{sepia:["",Re,me,fe]}],"backdrop-filter":[{"backdrop-filter":["","none",me,fe]}],"backdrop-blur":[{"backdrop-blur":pe()}],"backdrop-brightness":[{"backdrop-brightness":[Re,me,fe]}],"backdrop-contrast":[{"backdrop-contrast":[Re,me,fe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Re,me,fe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Re,me,fe]}],"backdrop-invert":[{"backdrop-invert":["",Re,me,fe]}],"backdrop-opacity":[{"backdrop-opacity":[Re,me,fe]}],"backdrop-saturate":[{"backdrop-saturate":[Re,me,fe]}],"backdrop-sepia":[{"backdrop-sepia":["",Re,me,fe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":B()}],"border-spacing-x":[{"border-spacing-x":B()}],"border-spacing-y":[{"border-spacing-y":B()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",me,fe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Re,"initial",me,fe]}],ease:[{ease:["linear","initial",j,me,fe]}],delay:[{delay:[Re,me,fe]}],animate:[{animate:["none",N,me,fe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,me,fe]}],"perspective-origin":[{"perspective-origin":$()}],rotate:[{rotate:Se()}],"rotate-x":[{"rotate-x":Se()}],"rotate-y":[{"rotate-y":Se()}],"rotate-z":[{"rotate-z":Se()}],scale:[{scale:we()}],"scale-x":[{"scale-x":we()}],"scale-y":[{"scale-y":we()}],"scale-z":[{"scale-z":we()}],"scale-3d":["scale-3d"],skew:[{skew:Te()}],"skew-x":[{"skew-x":Te()}],"skew-y":[{"skew-y":Te()}],transform:[{transform:[me,fe,"","none","gpu","cpu"]}],"transform-origin":[{origin:$()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Pe()}],"translate-x":[{"translate-x":Pe()}],"translate-y":[{"translate-y":Pe()}],"translate-z":[{"translate-z":Pe()}],"translate-none":["translate-none"],accent:[{accent:P()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:P()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me,fe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me,fe]}],fill:[{fill:["none",...P()]}],"stroke-w":[{stroke:[Re,Oi,Lr,du]}],stroke:[{stroke:["none",...P()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},_k=tk(xk);function it(...t){return _k(Rg(t))}function le({className:t,...e}){return c.jsx("div",{"data-slot":"card",className:it("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function Et({className:t,...e}){return c.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto rounded-md border border-gray-200 bg-white",children:c.jsx("table",{"data-slot":"table",className:it("w-full caption-bottom text-sm",t),...e})})}function Xt({className:t,...e}){return c.jsx("thead",{"data-slot":"table-header",className:it("bg-gray-50 border-b border-gray-200 [&_tr]:border-b-0",t),...e})}function jt({className:t,...e}){return c.jsx("tbody",{"data-slot":"table-body",className:it("[&_tr:last-child]:border-0",t),...e})}function Ce({className:t,...e}){return c.jsx("tr",{"data-slot":"table-row",className:it("border-b border-gray-100 transition-colors hover:bg-gray-50 data-[state=selected]:bg-gray-100",t),...e})}function se({className:t,...e}){return c.jsx("th",{"data-slot":"table-head",className:it("h-10 px-4 text-left align-middle text-xs font-semibold uppercase tracking-wider text-gray-600 whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function H({className:t,...e}){return c.jsx("td",{"data-slot":"table-cell",className:it("px-4 py-3 align-middle whitespace-nowrap text-sm text-gray-700 [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}const bk="164475",Fe="/server",zg="2025/26",Sk="2025/26";function kk(){const[t,e]=y.useState(null),[r,i]=y.useState(null),[a,l]=y.useState(1),[u,h]=y.useState(!0),[f,p]=y.useState(null);return y.useEffect(()=>{async function v(){try{h(!0),p(null);const w=await fetch(`${De}/functions/v1${Fe}/current-gameweek`,{headers:Me()});if(w.ok){const b=await w.json();l(b.current_gameweek||1)}const _=await fetch(`${De}/functions/v1${Fe}/league-standings`,{headers:Me()});if(_.ok){const b=await _.json();e(b.leagueId||null),i(b.leagueName||null)}else throw new Error("Failed to load league context")}catch(w){console.error("Failed to load tournament context:",w),p(w.message||"Failed to load league data")}finally{h(!1)}}v()},[]),y.useMemo(()=>({entryId:bk,leagueId:t,leagueName:r,currentGameweek:a,loading:u,error:f}),[t,r,a,u,f])}function cp(t,[e,r]){return Math.min(r,Math.max(e,t))}function $e(t,e,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t==null||t(a),r===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function eo(t,e=[]){let r=[];function i(l,u){const h=y.createContext(u),f=r.length;r=[...r,u];const p=w=>{var j;const{scope:_,children:b,...E}=w,x=((j=_==null?void 0:_[t])==null?void 0:j[f])||h,S=y.useMemo(()=>E,Object.values(E));return c.jsx(x.Provider,{value:S,children:b})};p.displayName=l+"Provider";function v(w,_){var x;const b=((x=_==null?void 0:_[t])==null?void 0:x[f])||h,E=y.useContext(b);if(E)return E;if(u!==void 0)return u;throw new Error(`\`${w}\` must be used within \`${l}\``)}return[p,v]}const a=()=>{const l=r.map(u=>y.createContext(u));return function(h){const f=(h==null?void 0:h[t])||l;return y.useMemo(()=>({[`__scope${t}`]:{...h,[t]:f}}),[h,f])}};return a.scopeName=t,[i,Ek(a,...e)]}function Ek(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const i=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const u=i.reduce((h,{useScope:f,scopeName:p})=>{const w=f(l)[`__scope${p}`];return{...h,...w}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return r.scopeName=e.scopeName,r}function up(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Bg(...t){return e=>{let r=!1;const i=t.map(a=>{const l=up(a,e);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():up(t[a],null)}}}}function ut(...t){return y.useCallback(Bg(...t),t)}var Is=y.forwardRef((t,e)=>{const{children:r,...i}=t,a=y.Children.toArray(r),l=a.find(Nk);if(l){const u=l.props.children,h=a.map(f=>f===l?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return c.jsx(Bu,{...i,ref:e,children:y.isValidElement(u)?y.cloneElement(u,void 0,h):null})}return c.jsx(Bu,{...i,ref:e,children:r})});Is.displayName="Slot";var Bu=y.forwardRef((t,e)=>{const{children:r,...i}=t;if(y.isValidElement(r)){const a=Tk(r),l=Ck(i,r.props);return r.type!==y.Fragment&&(l.ref=e?Bg(e,a):a),y.cloneElement(r,l)}return y.Children.count(r)>1?y.Children.only(null):null});Bu.displayName="SlotClone";var jk=({children:t})=>c.jsx(c.Fragment,{children:t});function Nk(t){return y.isValidElement(t)&&t.type===jk}function Ck(t,e){const r={...e};for(const i in e){const a=t[i],l=e[i];/^on[A-Z]/.test(i)?a&&l?r[i]=(...h)=>{l(...h),a(...h)}:a&&(r[i]=a):i==="style"?r[i]={...a,...l}:i==="className"&&(r[i]=[a,l].filter(Boolean).join(" "))}return{...t,...r}}function Tk(t){var i,a;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Wg(t){const e=t+"CollectionProvider",[r,i]=eo(e),[a,l]=r(e,{collectionRef:{current:null},itemMap:new Map}),u=b=>{const{scope:E,children:x}=b,S=bn.useRef(null),j=bn.useRef(new Map).current;return c.jsx(a,{scope:E,itemMap:j,collectionRef:S,children:x})};u.displayName=e;const h=t+"CollectionSlot",f=bn.forwardRef((b,E)=>{const{scope:x,children:S}=b,j=l(h,x),N=ut(E,j.collectionRef);return c.jsx(Is,{ref:N,children:S})});f.displayName=h;const p=t+"CollectionItemSlot",v="data-radix-collection-item",w=bn.forwardRef((b,E)=>{const{scope:x,children:S,...j}=b,N=bn.useRef(null),C=ut(E,N),O=l(p,x);return bn.useEffect(()=>(O.itemMap.set(N,{ref:N,...j}),()=>void O.itemMap.delete(N))),c.jsx(Is,{[v]:"",ref:C,children:S})});w.displayName=p;function _(b){const E=l(t+"CollectionConsumer",b);return bn.useCallback(()=>{const S=E.collectionRef.current;if(!S)return[];const j=Array.from(S.querySelectorAll(`[${v}]`));return Array.from(E.itemMap.values()).sort((O,$)=>j.indexOf(O.ref.current)-j.indexOf($.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:u,Slot:f,ItemSlot:w},_,i]}var Rk=y.createContext(void 0);function pd(t){const e=y.useContext(Rk);return t||e||"ltr"}var Pk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ue=Pk.reduce((t,e)=>{const r=y.forwardRef((i,a)=>{const{asChild:l,...u}=i,h=l?Is:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(h,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Ak(t,e){t&&Xi.flushSync(()=>t.dispatchEvent(e))}function jn(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...r)=>{var i;return(i=e.current)==null?void 0:i.call(e,...r)},[])}function Ok(t,e=globalThis==null?void 0:globalThis.document){const r=jn(t);y.useEffect(()=>{const i=a=>{a.key==="Escape"&&r(a)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[r,e])}var Ik="DismissableLayer",Wu="dismissableLayer.update",Lk="dismissableLayer.pointerDownOutside",$k="dismissableLayer.focusOutside",dp,Vg=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Hg=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:u,onDismiss:h,...f}=t,p=y.useContext(Vg),[v,w]=y.useState(null),_=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=y.useState({}),E=ut(e,L=>w(L)),x=Array.from(p.layers),[S]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),j=x.indexOf(S),N=v?x.indexOf(v):-1,C=p.layersWithOutsidePointerEventsDisabled.size>0,O=N>=j,$=Fk(L=>{const B=L.target,U=[...p.branches].some(ee=>ee.contains(B));!O||U||(a==null||a(L),u==null||u(L),L.defaultPrevented||h==null||h())},_),F=Uk(L=>{const B=L.target;[...p.branches].some(ee=>ee.contains(B))||(l==null||l(L),u==null||u(L),L.defaultPrevented||h==null||h())},_);return Ok(L=>{N===p.layers.size-1&&(i==null||i(L),!L.defaultPrevented&&h&&(L.preventDefault(),h()))},_),y.useEffect(()=>{if(v)return r&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(dp=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),hp(),()=>{r&&p.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=dp)}},[v,_,r,p]),y.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),hp())},[v,p]),y.useEffect(()=>{const L=()=>b({});return document.addEventListener(Wu,L),()=>document.removeEventListener(Wu,L)},[]),c.jsx(Ue.div,{...f,ref:E,style:{pointerEvents:C?O?"auto":"none":void 0,...t.style},onFocusCapture:$e(t.onFocusCapture,F.onFocusCapture),onBlurCapture:$e(t.onBlurCapture,F.onBlurCapture),onPointerDownCapture:$e(t.onPointerDownCapture,$.onPointerDownCapture)})});Hg.displayName=Ik;var Dk="DismissableLayerBranch",Mk=y.forwardRef((t,e)=>{const r=y.useContext(Vg),i=y.useRef(null),a=ut(e,i);return y.useEffect(()=>{const l=i.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),c.jsx(Ue.div,{...t,ref:a})});Mk.displayName=Dk;function Fk(t,e=globalThis==null?void 0:globalThis.document){const r=jn(t),i=y.useRef(!1),a=y.useRef(()=>{});return y.useEffect(()=>{const l=h=>{if(h.target&&!i.current){let f=function(){Gg(Lk,r,p,{discrete:!0})};const p={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=f,e.addEventListener("click",a.current,{once:!0})):f()}else e.removeEventListener("click",a.current);i.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",a.current)}},[e,r]),{onPointerDownCapture:()=>i.current=!0}}function Uk(t,e=globalThis==null?void 0:globalThis.document){const r=jn(t),i=y.useRef(!1);return y.useEffect(()=>{const a=l=>{l.target&&!i.current&&Gg($k,r,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,r]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function hp(){const t=new CustomEvent(Wu);document.dispatchEvent(t)}function Gg(t,e,r,{discrete:i}){const a=r.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),i?Ak(a,l):a.dispatchEvent(l)}var hu=0;function zk(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??fp()),document.body.insertAdjacentElement("beforeend",t[1]??fp()),hu++,()=>{hu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),hu--}},[])}function fp(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var fu="focusScope.autoFocusOnMount",mu="focusScope.autoFocusOnUnmount",mp={bubbles:!1,cancelable:!0},Bk="FocusScope",Kg=y.forwardRef((t,e)=>{const{loop:r=!1,trapped:i=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...u}=t,[h,f]=y.useState(null),p=jn(a),v=jn(l),w=y.useRef(null),_=ut(e,x=>f(x)),b=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(i){let x=function(C){if(b.paused||!h)return;const O=C.target;h.contains(O)?w.current=O:dr(w.current,{select:!0})},S=function(C){if(b.paused||!h)return;const O=C.relatedTarget;O!==null&&(h.contains(O)||dr(w.current,{select:!0}))},j=function(C){if(document.activeElement===document.body)for(const $ of C)$.removedNodes.length>0&&dr(h)};document.addEventListener("focusin",x),document.addEventListener("focusout",S);const N=new MutationObserver(j);return h&&N.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",S),N.disconnect()}}},[i,h,b.paused]),y.useEffect(()=>{if(h){gp.add(b);const x=document.activeElement;if(!h.contains(x)){const j=new CustomEvent(fu,mp);h.addEventListener(fu,p),h.dispatchEvent(j),j.defaultPrevented||(Wk(qk(qg(h)),{select:!0}),document.activeElement===x&&dr(h))}return()=>{h.removeEventListener(fu,p),setTimeout(()=>{const j=new CustomEvent(mu,mp);h.addEventListener(mu,v),h.dispatchEvent(j),j.defaultPrevented||dr(x??document.body,{select:!0}),h.removeEventListener(mu,v),gp.remove(b)},0)}}},[h,p,v,b]);const E=y.useCallback(x=>{if(!r&&!i||b.paused)return;const S=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,j=document.activeElement;if(S&&j){const N=x.currentTarget,[C,O]=Vk(N);C&&O?!x.shiftKey&&j===O?(x.preventDefault(),r&&dr(C,{select:!0})):x.shiftKey&&j===C&&(x.preventDefault(),r&&dr(O,{select:!0})):j===N&&x.preventDefault()}},[r,i,b.paused]);return c.jsx(Ue.div,{tabIndex:-1,...u,ref:_,onKeyDown:E})});Kg.displayName=Bk;function Wk(t,{select:e=!1}={}){const r=document.activeElement;for(const i of t)if(dr(i,{select:e}),document.activeElement!==r)return}function Vk(t){const e=qg(t),r=pp(e,t),i=pp(e.reverse(),t);return[r,i]}function qg(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const a=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||a?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function pp(t,e){for(const r of t)if(!Hk(r,{upTo:e}))return r}function Hk(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Gk(t){return t instanceof HTMLInputElement&&"select"in t}function dr(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Gk(t)&&e&&t.select()}}var gp=Kk();function Kk(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=vp(t,e),t.unshift(e)},remove(e){var r;t=vp(t,e),(r=t[0])==null||r.resume()}}}function vp(t,e){const r=[...t],i=r.indexOf(e);return i!==-1&&r.splice(i,1),r}function qk(t){return t.filter(e=>e.tagName!=="A")}var Nt=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},Jk=kx.useId||(()=>{}),Yk=0;function to(t){const[e,r]=y.useState(Jk());return Nt(()=>{r(i=>i??String(Yk++))},[t]),t||(e?`radix-${e}`:"")}const Qk=["top","right","bottom","left"],pr=Math.min,Ft=Math.max,Ma=Math.round,_a=Math.floor,En=t=>({x:t,y:t}),Xk={left:"right",right:"left",bottom:"top",top:"bottom"},Zk={start:"end",end:"start"};function Vu(t,e,r){return Ft(t,pr(e,r))}function zn(t,e){return typeof t=="function"?t(e):t}function Bn(t){return t.split("-")[0]}function Ws(t){return t.split("-")[1]}function gd(t){return t==="x"?"y":"x"}function vd(t){return t==="y"?"height":"width"}const eE=new Set(["top","bottom"]);function kn(t){return eE.has(Bn(t))?"y":"x"}function yd(t){return gd(kn(t))}function tE(t,e,r){r===void 0&&(r=!1);const i=Ws(t),a=yd(t),l=vd(a);let u=a==="x"?i===(r?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=Fa(u)),[u,Fa(u)]}function nE(t){const e=Fa(t);return[Hu(t),e,Hu(e)]}function Hu(t){return t.replace(/start|end/g,e=>Zk[e])}const yp=["left","right"],wp=["right","left"],rE=["top","bottom"],sE=["bottom","top"];function iE(t,e,r){switch(t){case"top":case"bottom":return r?e?wp:yp:e?yp:wp;case"left":case"right":return e?rE:sE;default:return[]}}function oE(t,e,r,i){const a=Ws(t);let l=iE(Bn(t),r==="start",i);return a&&(l=l.map(u=>u+"-"+a),e&&(l=l.concat(l.map(Hu)))),l}function Fa(t){return t.replace(/left|right|bottom|top/g,e=>Xk[e])}function aE(t){return{top:0,right:0,bottom:0,left:0,...t}}function Jg(t){return typeof t!="number"?aE(t):{top:t,right:t,bottom:t,left:t}}function Ua(t){const{x:e,y:r,width:i,height:a}=t;return{width:i,height:a,top:r,left:e,right:e+i,bottom:r+a,x:e,y:r}}function xp(t,e,r){let{reference:i,floating:a}=t;const l=kn(e),u=yd(e),h=vd(u),f=Bn(e),p=l==="y",v=i.x+i.width/2-a.width/2,w=i.y+i.height/2-a.height/2,_=i[h]/2-a[h]/2;let b;switch(f){case"top":b={x:v,y:i.y-a.height};break;case"bottom":b={x:v,y:i.y+i.height};break;case"right":b={x:i.x+i.width,y:w};break;case"left":b={x:i.x-a.width,y:w};break;default:b={x:i.x,y:i.y}}switch(Ws(e)){case"start":b[u]-=_*(r&&p?-1:1);break;case"end":b[u]+=_*(r&&p?-1:1);break}return b}const lE=async(t,e,r)=>{const{placement:i="bottom",strategy:a="absolute",middleware:l=[],platform:u}=r,h=l.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:t,floating:e,strategy:a}),{x:v,y:w}=xp(p,i,f),_=i,b={},E=0;for(let x=0;x<h.length;x++){const{name:S,fn:j}=h[x],{x:N,y:C,data:O,reset:$}=await j({x:v,y:w,initialPlacement:i,placement:_,strategy:a,middlewareData:b,rects:p,platform:u,elements:{reference:t,floating:e}});v=N??v,w=C??w,b={...b,[S]:{...b[S],...O}},$&&E<=50&&(E++,typeof $=="object"&&($.placement&&(_=$.placement),$.rects&&(p=$.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:a}):$.rects),{x:v,y:w}=xp(p,_,f)),x=-1)}return{x:v,y:w,placement:_,strategy:a,middlewareData:b}};async function qi(t,e){var r;e===void 0&&(e={});const{x:i,y:a,platform:l,rects:u,elements:h,strategy:f}=t,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:w="floating",altBoundary:_=!1,padding:b=0}=zn(e,t),E=Jg(b),S=h[_?w==="floating"?"reference":"floating":w],j=Ua(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(S)))==null||r?S:S.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(h.floating)),boundary:p,rootBoundary:v,strategy:f})),N=w==="floating"?{x:i,y:a,width:u.floating.width,height:u.floating.height}:u.reference,C=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h.floating)),O=await(l.isElement==null?void 0:l.isElement(C))?await(l.getScale==null?void 0:l.getScale(C))||{x:1,y:1}:{x:1,y:1},$=Ua(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:N,offsetParent:C,strategy:f}):N);return{top:(j.top-$.top+E.top)/O.y,bottom:($.bottom-j.bottom+E.bottom)/O.y,left:(j.left-$.left+E.left)/O.x,right:($.right-j.right+E.right)/O.x}}const cE=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:i,placement:a,rects:l,platform:u,elements:h,middlewareData:f}=e,{element:p,padding:v=0}=zn(t,e)||{};if(p==null)return{};const w=Jg(v),_={x:r,y:i},b=yd(a),E=vd(b),x=await u.getDimensions(p),S=b==="y",j=S?"top":"left",N=S?"bottom":"right",C=S?"clientHeight":"clientWidth",O=l.reference[E]+l.reference[b]-_[b]-l.floating[E],$=_[b]-l.reference[b],F=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let L=F?F[C]:0;(!L||!await(u.isElement==null?void 0:u.isElement(F)))&&(L=h.floating[C]||l.floating[E]);const B=O/2-$/2,U=L/2-x[E]/2-1,ee=pr(w[j],U),ie=pr(w[N],U),K=ee,J=L-x[E]-ie,oe=L/2-x[E]/2+B,ae=Vu(K,oe,J),te=!f.arrow&&Ws(a)!=null&&oe!==ae&&l.reference[E]/2-(oe<K?ee:ie)-x[E]/2<0,D=te?oe<K?oe-K:oe-J:0;return{[b]:_[b]+D,data:{[b]:ae,centerOffset:oe-ae-D,...te&&{alignmentOffset:D}},reset:te}}}),uE=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,i;const{placement:a,middlewareData:l,rects:u,initialPlacement:h,platform:f,elements:p}=e,{mainAxis:v=!0,crossAxis:w=!0,fallbackPlacements:_,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:x=!0,...S}=zn(t,e);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const j=Bn(a),N=kn(h),C=Bn(h)===h,O=await(f.isRTL==null?void 0:f.isRTL(p.floating)),$=_||(C||!x?[Fa(h)]:nE(h)),F=E!=="none";!_&&F&&$.push(...oE(h,x,E,O));const L=[h,...$],B=await qi(e,S),U=[];let ee=((i=l.flip)==null?void 0:i.overflows)||[];if(v&&U.push(B[j]),w){const oe=tE(a,u,O);U.push(B[oe[0]],B[oe[1]])}if(ee=[...ee,{placement:a,overflows:U}],!U.every(oe=>oe<=0)){var ie,K;const oe=(((ie=l.flip)==null?void 0:ie.index)||0)+1,ae=L[oe];if(ae&&(!(w==="alignment"?N!==kn(ae):!1)||ee.every(P=>kn(P.placement)===N?P.overflows[0]>0:!0)))return{data:{index:oe,overflows:ee},reset:{placement:ae}};let te=(K=ee.filter(D=>D.overflows[0]<=0).sort((D,P)=>D.overflows[1]-P.overflows[1])[0])==null?void 0:K.placement;if(!te)switch(b){case"bestFit":{var J;const D=(J=ee.filter(P=>{if(F){const G=kn(P.placement);return G===N||G==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(G=>G>0).reduce((G,q)=>G+q,0)]).sort((P,G)=>P[1]-G[1])[0])==null?void 0:J[0];D&&(te=D);break}case"initialPlacement":te=h;break}if(a!==te)return{reset:{placement:te}}}return{}}}};function _p(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function bp(t){return Qk.some(e=>t[e]>=0)}const dE=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:i="referenceHidden",...a}=zn(t,e);switch(i){case"referenceHidden":{const l=await qi(e,{...a,elementContext:"reference"}),u=_p(l,r.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:bp(u)}}}case"escaped":{const l=await qi(e,{...a,altBoundary:!0}),u=_p(l,r.floating);return{data:{escapedOffsets:u,escaped:bp(u)}}}default:return{}}}}},Yg=new Set(["left","top"]);async function hE(t,e){const{placement:r,platform:i,elements:a}=t,l=await(i.isRTL==null?void 0:i.isRTL(a.floating)),u=Bn(r),h=Ws(r),f=kn(r)==="y",p=Yg.has(u)?-1:1,v=l&&f?-1:1,w=zn(e,t);let{mainAxis:_,crossAxis:b,alignmentAxis:E}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return h&&typeof E=="number"&&(b=h==="end"?E*-1:E),f?{x:b*v,y:_*p}:{x:_*p,y:b*v}}const fE=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,i;const{x:a,y:l,placement:u,middlewareData:h}=e,f=await hE(e,t);return u===((r=h.offset)==null?void 0:r.placement)&&(i=h.arrow)!=null&&i.alignmentOffset?{}:{x:a+f.x,y:l+f.y,data:{...f,placement:u}}}}},mE=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:i,placement:a}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:h={fn:S=>{let{x:j,y:N}=S;return{x:j,y:N}}},...f}=zn(t,e),p={x:r,y:i},v=await qi(e,f),w=kn(Bn(a)),_=gd(w);let b=p[_],E=p[w];if(l){const S=_==="y"?"top":"left",j=_==="y"?"bottom":"right",N=b+v[S],C=b-v[j];b=Vu(N,b,C)}if(u){const S=w==="y"?"top":"left",j=w==="y"?"bottom":"right",N=E+v[S],C=E-v[j];E=Vu(N,E,C)}const x=h.fn({...e,[_]:b,[w]:E});return{...x,data:{x:x.x-r,y:x.y-i,enabled:{[_]:l,[w]:u}}}}}},pE=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:i,placement:a,rects:l,middlewareData:u}=e,{offset:h=0,mainAxis:f=!0,crossAxis:p=!0}=zn(t,e),v={x:r,y:i},w=kn(a),_=gd(w);let b=v[_],E=v[w];const x=zn(h,e),S=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(f){const C=_==="y"?"height":"width",O=l.reference[_]-l.floating[C]+S.mainAxis,$=l.reference[_]+l.reference[C]-S.mainAxis;b<O?b=O:b>$&&(b=$)}if(p){var j,N;const C=_==="y"?"width":"height",O=Yg.has(Bn(a)),$=l.reference[w]-l.floating[C]+(O&&((j=u.offset)==null?void 0:j[w])||0)+(O?0:S.crossAxis),F=l.reference[w]+l.reference[C]+(O?0:((N=u.offset)==null?void 0:N[w])||0)-(O?S.crossAxis:0);E<$?E=$:E>F&&(E=F)}return{[_]:b,[w]:E}}}},gE=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,i;const{placement:a,rects:l,platform:u,elements:h}=e,{apply:f=()=>{},...p}=zn(t,e),v=await qi(e,p),w=Bn(a),_=Ws(a),b=kn(a)==="y",{width:E,height:x}=l.floating;let S,j;w==="top"||w==="bottom"?(S=w,j=_===(await(u.isRTL==null?void 0:u.isRTL(h.floating))?"start":"end")?"left":"right"):(j=w,S=_==="end"?"top":"bottom");const N=x-v.top-v.bottom,C=E-v.left-v.right,O=pr(x-v[S],N),$=pr(E-v[j],C),F=!e.middlewareData.shift;let L=O,B=$;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(B=C),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(L=N),F&&!_){const ee=Ft(v.left,0),ie=Ft(v.right,0),K=Ft(v.top,0),J=Ft(v.bottom,0);b?B=E-2*(ee!==0||ie!==0?ee+ie:Ft(v.left,v.right)):L=x-2*(K!==0||J!==0?K+J:Ft(v.top,v.bottom))}await f({...e,availableWidth:B,availableHeight:L});const U=await u.getDimensions(h.floating);return E!==U.width||x!==U.height?{reset:{rects:!0}}:{}}}};function qa(){return typeof window<"u"}function Vs(t){return Qg(t)?(t.nodeName||"").toLowerCase():"#document"}function Bt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Cn(t){var e;return(e=(Qg(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Qg(t){return qa()?t instanceof Node||t instanceof Bt(t).Node:!1}function fn(t){return qa()?t instanceof Element||t instanceof Bt(t).Element:!1}function Nn(t){return qa()?t instanceof HTMLElement||t instanceof Bt(t).HTMLElement:!1}function Sp(t){return!qa()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Bt(t).ShadowRoot}const vE=new Set(["inline","contents"]);function no(t){const{overflow:e,overflowX:r,overflowY:i,display:a}=mn(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+r)&&!vE.has(a)}const yE=new Set(["table","td","th"]);function wE(t){return yE.has(Vs(t))}const xE=[":popover-open",":modal"];function Ja(t){return xE.some(e=>{try{return t.matches(e)}catch{return!1}})}const _E=["transform","translate","scale","rotate","perspective"],bE=["transform","translate","scale","rotate","perspective","filter"],SE=["paint","layout","strict","content"];function wd(t){const e=xd(),r=fn(t)?mn(t):t;return _E.some(i=>r[i]?r[i]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||bE.some(i=>(r.willChange||"").includes(i))||SE.some(i=>(r.contain||"").includes(i))}function kE(t){let e=gr(t);for(;Nn(e)&&!Ls(e);){if(wd(e))return e;if(Ja(e))return null;e=gr(e)}return null}function xd(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const EE=new Set(["html","body","#document"]);function Ls(t){return EE.has(Vs(t))}function mn(t){return Bt(t).getComputedStyle(t)}function Ya(t){return fn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function gr(t){if(Vs(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Sp(t)&&t.host||Cn(t);return Sp(e)?e.host:e}function Xg(t){const e=gr(t);return Ls(e)?t.ownerDocument?t.ownerDocument.body:t.body:Nn(e)&&no(e)?e:Xg(e)}function Ji(t,e,r){var i;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=Xg(t),l=a===((i=t.ownerDocument)==null?void 0:i.body),u=Bt(a);if(l){const h=Gu(u);return e.concat(u,u.visualViewport||[],no(a)?a:[],h&&r?Ji(h):[])}return e.concat(a,Ji(a,[],r))}function Gu(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Zg(t){const e=mn(t);let r=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const a=Nn(t),l=a?t.offsetWidth:r,u=a?t.offsetHeight:i,h=Ma(r)!==l||Ma(i)!==u;return h&&(r=l,i=u),{width:r,height:i,$:h}}function _d(t){return fn(t)?t:t.contextElement}function Ps(t){const e=_d(t);if(!Nn(e))return En(1);const r=e.getBoundingClientRect(),{width:i,height:a,$:l}=Zg(e);let u=(l?Ma(r.width):r.width)/i,h=(l?Ma(r.height):r.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const jE=En(0);function ev(t){const e=Bt(t);return!xd()||!e.visualViewport?jE:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function NE(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Bt(t)?!1:e}function Ur(t,e,r,i){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),l=_d(t);let u=En(1);e&&(i?fn(i)&&(u=Ps(i)):u=Ps(t));const h=NE(l,r,i)?ev(l):En(0);let f=(a.left+h.x)/u.x,p=(a.top+h.y)/u.y,v=a.width/u.x,w=a.height/u.y;if(l){const _=Bt(l),b=i&&fn(i)?Bt(i):i;let E=_,x=Gu(E);for(;x&&i&&b!==E;){const S=Ps(x),j=x.getBoundingClientRect(),N=mn(x),C=j.left+(x.clientLeft+parseFloat(N.paddingLeft))*S.x,O=j.top+(x.clientTop+parseFloat(N.paddingTop))*S.y;f*=S.x,p*=S.y,v*=S.x,w*=S.y,f+=C,p+=O,E=Bt(x),x=Gu(E)}}return Ua({width:v,height:w,x:f,y:p})}function Qa(t,e){const r=Ya(t).scrollLeft;return e?e.left+r:Ur(Cn(t)).left+r}function tv(t,e){const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-Qa(t,r),a=r.top+e.scrollTop;return{x:i,y:a}}function CE(t){let{elements:e,rect:r,offsetParent:i,strategy:a}=t;const l=a==="fixed",u=Cn(i),h=e?Ja(e.floating):!1;if(i===u||h&&l)return r;let f={scrollLeft:0,scrollTop:0},p=En(1);const v=En(0),w=Nn(i);if((w||!w&&!l)&&((Vs(i)!=="body"||no(u))&&(f=Ya(i)),Nn(i))){const b=Ur(i);p=Ps(i),v.x=b.x+i.clientLeft,v.y=b.y+i.clientTop}const _=u&&!w&&!l?tv(u,f):En(0);return{width:r.width*p.x,height:r.height*p.y,x:r.x*p.x-f.scrollLeft*p.x+v.x+_.x,y:r.y*p.y-f.scrollTop*p.y+v.y+_.y}}function TE(t){return Array.from(t.getClientRects())}function RE(t){const e=Cn(t),r=Ya(t),i=t.ownerDocument.body,a=Ft(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),l=Ft(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let u=-r.scrollLeft+Qa(t);const h=-r.scrollTop;return mn(i).direction==="rtl"&&(u+=Ft(e.clientWidth,i.clientWidth)-a),{width:a,height:l,x:u,y:h}}const kp=25;function PE(t,e){const r=Bt(t),i=Cn(t),a=r.visualViewport;let l=i.clientWidth,u=i.clientHeight,h=0,f=0;if(a){l=a.width,u=a.height;const v=xd();(!v||v&&e==="fixed")&&(h=a.offsetLeft,f=a.offsetTop)}const p=Qa(i);if(p<=0){const v=i.ownerDocument,w=v.body,_=getComputedStyle(w),b=v.compatMode==="CSS1Compat"&&parseFloat(_.marginLeft)+parseFloat(_.marginRight)||0,E=Math.abs(i.clientWidth-w.clientWidth-b);E<=kp&&(l-=E)}else p<=kp&&(l+=p);return{width:l,height:u,x:h,y:f}}const AE=new Set(["absolute","fixed"]);function OE(t,e){const r=Ur(t,!0,e==="fixed"),i=r.top+t.clientTop,a=r.left+t.clientLeft,l=Nn(t)?Ps(t):En(1),u=t.clientWidth*l.x,h=t.clientHeight*l.y,f=a*l.x,p=i*l.y;return{width:u,height:h,x:f,y:p}}function Ep(t,e,r){let i;if(e==="viewport")i=PE(t,r);else if(e==="document")i=RE(Cn(t));else if(fn(e))i=OE(e,r);else{const a=ev(t);i={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Ua(i)}function nv(t,e){const r=gr(t);return r===e||!fn(r)||Ls(r)?!1:mn(r).position==="fixed"||nv(r,e)}function IE(t,e){const r=e.get(t);if(r)return r;let i=Ji(t,[],!1).filter(h=>fn(h)&&Vs(h)!=="body"),a=null;const l=mn(t).position==="fixed";let u=l?gr(t):t;for(;fn(u)&&!Ls(u);){const h=mn(u),f=wd(u);!f&&h.position==="fixed"&&(a=null),(l?!f&&!a:!f&&h.position==="static"&&!!a&&AE.has(a.position)||no(u)&&!f&&nv(t,u))?i=i.filter(v=>v!==u):a=h,u=gr(u)}return e.set(t,i),i}function LE(t){let{element:e,boundary:r,rootBoundary:i,strategy:a}=t;const u=[...r==="clippingAncestors"?Ja(e)?[]:IE(e,this._c):[].concat(r),i],h=u[0],f=u.reduce((p,v)=>{const w=Ep(e,v,a);return p.top=Ft(w.top,p.top),p.right=pr(w.right,p.right),p.bottom=pr(w.bottom,p.bottom),p.left=Ft(w.left,p.left),p},Ep(e,h,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function $E(t){const{width:e,height:r}=Zg(t);return{width:e,height:r}}function DE(t,e,r){const i=Nn(e),a=Cn(e),l=r==="fixed",u=Ur(t,!0,l,e);let h={scrollLeft:0,scrollTop:0};const f=En(0);function p(){f.x=Qa(a)}if(i||!i&&!l)if((Vs(e)!=="body"||no(a))&&(h=Ya(e)),i){const b=Ur(e,!0,l,e);f.x=b.x+e.clientLeft,f.y=b.y+e.clientTop}else a&&p();l&&!i&&a&&p();const v=a&&!i&&!l?tv(a,h):En(0),w=u.left+h.scrollLeft-f.x-v.x,_=u.top+h.scrollTop-f.y-v.y;return{x:w,y:_,width:u.width,height:u.height}}function pu(t){return mn(t).position==="static"}function jp(t,e){if(!Nn(t)||mn(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Cn(t)===r&&(r=r.ownerDocument.body),r}function rv(t,e){const r=Bt(t);if(Ja(t))return r;if(!Nn(t)){let a=gr(t);for(;a&&!Ls(a);){if(fn(a)&&!pu(a))return a;a=gr(a)}return r}let i=jp(t,e);for(;i&&wE(i)&&pu(i);)i=jp(i,e);return i&&Ls(i)&&pu(i)&&!wd(i)?r:i||kE(t)||r}const ME=async function(t){const e=this.getOffsetParent||rv,r=this.getDimensions,i=await r(t.floating);return{reference:DE(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function FE(t){return mn(t).direction==="rtl"}const UE={convertOffsetParentRelativeRectToViewportRelativeRect:CE,getDocumentElement:Cn,getClippingRect:LE,getOffsetParent:rv,getElementRects:ME,getClientRects:TE,getDimensions:$E,getScale:Ps,isElement:fn,isRTL:FE};function sv(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function zE(t,e){let r=null,i;const a=Cn(t);function l(){var h;clearTimeout(i),(h=r)==null||h.disconnect(),r=null}function u(h,f){h===void 0&&(h=!1),f===void 0&&(f=1),l();const p=t.getBoundingClientRect(),{left:v,top:w,width:_,height:b}=p;if(h||e(),!_||!b)return;const E=_a(w),x=_a(a.clientWidth-(v+_)),S=_a(a.clientHeight-(w+b)),j=_a(v),C={rootMargin:-E+"px "+-x+"px "+-S+"px "+-j+"px",threshold:Ft(0,pr(1,f))||1};let O=!0;function $(F){const L=F[0].intersectionRatio;if(L!==f){if(!O)return u();L?u(!1,L):i=setTimeout(()=>{u(!1,1e-7)},1e3)}L===1&&!sv(p,t.getBoundingClientRect())&&u(),O=!1}try{r=new IntersectionObserver($,{...C,root:a.ownerDocument})}catch{r=new IntersectionObserver($,C)}r.observe(t)}return u(!0),l}function BE(t,e,r,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:f=!1}=i,p=_d(t),v=a||l?[...p?Ji(p):[],...Ji(e)]:[];v.forEach(j=>{a&&j.addEventListener("scroll",r,{passive:!0}),l&&j.addEventListener("resize",r)});const w=p&&h?zE(p,r):null;let _=-1,b=null;u&&(b=new ResizeObserver(j=>{let[N]=j;N&&N.target===p&&b&&(b.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var C;(C=b)==null||C.observe(e)})),r()}),p&&!f&&b.observe(p),b.observe(e));let E,x=f?Ur(t):null;f&&S();function S(){const j=Ur(t);x&&!sv(x,j)&&r(),x=j,E=requestAnimationFrame(S)}return r(),()=>{var j;v.forEach(N=>{a&&N.removeEventListener("scroll",r),l&&N.removeEventListener("resize",r)}),w==null||w(),(j=b)==null||j.disconnect(),b=null,f&&cancelAnimationFrame(E)}}const WE=fE,VE=mE,HE=uE,GE=gE,KE=dE,Np=cE,qE=pE,JE=(t,e,r)=>{const i=new Map,a={platform:UE,...r},l={...a.platform,_c:i};return lE(t,e,{...a,platform:l})};var YE=typeof document<"u",QE=function(){},Pa=YE?y.useLayoutEffect:QE;function za(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,i,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(i=r;i--!==0;)if(!za(t[i],e[i]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(i=r;i--!==0;)if(!{}.hasOwnProperty.call(e,a[i]))return!1;for(i=r;i--!==0;){const l=a[i];if(!(l==="_owner"&&t.$$typeof)&&!za(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function iv(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Cp(t,e){const r=iv(t);return Math.round(e*r)/r}function gu(t){const e=y.useRef(t);return Pa(()=>{e.current=t}),e}function XE(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:i=[],platform:a,elements:{reference:l,floating:u}={},transform:h=!0,whileElementsMounted:f,open:p}=t,[v,w]=y.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[_,b]=y.useState(i);za(_,i)||b(i);const[E,x]=y.useState(null),[S,j]=y.useState(null),N=y.useCallback(P=>{P!==F.current&&(F.current=P,x(P))},[]),C=y.useCallback(P=>{P!==L.current&&(L.current=P,j(P))},[]),O=l||E,$=u||S,F=y.useRef(null),L=y.useRef(null),B=y.useRef(v),U=f!=null,ee=gu(f),ie=gu(a),K=gu(p),J=y.useCallback(()=>{if(!F.current||!L.current)return;const P={placement:e,strategy:r,middleware:_};ie.current&&(P.platform=ie.current),JE(F.current,L.current,P).then(G=>{const q={...G,isPositioned:K.current!==!1};oe.current&&!za(B.current,q)&&(B.current=q,Xi.flushSync(()=>{w(q)}))})},[_,e,r,ie,K]);Pa(()=>{p===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,w(P=>({...P,isPositioned:!1})))},[p]);const oe=y.useRef(!1);Pa(()=>(oe.current=!0,()=>{oe.current=!1}),[]),Pa(()=>{if(O&&(F.current=O),$&&(L.current=$),O&&$){if(ee.current)return ee.current(O,$,J);J()}},[O,$,J,ee,U]);const ae=y.useMemo(()=>({reference:F,floating:L,setReference:N,setFloating:C}),[N,C]),te=y.useMemo(()=>({reference:O,floating:$}),[O,$]),D=y.useMemo(()=>{const P={position:r,left:0,top:0};if(!te.floating)return P;const G=Cp(te.floating,v.x),q=Cp(te.floating,v.y);return h?{...P,transform:"translate("+G+"px, "+q+"px)",...iv(te.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:G,top:q}},[r,h,te.floating,v.x,v.y]);return y.useMemo(()=>({...v,update:J,refs:ae,elements:te,floatingStyles:D}),[v,J,ae,te,D])}const ZE=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:i,padding:a}=typeof t=="function"?t(r):t;return i&&e(i)?i.current!=null?Np({element:i.current,padding:a}).fn(r):{}:i?Np({element:i,padding:a}).fn(r):{}}}},ej=(t,e)=>({...WE(t),options:[t,e]}),tj=(t,e)=>({...VE(t),options:[t,e]}),nj=(t,e)=>({...qE(t),options:[t,e]}),rj=(t,e)=>({...HE(t),options:[t,e]}),sj=(t,e)=>({...GE(t),options:[t,e]}),ij=(t,e)=>({...KE(t),options:[t,e]}),oj=(t,e)=>({...ZE(t),options:[t,e]});var aj="Arrow",ov=y.forwardRef((t,e)=>{const{children:r,width:i=10,height:a=5,...l}=t;return c.jsx(Ue.svg,{...l,ref:e,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});ov.displayName=aj;var lj=ov;function cj(t){const[e,r]=y.useState(void 0);return Nt(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let u,h;if("borderBoxSize"in l){const f=l.borderBoxSize,p=Array.isArray(f)?f[0]:f;u=p.inlineSize,h=p.blockSize}else u=t.offsetWidth,h=t.offsetHeight;r({width:u,height:h})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else r(void 0)},[t]),e}var bd="Popper",[av,lv]=eo(bd),[uj,cv]=av(bd),uv=t=>{const{__scopePopper:e,children:r}=t,[i,a]=y.useState(null);return c.jsx(uj,{scope:e,anchor:i,onAnchorChange:a,children:r})};uv.displayName=bd;var dv="PopperAnchor",hv=y.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:i,...a}=t,l=cv(dv,r),u=y.useRef(null),h=ut(e,u);return y.useEffect(()=>{l.onAnchorChange((i==null?void 0:i.current)||u.current)}),i?null:c.jsx(Ue.div,{...a,ref:h})});hv.displayName=dv;var Sd="PopperContent",[dj,hj]=av(Sd),fv=y.forwardRef((t,e)=>{var X,pe,Se,we,Te,Pe;const{__scopePopper:r,side:i="bottom",sideOffset:a=0,align:l="center",alignOffset:u=0,arrowPadding:h=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:v=0,sticky:w="partial",hideWhenDetached:_=!1,updatePositionStrategy:b="optimized",onPlaced:E,...x}=t,S=cv(Sd,r),[j,N]=y.useState(null),C=ut(e,qe=>N(qe)),[O,$]=y.useState(null),F=cj(O),L=(F==null?void 0:F.width)??0,B=(F==null?void 0:F.height)??0,U=i+(l!=="center"?"-"+l:""),ee=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},ie=Array.isArray(p)?p:[p],K=ie.length>0,J={padding:ee,boundary:ie.filter(mj),altBoundary:K},{refs:oe,floatingStyles:ae,placement:te,isPositioned:D,middlewareData:P}=XE({strategy:"fixed",placement:U,whileElementsMounted:(...qe)=>BE(...qe,{animationFrame:b==="always"}),elements:{reference:S.anchor},middleware:[ej({mainAxis:a+B,alignmentAxis:u}),f&&tj({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?nj():void 0,...J}),f&&rj({...J}),sj({...J,apply:({elements:qe,rects:bt,availableWidth:Zt,availableHeight:en})=>{const{width:Ht,height:wr}=bt.reference,Vn=qe.floating.style;Vn.setProperty("--radix-popper-available-width",`${Zt}px`),Vn.setProperty("--radix-popper-available-height",`${en}px`),Vn.setProperty("--radix-popper-anchor-width",`${Ht}px`),Vn.setProperty("--radix-popper-anchor-height",`${wr}px`)}}),O&&oj({element:O,padding:h}),pj({arrowWidth:L,arrowHeight:B}),_&&ij({strategy:"referenceHidden",...J})]}),[G,q]=gv(te),A=jn(E);Nt(()=>{D&&(A==null||A())},[D,A]);const V=(X=P.arrow)==null?void 0:X.x,ne=(pe=P.arrow)==null?void 0:pe.y,ue=((Se=P.arrow)==null?void 0:Se.centerOffset)!==0,[je,xe]=y.useState();return Nt(()=>{j&&xe(window.getComputedStyle(j).zIndex)},[j]),c.jsx("div",{ref:oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:D?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:je,"--radix-popper-transform-origin":[(we=P.transformOrigin)==null?void 0:we.x,(Te=P.transformOrigin)==null?void 0:Te.y].join(" "),...((Pe=P.hide)==null?void 0:Pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(dj,{scope:r,placedSide:G,onArrowChange:$,arrowX:V,arrowY:ne,shouldHideArrow:ue,children:c.jsx(Ue.div,{"data-side":G,"data-align":q,...x,ref:C,style:{...x.style,animation:D?void 0:"none"}})})})});fv.displayName=Sd;var mv="PopperArrow",fj={top:"bottom",right:"left",bottom:"top",left:"right"},pv=y.forwardRef(function(e,r){const{__scopePopper:i,...a}=e,l=hj(mv,i),u=fj[l.placedSide];return c.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:c.jsx(lj,{...a,ref:r,style:{...a.style,display:"block"}})})});pv.displayName=mv;function mj(t){return t!==null}var pj=t=>({name:"transformOrigin",options:t,fn(e){var S,j,N;const{placement:r,rects:i,middlewareData:a}=e,u=((S=a.arrow)==null?void 0:S.centerOffset)!==0,h=u?0:t.arrowWidth,f=u?0:t.arrowHeight,[p,v]=gv(r),w={start:"0%",center:"50%",end:"100%"}[v],_=(((j=a.arrow)==null?void 0:j.x)??0)+h/2,b=(((N=a.arrow)==null?void 0:N.y)??0)+f/2;let E="",x="";return p==="bottom"?(E=u?w:`${_}px`,x=`${-f}px`):p==="top"?(E=u?w:`${_}px`,x=`${i.floating.height+f}px`):p==="right"?(E=`${-f}px`,x=u?w:`${b}px`):p==="left"&&(E=`${i.floating.width+f}px`,x=u?w:`${b}px`),{data:{x:E,y:x}}}});function gv(t){const[e,r="center"]=t.split("-");return[e,r]}var gj=uv,vj=hv,yj=fv,wj=pv,xj="Portal",vv=y.forwardRef((t,e)=>{var h;const{container:r,...i}=t,[a,l]=y.useState(!1);Nt(()=>l(!0),[]);const u=r||a&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return u?l0.createPortal(c.jsx(Ue.div,{...i,ref:e}),u):null});vv.displayName=xj;function Ba({prop:t,defaultProp:e,onChange:r=()=>{}}){const[i,a]=_j({defaultProp:e,onChange:r}),l=t!==void 0,u=l?t:i,h=jn(r),f=y.useCallback(p=>{if(l){const w=typeof p=="function"?p(t):p;w!==t&&h(w)}else a(p)},[l,t,a,h]);return[u,f]}function _j({defaultProp:t,onChange:e}){const r=y.useState(t),[i]=r,a=y.useRef(i),l=jn(e);return y.useEffect(()=>{a.current!==i&&(l(i),a.current=i)},[i,a,l]),r}function bj(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Sj="VisuallyHidden",yv=y.forwardRef((t,e)=>c.jsx(Ue.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));yv.displayName=Sj;var kj=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},xs=new WeakMap,ba=new WeakMap,Sa={},vu=0,wv=function(t){return t&&(t.host||wv(t.parentNode))},Ej=function(t,e){return e.map(function(r){if(t.contains(r))return r;var i=wv(r);return i&&t.contains(i)?i:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},jj=function(t,e,r,i){var a=Ej(e,Array.isArray(t)?t:[t]);Sa[r]||(Sa[r]=new WeakMap);var l=Sa[r],u=[],h=new Set,f=new Set(a),p=function(w){!w||h.has(w)||(h.add(w),p(w.parentNode))};a.forEach(p);var v=function(w){!w||f.has(w)||Array.prototype.forEach.call(w.children,function(_){if(h.has(_))v(_);else try{var b=_.getAttribute(i),E=b!==null&&b!=="false",x=(xs.get(_)||0)+1,S=(l.get(_)||0)+1;xs.set(_,x),l.set(_,S),u.push(_),x===1&&E&&ba.set(_,!0),S===1&&_.setAttribute(r,"true"),E||_.setAttribute(i,"true")}catch(j){console.error("aria-hidden: cannot operate on ",_,j)}})};return v(e),h.clear(),vu++,function(){u.forEach(function(w){var _=xs.get(w)-1,b=l.get(w)-1;xs.set(w,_),l.set(w,b),_||(ba.has(w)||w.removeAttribute(i),ba.delete(w)),b||w.removeAttribute(r)}),vu--,vu||(xs=new WeakMap,xs=new WeakMap,ba=new WeakMap,Sa={})}},Nj=function(t,e,r){r===void 0&&(r="data-aria-hidden");var i=Array.from(Array.isArray(t)?t:[t]),a=kj(t);return a?(i.push.apply(i,Array.from(a.querySelectorAll("[aria-live], script"))),jj(i,a,r,"aria-hidden")):function(){return null}},Aa="right-scroll-bar-position",Oa="width-before-scroll-bar",Cj="with-scroll-bars-hidden",Tj="--removed-body-scroll-bar-size";function yu(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Rj(t,e){var r=y.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(i){var a=r.value;a!==i&&(r.value=i,r.callback(i,a))}}}})[0];return r.callback=e,r.facade}var Pj=typeof window<"u"?y.useLayoutEffect:y.useEffect,Tp=new WeakMap;function Aj(t,e){var r=Rj(null,function(i){return t.forEach(function(a){return yu(a,i)})});return Pj(function(){var i=Tp.get(r);if(i){var a=new Set(i),l=new Set(t),u=r.current;a.forEach(function(h){l.has(h)||yu(h,null)}),l.forEach(function(h){a.has(h)||yu(h,u)})}Tp.set(r,t)},[t]),r}function Oj(t){return t}function Ij(t,e){e===void 0&&(e=Oj);var r=[],i=!1,a={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(l){var u=e(l,i);return r.push(u),function(){r=r.filter(function(h){return h!==u})}},assignSyncMedium:function(l){for(i=!0;r.length;){var u=r;r=[],u.forEach(l)}r={push:function(h){return l(h)},filter:function(){return r}}},assignMedium:function(l){i=!0;var u=[];if(r.length){var h=r;r=[],h.forEach(l),u=r}var f=function(){var v=u;u=[],v.forEach(l)},p=function(){return Promise.resolve().then(f)};p(),r={push:function(v){u.push(v),p()},filter:function(v){return u=u.filter(v),r}}}};return a}function Lj(t){t===void 0&&(t={});var e=Ij(null);return e.options=Sn({async:!0,ssr:!1},t),e}var xv=function(t){var e=t.sideCar,r=Us(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return y.createElement(i,Sn({},r))};xv.isSideCarExport=!0;function $j(t,e){return t.useMedium(e),xv}var _v=Lj(),wu=function(){},Xa=y.forwardRef(function(t,e){var r=y.useRef(null),i=y.useState({onScrollCapture:wu,onWheelCapture:wu,onTouchMoveCapture:wu}),a=i[0],l=i[1],u=t.forwardProps,h=t.children,f=t.className,p=t.removeScrollBar,v=t.enabled,w=t.shards,_=t.sideCar,b=t.noRelative,E=t.noIsolation,x=t.inert,S=t.allowPinchZoom,j=t.as,N=j===void 0?"div":j,C=t.gapMode,O=Us(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=_,F=Aj([r,e]),L=Sn(Sn({},O),a);return y.createElement(y.Fragment,null,v&&y.createElement($,{sideCar:_v,removeScrollBar:p,shards:w,noRelative:b,noIsolation:E,inert:x,setCallbacks:l,allowPinchZoom:!!S,lockRef:r,gapMode:C}),u?y.cloneElement(y.Children.only(h),Sn(Sn({},L),{ref:F})):y.createElement(N,Sn({},L,{className:f,ref:F}),h))});Xa.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Xa.classNames={fullWidth:Oa,zeroRight:Aa};var Dj=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Mj(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Dj();return e&&t.setAttribute("nonce",e),t}function Fj(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Uj(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var zj=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Mj())&&(Fj(e,r),Uj(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Bj=function(){var t=zj();return function(e,r){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},bv=function(){var t=Bj(),e=function(r){var i=r.styles,a=r.dynamic;return t(i,a),null};return e},Wj={left:0,top:0,right:0,gap:0},xu=function(t){return parseInt(t||"",10)||0},Vj=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],i=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[xu(r),xu(i),xu(a)]},Hj=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Wj;var e=Vj(t),r=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-r+e[2]-e[0])}},Gj=bv(),As="data-scroll-locked",Kj=function(t,e,r,i){var a=t.left,l=t.top,u=t.right,h=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Cj,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(h,"px ").concat(i,`;
  }
  body[`).concat(As,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(i,`;
    `),r==="padding"&&"padding-right: ".concat(h,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Aa,` {
    right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(Oa,` {
    margin-right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(Aa," .").concat(Aa,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Oa," .").concat(Oa,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(As,`] {
    `).concat(Tj,": ").concat(h,`px;
  }
`)},Rp=function(){var t=parseInt(document.body.getAttribute(As)||"0",10);return isFinite(t)?t:0},qj=function(){y.useEffect(function(){return document.body.setAttribute(As,(Rp()+1).toString()),function(){var t=Rp()-1;t<=0?document.body.removeAttribute(As):document.body.setAttribute(As,t.toString())}},[])},Jj=function(t){var e=t.noRelative,r=t.noImportant,i=t.gapMode,a=i===void 0?"margin":i;qj();var l=y.useMemo(function(){return Hj(a)},[a]);return y.createElement(Gj,{styles:Kj(l,!e,a,r?"":"!important")})},Ku=!1;if(typeof window<"u")try{var ka=Object.defineProperty({},"passive",{get:function(){return Ku=!0,!0}});window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{Ku=!1}var _s=Ku?{passive:!1}:!1,Yj=function(t){return t.tagName==="TEXTAREA"},Sv=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Yj(t)&&r[e]==="visible")},Qj=function(t){return Sv(t,"overflowY")},Xj=function(t){return Sv(t,"overflowX")},Pp=function(t,e){var r=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var a=kv(t,i);if(a){var l=Ev(t,i),u=l[1],h=l[2];if(u>h)return!0}i=i.parentNode}while(i&&i!==r.body);return!1},Zj=function(t){var e=t.scrollTop,r=t.scrollHeight,i=t.clientHeight;return[e,r,i]},eN=function(t){var e=t.scrollLeft,r=t.scrollWidth,i=t.clientWidth;return[e,r,i]},kv=function(t,e){return t==="v"?Qj(e):Xj(e)},Ev=function(t,e){return t==="v"?Zj(e):eN(e)},tN=function(t,e){return t==="h"&&e==="rtl"?-1:1},nN=function(t,e,r,i,a){var l=tN(t,window.getComputedStyle(e).direction),u=l*i,h=r.target,f=e.contains(h),p=!1,v=u>0,w=0,_=0;do{if(!h)break;var b=Ev(t,h),E=b[0],x=b[1],S=b[2],j=x-S-l*E;(E||j)&&kv(t,h)&&(w+=j,_+=E);var N=h.parentNode;h=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!f&&h!==document.body||f&&(e.contains(h)||e===h));return(v&&Math.abs(w)<1||!v&&Math.abs(_)<1)&&(p=!0),p},Ea=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Ap=function(t){return[t.deltaX,t.deltaY]},Op=function(t){return t&&"current"in t?t.current:t},rN=function(t,e){return t[0]===e[0]&&t[1]===e[1]},sN=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},iN=0,bs=[];function oN(t){var e=y.useRef([]),r=y.useRef([0,0]),i=y.useRef(),a=y.useState(iN++)[0],l=y.useState(bv)[0],u=y.useRef(t);y.useEffect(function(){u.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var x=u0([t.lockRef.current],(t.shards||[]).map(Op),!0).filter(Boolean);return x.forEach(function(S){return S.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var h=y.useCallback(function(x,S){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!u.current.allowPinchZoom;var j=Ea(x),N=r.current,C="deltaX"in x?x.deltaX:N[0]-j[0],O="deltaY"in x?x.deltaY:N[1]-j[1],$,F=x.target,L=Math.abs(C)>Math.abs(O)?"h":"v";if("touches"in x&&L==="h"&&F.type==="range")return!1;var B=window.getSelection(),U=B&&B.anchorNode,ee=U?U===F||U.contains(F):!1;if(ee)return!1;var ie=Pp(L,F);if(!ie)return!0;if(ie?$=L:($=L==="v"?"h":"v",ie=Pp(L,F)),!ie)return!1;if(!i.current&&"changedTouches"in x&&(C||O)&&(i.current=$),!$)return!0;var K=i.current||$;return nN(K,S,x,K==="h"?C:O)},[]),f=y.useCallback(function(x){var S=x;if(!(!bs.length||bs[bs.length-1]!==l)){var j="deltaY"in S?Ap(S):Ea(S),N=e.current.filter(function($){return $.name===S.type&&($.target===S.target||S.target===$.shadowParent)&&rN($.delta,j)})[0];if(N&&N.should){S.cancelable&&S.preventDefault();return}if(!N){var C=(u.current.shards||[]).map(Op).filter(Boolean).filter(function($){return $.contains(S.target)}),O=C.length>0?h(S,C[0]):!u.current.noIsolation;O&&S.cancelable&&S.preventDefault()}}},[]),p=y.useCallback(function(x,S,j,N){var C={name:x,delta:S,target:j,should:N,shadowParent:aN(j)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(O){return O!==C})},1)},[]),v=y.useCallback(function(x){r.current=Ea(x),i.current=void 0},[]),w=y.useCallback(function(x){p(x.type,Ap(x),x.target,h(x,t.lockRef.current))},[]),_=y.useCallback(function(x){p(x.type,Ea(x),x.target,h(x,t.lockRef.current))},[]);y.useEffect(function(){return bs.push(l),t.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:_}),document.addEventListener("wheel",f,_s),document.addEventListener("touchmove",f,_s),document.addEventListener("touchstart",v,_s),function(){bs=bs.filter(function(x){return x!==l}),document.removeEventListener("wheel",f,_s),document.removeEventListener("touchmove",f,_s),document.removeEventListener("touchstart",v,_s)}},[]);var b=t.removeScrollBar,E=t.inert;return y.createElement(y.Fragment,null,E?y.createElement(l,{styles:sN(a)}):null,b?y.createElement(Jj,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function aN(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const lN=$j(_v,oN);var jv=y.forwardRef(function(t,e){return y.createElement(Xa,Sn({},t,{ref:e,sideCar:lN}))});jv.classNames=Xa.classNames;var cN=[" ","Enter","ArrowUp","ArrowDown"],uN=[" ","Enter"],ro="Select",[Za,el,dN]=Wg(ro),[Hs]=eo(ro,[dN,lv]),tl=lv(),[hN,vr]=Hs(ro),[fN,mN]=Hs(ro),Nv=t=>{const{__scopeSelect:e,children:r,open:i,defaultOpen:a,onOpenChange:l,value:u,defaultValue:h,onValueChange:f,dir:p,name:v,autoComplete:w,disabled:_,required:b,form:E}=t,x=tl(e),[S,j]=y.useState(null),[N,C]=y.useState(null),[O,$]=y.useState(!1),F=pd(p),[L=!1,B]=Ba({prop:i,defaultProp:a,onChange:l}),[U,ee]=Ba({prop:u,defaultProp:h,onChange:f}),ie=y.useRef(null),K=S?E||!!S.closest("form"):!0,[J,oe]=y.useState(new Set),ae=Array.from(J).map(te=>te.props.value).join(";");return c.jsx(gj,{...x,children:c.jsxs(hN,{required:b,scope:e,trigger:S,onTriggerChange:j,valueNode:N,onValueNodeChange:C,valueNodeHasChildren:O,onValueNodeHasChildrenChange:$,contentId:to(),value:U,onValueChange:ee,open:L,onOpenChange:B,dir:F,triggerPointerDownPosRef:ie,disabled:_,children:[c.jsx(Za.Provider,{scope:e,children:c.jsx(fN,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(te=>{oe(D=>new Set(D).add(te))},[]),onNativeOptionRemove:y.useCallback(te=>{oe(D=>{const P=new Set(D);return P.delete(te),P})},[]),children:r})}),K?c.jsxs(Yv,{"aria-hidden":!0,required:b,tabIndex:-1,name:v,autoComplete:w,value:U,onChange:te=>ee(te.target.value),disabled:_,form:E,children:[U===void 0?c.jsx("option",{value:""}):null,Array.from(J)]},ae):null]})})};Nv.displayName=ro;var Cv="SelectTrigger",Tv=y.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:i=!1,...a}=t,l=tl(r),u=vr(Cv,r),h=u.disabled||i,f=ut(e,u.onTriggerChange),p=el(r),v=y.useRef("touch"),[w,_,b]=Qv(x=>{const S=p().filter(C=>!C.disabled),j=S.find(C=>C.value===u.value),N=Xv(S,x,j);N!==void 0&&u.onValueChange(N.value)}),E=x=>{h||(u.onOpenChange(!0),b()),x&&(u.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return c.jsx(vj,{asChild:!0,...l,children:c.jsx(Ue.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":Jv(u.value)?"":void 0,...a,ref:f,onClick:$e(a.onClick,x=>{x.currentTarget.focus(),v.current!=="mouse"&&E(x)}),onPointerDown:$e(a.onPointerDown,x=>{v.current=x.pointerType;const S=x.target;S.hasPointerCapture(x.pointerId)&&S.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(E(x),x.preventDefault())}),onKeyDown:$e(a.onKeyDown,x=>{const S=w.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&_(x.key),!(S&&x.key===" ")&&cN.includes(x.key)&&(E(),x.preventDefault())})})})});Tv.displayName=Cv;var Rv="SelectValue",Pv=y.forwardRef((t,e)=>{const{__scopeSelect:r,className:i,style:a,children:l,placeholder:u="",...h}=t,f=vr(Rv,r),{onValueNodeHasChildrenChange:p}=f,v=l!==void 0,w=ut(e,f.onValueNodeChange);return Nt(()=>{p(v)},[p,v]),c.jsx(Ue.span,{...h,ref:w,style:{pointerEvents:"none"},children:Jv(f.value)?c.jsx(c.Fragment,{children:u}):l})});Pv.displayName=Rv;var pN="SelectIcon",Av=y.forwardRef((t,e)=>{const{__scopeSelect:r,children:i,...a}=t;return c.jsx(Ue.span,{"aria-hidden":!0,...a,ref:e,children:i||""})});Av.displayName=pN;var gN="SelectPortal",Ov=t=>c.jsx(vv,{asChild:!0,...t});Ov.displayName=gN;var zr="SelectContent",Iv=y.forwardRef((t,e)=>{const r=vr(zr,t.__scopeSelect),[i,a]=y.useState();if(Nt(()=>{a(new DocumentFragment)},[]),!r.open){const l=i;return l?Xi.createPortal(c.jsx(Lv,{scope:t.__scopeSelect,children:c.jsx(Za.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),l):null}return c.jsx($v,{...t,ref:e})});Iv.displayName=zr;var un=10,[Lv,yr]=Hs(zr),vN="SelectContentImpl",$v=y.forwardRef((t,e)=>{const{__scopeSelect:r,position:i="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:l,onPointerDownOutside:u,side:h,sideOffset:f,align:p,alignOffset:v,arrowPadding:w,collisionBoundary:_,collisionPadding:b,sticky:E,hideWhenDetached:x,avoidCollisions:S,...j}=t,N=vr(zr,r),[C,O]=y.useState(null),[$,F]=y.useState(null),L=ut(e,X=>O(X)),[B,U]=y.useState(null),[ee,ie]=y.useState(null),K=el(r),[J,oe]=y.useState(!1),ae=y.useRef(!1);y.useEffect(()=>{if(C)return Nj(C)},[C]),zk();const te=y.useCallback(X=>{const[pe,...Se]=K().map(Pe=>Pe.ref.current),[we]=Se.slice(-1),Te=document.activeElement;for(const Pe of X)if(Pe===Te||(Pe==null||Pe.scrollIntoView({block:"nearest"}),Pe===pe&&$&&($.scrollTop=0),Pe===we&&$&&($.scrollTop=$.scrollHeight),Pe==null||Pe.focus(),document.activeElement!==Te))return},[K,$]),D=y.useCallback(()=>te([B,C]),[te,B,C]);y.useEffect(()=>{J&&D()},[J,D]);const{onOpenChange:P,triggerPointerDownPosRef:G}=N;y.useEffect(()=>{if(C){let X={x:0,y:0};const pe=we=>{var Te,Pe;X={x:Math.abs(Math.round(we.pageX)-(((Te=G.current)==null?void 0:Te.x)??0)),y:Math.abs(Math.round(we.pageY)-(((Pe=G.current)==null?void 0:Pe.y)??0))}},Se=we=>{X.x<=10&&X.y<=10?we.preventDefault():C.contains(we.target)||P(!1),document.removeEventListener("pointermove",pe),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",Se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",Se,{capture:!0})}}},[C,P,G]),y.useEffect(()=>{const X=()=>P(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[P]);const[q,A]=Qv(X=>{const pe=K().filter(Te=>!Te.disabled),Se=pe.find(Te=>Te.ref.current===document.activeElement),we=Xv(pe,X,Se);we&&setTimeout(()=>we.ref.current.focus())}),V=y.useCallback((X,pe,Se)=>{const we=!ae.current&&!Se;(N.value!==void 0&&N.value===pe||we)&&(U(X),we&&(ae.current=!0))},[N.value]),ne=y.useCallback(()=>C==null?void 0:C.focus(),[C]),ue=y.useCallback((X,pe,Se)=>{const we=!ae.current&&!Se;(N.value!==void 0&&N.value===pe||we)&&ie(X)},[N.value]),je=i==="popper"?qu:Dv,xe=je===qu?{side:h,sideOffset:f,align:p,alignOffset:v,arrowPadding:w,collisionBoundary:_,collisionPadding:b,sticky:E,hideWhenDetached:x,avoidCollisions:S}:{};return c.jsx(Lv,{scope:r,content:C,viewport:$,onViewportChange:F,itemRefCallback:V,selectedItem:B,onItemLeave:ne,itemTextRefCallback:ue,focusSelectedItem:D,selectedItemText:ee,position:i,isPositioned:J,searchRef:q,children:c.jsx(jv,{as:Is,allowPinchZoom:!0,children:c.jsx(Kg,{asChild:!0,trapped:N.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:$e(a,X=>{var pe;(pe=N.trigger)==null||pe.focus({preventScroll:!0}),X.preventDefault()}),children:c.jsx(Hg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:c.jsx(je,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:X=>X.preventDefault(),...j,...xe,onPlaced:()=>oe(!0),ref:L,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:$e(j.onKeyDown,X=>{const pe=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!pe&&X.key.length===1&&A(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let we=K().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);if(["ArrowUp","End"].includes(X.key)&&(we=we.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const Te=X.target,Pe=we.indexOf(Te);we=we.slice(Pe+1)}setTimeout(()=>te(we)),X.preventDefault()}})})})})})})});$v.displayName=vN;var yN="SelectItemAlignedPosition",Dv=y.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:i,...a}=t,l=vr(zr,r),u=yr(zr,r),[h,f]=y.useState(null),[p,v]=y.useState(null),w=ut(e,L=>v(L)),_=el(r),b=y.useRef(!1),E=y.useRef(!0),{viewport:x,selectedItem:S,selectedItemText:j,focusSelectedItem:N}=u,C=y.useCallback(()=>{if(l.trigger&&l.valueNode&&h&&p&&x&&S&&j){const L=l.trigger.getBoundingClientRect(),B=p.getBoundingClientRect(),U=l.valueNode.getBoundingClientRect(),ee=j.getBoundingClientRect();if(l.dir!=="rtl"){const Te=ee.left-B.left,Pe=U.left-Te,qe=L.left-Pe,bt=L.width+qe,Zt=Math.max(bt,B.width),en=window.innerWidth-un,Ht=cp(Pe,[un,Math.max(un,en-Zt)]);h.style.minWidth=bt+"px",h.style.left=Ht+"px"}else{const Te=B.right-ee.right,Pe=window.innerWidth-U.right-Te,qe=window.innerWidth-L.right-Pe,bt=L.width+qe,Zt=Math.max(bt,B.width),en=window.innerWidth-un,Ht=cp(Pe,[un,Math.max(un,en-Zt)]);h.style.minWidth=bt+"px",h.style.right=Ht+"px"}const ie=_(),K=window.innerHeight-un*2,J=x.scrollHeight,oe=window.getComputedStyle(p),ae=parseInt(oe.borderTopWidth,10),te=parseInt(oe.paddingTop,10),D=parseInt(oe.borderBottomWidth,10),P=parseInt(oe.paddingBottom,10),G=ae+te+J+P+D,q=Math.min(S.offsetHeight*5,G),A=window.getComputedStyle(x),V=parseInt(A.paddingTop,10),ne=parseInt(A.paddingBottom,10),ue=L.top+L.height/2-un,je=K-ue,xe=S.offsetHeight/2,X=S.offsetTop+xe,pe=ae+te+X,Se=G-pe;if(pe<=ue){const Te=ie.length>0&&S===ie[ie.length-1].ref.current;h.style.bottom="0px";const Pe=p.clientHeight-x.offsetTop-x.offsetHeight,qe=Math.max(je,xe+(Te?ne:0)+Pe+D),bt=pe+qe;h.style.height=bt+"px"}else{const Te=ie.length>0&&S===ie[0].ref.current;h.style.top="0px";const qe=Math.max(ue,ae+x.offsetTop+(Te?V:0)+xe)+Se;h.style.height=qe+"px",x.scrollTop=pe-ue+x.offsetTop}h.style.margin=`${un}px 0`,h.style.minHeight=q+"px",h.style.maxHeight=K+"px",i==null||i(),requestAnimationFrame(()=>b.current=!0)}},[_,l.trigger,l.valueNode,h,p,x,S,j,l.dir,i]);Nt(()=>C(),[C]);const[O,$]=y.useState();Nt(()=>{p&&$(window.getComputedStyle(p).zIndex)},[p]);const F=y.useCallback(L=>{L&&E.current===!0&&(C(),N==null||N(),E.current=!1)},[C,N]);return c.jsx(xN,{scope:r,contentWrapper:h,shouldExpandOnScrollRef:b,onScrollButtonChange:F,children:c.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:c.jsx(Ue.div,{...a,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Dv.displayName=yN;var wN="SelectPopperPosition",qu=y.forwardRef((t,e)=>{const{__scopeSelect:r,align:i="start",collisionPadding:a=un,...l}=t,u=tl(r);return c.jsx(yj,{...u,...l,ref:e,align:i,collisionPadding:a,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});qu.displayName=wN;var[xN,kd]=Hs(zr,{}),Ju="SelectViewport",Mv=y.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:i,...a}=t,l=yr(Ju,r),u=kd(Ju,r),h=ut(e,l.onViewportChange),f=y.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),c.jsx(Za.Slot,{scope:r,children:c.jsx(Ue.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:$e(a.onScroll,p=>{const v=p.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:_}=u;if(_!=null&&_.current&&w){const b=Math.abs(f.current-v.scrollTop);if(b>0){const E=window.innerHeight-un*2,x=parseFloat(w.style.minHeight),S=parseFloat(w.style.height),j=Math.max(x,S);if(j<E){const N=j+b,C=Math.min(E,N),O=N-C;w.style.height=C+"px",w.style.bottom==="0px"&&(v.scrollTop=O>0?O:0,w.style.justifyContent="flex-end")}}}f.current=v.scrollTop})})})]})});Mv.displayName=Ju;var Fv="SelectGroup",[_N,bN]=Hs(Fv),SN=y.forwardRef((t,e)=>{const{__scopeSelect:r,...i}=t,a=to();return c.jsx(_N,{scope:r,id:a,children:c.jsx(Ue.div,{role:"group","aria-labelledby":a,...i,ref:e})})});SN.displayName=Fv;var Uv="SelectLabel",kN=y.forwardRef((t,e)=>{const{__scopeSelect:r,...i}=t,a=bN(Uv,r);return c.jsx(Ue.div,{id:a.id,...i,ref:e})});kN.displayName=Uv;var Wa="SelectItem",[EN,zv]=Hs(Wa),Bv=y.forwardRef((t,e)=>{const{__scopeSelect:r,value:i,disabled:a=!1,textValue:l,...u}=t,h=vr(Wa,r),f=yr(Wa,r),p=h.value===i,[v,w]=y.useState(l??""),[_,b]=y.useState(!1),E=ut(e,N=>{var C;return(C=f.itemRefCallback)==null?void 0:C.call(f,N,i,a)}),x=to(),S=y.useRef("touch"),j=()=>{a||(h.onValueChange(i),h.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(EN,{scope:r,value:i,disabled:a,textId:x,isSelected:p,onItemTextChange:y.useCallback(N=>{w(C=>C||((N==null?void 0:N.textContent)??"").trim())},[]),children:c.jsx(Za.ItemSlot,{scope:r,value:i,disabled:a,textValue:v,children:c.jsx(Ue.div,{role:"option","aria-labelledby":x,"data-highlighted":_?"":void 0,"aria-selected":p&&_,"data-state":p?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...u,ref:E,onFocus:$e(u.onFocus,()=>b(!0)),onBlur:$e(u.onBlur,()=>b(!1)),onClick:$e(u.onClick,()=>{S.current!=="mouse"&&j()}),onPointerUp:$e(u.onPointerUp,()=>{S.current==="mouse"&&j()}),onPointerDown:$e(u.onPointerDown,N=>{S.current=N.pointerType}),onPointerMove:$e(u.onPointerMove,N=>{var C;S.current=N.pointerType,a?(C=f.onItemLeave)==null||C.call(f):S.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:$e(u.onPointerLeave,N=>{var C;N.currentTarget===document.activeElement&&((C=f.onItemLeave)==null||C.call(f))}),onKeyDown:$e(u.onKeyDown,N=>{var O;((O=f.searchRef)==null?void 0:O.current)!==""&&N.key===" "||(uN.includes(N.key)&&j(),N.key===" "&&N.preventDefault())})})})})});Bv.displayName=Wa;var Li="SelectItemText",Wv=y.forwardRef((t,e)=>{const{__scopeSelect:r,className:i,style:a,...l}=t,u=vr(Li,r),h=yr(Li,r),f=zv(Li,r),p=mN(Li,r),[v,w]=y.useState(null),_=ut(e,j=>w(j),f.onItemTextChange,j=>{var N;return(N=h.itemTextRefCallback)==null?void 0:N.call(h,j,f.value,f.disabled)}),b=v==null?void 0:v.textContent,E=y.useMemo(()=>c.jsx("option",{value:f.value,disabled:f.disabled,children:b},f.value),[f.disabled,f.value,b]),{onNativeOptionAdd:x,onNativeOptionRemove:S}=p;return Nt(()=>(x(E),()=>S(E)),[x,S,E]),c.jsxs(c.Fragment,{children:[c.jsx(Ue.span,{id:f.textId,...l,ref:_}),f.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Xi.createPortal(l.children,u.valueNode):null]})});Wv.displayName=Li;var Vv="SelectItemIndicator",Hv=y.forwardRef((t,e)=>{const{__scopeSelect:r,...i}=t;return zv(Vv,r).isSelected?c.jsx(Ue.span,{"aria-hidden":!0,...i,ref:e}):null});Hv.displayName=Vv;var Yu="SelectScrollUpButton",Gv=y.forwardRef((t,e)=>{const r=yr(Yu,t.__scopeSelect),i=kd(Yu,t.__scopeSelect),[a,l]=y.useState(!1),u=ut(e,i.onScrollButtonChange);return Nt(()=>{if(r.viewport&&r.isPositioned){let h=function(){const p=f.scrollTop>0;l(p)};const f=r.viewport;return h(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[r.viewport,r.isPositioned]),a?c.jsx(qv,{...t,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:f}=r;h&&f&&(h.scrollTop=h.scrollTop-f.offsetHeight)}}):null});Gv.displayName=Yu;var Qu="SelectScrollDownButton",Kv=y.forwardRef((t,e)=>{const r=yr(Qu,t.__scopeSelect),i=kd(Qu,t.__scopeSelect),[a,l]=y.useState(!1),u=ut(e,i.onScrollButtonChange);return Nt(()=>{if(r.viewport&&r.isPositioned){let h=function(){const p=f.scrollHeight-f.clientHeight,v=Math.ceil(f.scrollTop)<p;l(v)};const f=r.viewport;return h(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[r.viewport,r.isPositioned]),a?c.jsx(qv,{...t,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:f}=r;h&&f&&(h.scrollTop=h.scrollTop+f.offsetHeight)}}):null});Kv.displayName=Qu;var qv=y.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:i,...a}=t,l=yr("SelectScrollButton",r),u=y.useRef(null),h=el(r),f=y.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return y.useEffect(()=>()=>f(),[f]),Nt(()=>{var v;const p=h().find(w=>w.ref.current===document.activeElement);(v=p==null?void 0:p.ref.current)==null||v.scrollIntoView({block:"nearest"})},[h]),c.jsx(Ue.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:$e(a.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(i,50))}),onPointerMove:$e(a.onPointerMove,()=>{var p;(p=l.onItemLeave)==null||p.call(l),u.current===null&&(u.current=window.setInterval(i,50))}),onPointerLeave:$e(a.onPointerLeave,()=>{f()})})}),jN="SelectSeparator",NN=y.forwardRef((t,e)=>{const{__scopeSelect:r,...i}=t;return c.jsx(Ue.div,{"aria-hidden":!0,...i,ref:e})});NN.displayName=jN;var Xu="SelectArrow",CN=y.forwardRef((t,e)=>{const{__scopeSelect:r,...i}=t,a=tl(r),l=vr(Xu,r),u=yr(Xu,r);return l.open&&u.position==="popper"?c.jsx(wj,{...a,...i,ref:e}):null});CN.displayName=Xu;function Jv(t){return t===""||t===void 0}var Yv=y.forwardRef((t,e)=>{const{value:r,...i}=t,a=y.useRef(null),l=ut(e,a),u=bj(r);return y.useEffect(()=>{const h=a.current,f=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(f,"value").set;if(u!==r&&v){const w=new Event("change",{bubbles:!0});v.call(h,r),h.dispatchEvent(w)}},[u,r]),c.jsx(yv,{asChild:!0,children:c.jsx("select",{...i,ref:l,defaultValue:r})})});Yv.displayName="BubbleSelect";function Qv(t){const e=jn(t),r=y.useRef(""),i=y.useRef(0),a=y.useCallback(u=>{const h=r.current+u;e(h),(function f(p){r.current=p,window.clearTimeout(i.current),p!==""&&(i.current=window.setTimeout(()=>f(""),1e3))})(h)},[e]),l=y.useCallback(()=>{r.current="",window.clearTimeout(i.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(i.current),[]),[r,a,l]}function Xv(t,e,r){const a=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,l=r?t.indexOf(r):-1;let u=TN(t,Math.max(l,0));a.length===1&&(u=u.filter(p=>p!==r));const f=u.find(p=>p.textValue.toLowerCase().startsWith(a.toLowerCase()));return f!==r?f:void 0}function TN(t,e){return t.map((r,i)=>t[(e+i)%t.length])}var RN=Nv,PN=Tv,AN=Pv,ON=Av,IN=Ov,LN=Iv,$N=Mv,DN=Bv,MN=Wv,FN=Hv,UN=Gv,zN=Kv;/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WN=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,i)=>i?i.toUpperCase():r.toLowerCase()),Ip=t=>{const e=WN(t);return e.charAt(0).toUpperCase()+e.slice(1)},Zv=(...t)=>t.filter((e,r,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...h},f)=>y.createElement("svg",{ref:f,...VN,width:e,height:e,stroke:t,strokeWidth:i?Number(r)*24/Number(e):r,className:Zv("lucide",a),...h},[...u.map(([p,v])=>y.createElement(p,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=(t,e)=>{const r=y.forwardRef(({className:i,...a},l)=>y.createElement(HN,{ref:l,iconNode:e,className:Zv(`lucide-${BN(Ip(t))}`,`lucide-${t}`,i),...a}));return r.displayName=Ip(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],KN=Ed("check",GN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ey=Ed("chevron-down",qN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],YN=Ed("chevron-up",JN);function QN({...t}){return c.jsx(RN,{"data-slot":"select",...t})}function XN({...t}){return c.jsx(AN,{"data-slot":"select-value",...t})}function ZN({className:t,size:e="default",children:r,...i}){return c.jsxs(PN,{"data-slot":"select-trigger","data-size":e,className:it("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i,children:[r,c.jsx(ON,{asChild:!0,children:c.jsx(ey,{className:"size-4 opacity-50"})})]})}function eC({className:t,children:e,position:r="popper",...i}){return c.jsx(IN,{children:c.jsxs(LN,{"data-slot":"select-content",className:it("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...i,children:[c.jsx(tC,{}),c.jsx($N,{className:it("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),c.jsx(nC,{})]})})}function Lp({className:t,children:e,...r}){return c.jsxs(DN,{"data-slot":"select-item",className:it("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[c.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:c.jsx(FN,{children:c.jsx(KN,{className:"size-4"})})}),c.jsx(MN,{children:e})]})}function tC({className:t,...e}){return c.jsx(UN,{"data-slot":"select-scroll-up-button",className:it("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(YN,{className:"size-4"})})}function nC({className:t,...e}){return c.jsx(zN,{"data-slot":"select-scroll-down-button",className:it("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(ey,{className:"size-4"})})}const _u=[{season:"2021/22",src:"https://brackethq.com/b/i1kz/embed/"},{season:"2022/23",src:"https://brackethq.com/b/pcq4/embed/"},{season:"2023/24",src:"https://brackethq.com/b/cydwb/embed/"},{season:"2024/25",src:"https://brackethq.com/b/5ucnc/embed/"}];function rC({showLegacySelector:t=!0}){const{loading:e}=kk(),[r,i]=y.useState({registeredCount:0,standings:[],autoRegistered:!0,start_gameweek:null,end_gameweek:null}),[a,l]=y.useState([]),[u,h]=y.useState(!1),[f,p]=y.useState(null),[v,w]=y.useState("current");y.useEffect(()=>{if(e||t&&v!=="current")return;async function x(){var S;h(!0),p(null);try{const j=`${De}/functions/v1${Fe}`,N=await fetch(`${j}/bracket`,{headers:Me()}),C=await N.json();!N.ok||C!=null&&C.error?(console.warn("Bracket load warning:",((S=C==null?void 0:C.error)==null?void 0:S.message)||"Unable to load bracket"),i({registeredCount:0,standings:[],autoRegistered:!0,start_gameweek:null,end_gameweek:null}),l([])):(i(C.group??{registeredCount:0,standings:[],autoRegistered:!0,start_gameweek:null,end_gameweek:null}),l(C.rounds??[]))}catch(j){console.error("Bracket load error:",j),i({registeredCount:0,standings:[],autoRegistered:!0,start_gameweek:null,end_gameweek:null}),l([])}finally{h(!1)}}x()},[e,t,v]);const _=()=>{const x=[1,2,3,4],S=[1,2];return c.jsxs("div",{className:"mt-2 flex gap-6 overflow-x-auto text-xs text-muted-foreground",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-center text-[11px] font-semibold uppercase",children:"Quarter-finals"}),x.map(j=>c.jsxs("div",{className:"w-48 rounded-md border bg-muted/40 p-2",children:[c.jsxs("div",{className:"mb-1 text-[10px] uppercase tracking-wide",children:["Match ",j]}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsx("span",{className:"truncate",children:"TBD"}),c.jsx("span",{className:"text-[10px]",children:" /  ()"})]}),c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsx("span",{className:"truncate",children:"TBD"}),c.jsx("span",{className:"text-[10px]",children:" /  ()"})]})]})]},`qf-${j}`))]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-center text-[11px] font-semibold uppercase",children:"Semi-finals"}),S.map(j=>c.jsxs("div",{className:"w-48 rounded-md border bg-muted/40 p-2",children:[c.jsxs("div",{className:"mb-1 text-[10px] uppercase tracking-wide",children:["Semi ",j]}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsx("span",{className:"truncate",children:"QF winner"}),c.jsx("span",{className:"text-[10px]",children:" /  ()"})]}),c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsx("span",{className:"truncate",children:"QF winner"}),c.jsx("span",{className:"text-[10px]",children:" /  ()"})]})]})]},`sf-${j}`))]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-center text-[11px] font-semibold uppercase",children:"Final"}),c.jsxs("div",{className:"w-48 rounded-md border bg-muted/40 p-2",children:[c.jsx("div",{className:"mb-1 text-[10px] uppercase tracking-wide",children:"Final"}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsx("span",{className:"truncate",children:"Semi winner"}),c.jsx("span",{className:"text-[10px]",children:" /  ()"})]}),c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsx("span",{className:"truncate",children:"Semi winner"}),c.jsx("span",{className:"text-[10px]",children:" /  ()"})]})]})]})]})]})},b=()=>{const x=_u.find(j=>j.season===v);if(!x)return null;const S=x.src.replace("/embed/","/");return c.jsxs(le,{className:"overflow-hidden p-0",children:[c.jsx("iframe",{src:x.src,width:"100%",height:"750",frameBorder:0,title:`FFA Cup knockout bracket ${x.season}`,loading:"lazy",allowFullScreen:!0,referrerPolicy:"strict-origin-when-cross-origin"},x.season),c.jsxs("div",{className:"border-t p-3 text-sm text-muted-foreground",children:["If the bracket does not load inline,"," ",c.jsxs("a",{href:S,target:"_blank",rel:"noreferrer",className:"underline hover:no-underline",children:["open the ",x.season," bracket in a new tab"]}),"."]})]})},E=()=>{const x=_u.find(j=>j.season===v);if(!x)return null;const S=x.src.replace("/embed/","/");return c.jsxs(le,{className:"p-3",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-base font-semibold",children:["Legacy Bracket: ",x.season]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Embedded in-app. You can also open BracketHQ directly."})]}),c.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:c.jsx("a",{href:S,target:"_blank",rel:"noreferrer",className:"px-3 py-2 text-sm border rounded-md hover:bg-muted transition-colors",children:"Open Full Bracket"})})]})};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-semibold",children:"Knockout bracket"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Two-leg ties with automatic progression based on aggregate score."})]}),t&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs text-muted-foreground",children:"Season"}),c.jsxs(QN,{value:v,onValueChange:w,children:[c.jsx(ZN,{className:"w-[180px]",children:c.jsx(XN,{placeholder:"Select season"})}),c.jsxs(eC,{children:[c.jsxs(Lp,{value:"current",children:[Sk," (current)"]}),_u.map(x=>c.jsx(Lp,{value:x.season,children:x.season},x.season))]})]})]})]}),(!t||v==="current")&&(e||u)&&c.jsx(le,{className:"p-6",children:c.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading bracket..."})}),f&&(!t||v==="current")&&c.jsx(le,{className:"p-4",children:c.jsx("p",{className:"text-sm text-destructive",children:f})}),t&&v!=="current"&&c.jsxs(c.Fragment,{children:[E(),b()]}),(!t||v==="current")&&!e&&!u&&r&&c.jsx(c.Fragment,{children:r.standings.length>0?c.jsxs(le,{className:"p-4",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"FFA Cup Group Stage"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:r.autoRegistered?"All league members are auto-registered.":"Group stage standings."})]}),c.jsxs(Et,{children:[c.jsx(Xt,{children:c.jsxs(Ce,{children:[c.jsx(se,{className:"w-12",children:"Rank"}),c.jsx(se,{children:"Team"}),c.jsx(se,{children:"Manager"}),c.jsx(se,{className:"text-right",children:"Total Points"}),c.jsx(se,{className:"text-right",children:"Captain Points"}),c.jsx(se,{className:"text-right",children:"Played"}),c.jsx(se,{className:"text-center",children:"Status"})]})}),c.jsx(jt,{children:r.standings.map(x=>{const S=Math.ceil(r.standings.length*.8),j=x.rank<=S;return c.jsxs(Ce,{className:j?"bg-green-50 dark:bg-green-950/40 font-semibold":"",children:[c.jsx(H,{children:x.rank}),c.jsx(H,{children:x.entry_name}),c.jsx(H,{children:x.manager_name}),c.jsx(H,{className:"text-right font-medium",children:x.total_points}),c.jsx(H,{className:"text-right",children:x.captain_points}),c.jsx(H,{className:"text-right",children:x.played}),c.jsx(H,{className:"text-center",children:j?c.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Advancing"}):c.jsx("span",{className:"text-muted-foreground",children:"Eliminated"})})]},x.team_id)})})]})]}):r.registeredCount>0?c.jsxs(le,{className:"p-4",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"FFA Cup Group Stage"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["All ",r.registeredCount," league members are auto-registered. Tournament begins at gameweek 29."]})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Group stage standings will appear once the tournament begins."})]}):null}),(!t||v==="current")&&!e&&!u&&(a.length===0?c.jsxs(le,{className:"p-4",children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Knockout bracket will appear once the group stage is complete."}),_()]}):c.jsx(le,{className:"overflow-x-auto p-4",children:c.jsx("div",{className:"flex gap-6 min-w-max",children:a.map(x=>c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wide text-muted-foreground text-center",children:x.round}),c.jsx("div",{className:"space-y-3",children:x.matchups.map(S=>{var F,L;const j=((F=S.team_1)==null?void 0:F.entry_name)??(S.team_1_id?`Team ${S.team_1_id}`:"TBD"),N=((L=S.team_2)==null?void 0:L.entry_name)??(S.team_2_id?`Team ${S.team_2_id}`:"TBD"),C=(S.team_1_leg_1_points??0)+(S.team_1_leg_2_points??0),O=(S.team_2_leg_1_points??0)+(S.team_2_leg_2_points??0),$=S.winner_id;return c.jsxs("div",{className:"relative w-64 rounded-md border bg-card p-3 text-xs",children:[c.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[c.jsxs("span",{className:"font-medium",children:["Match ",S.matchup_number]}),c.jsxs("span",{className:"text-[10px] uppercase text-muted-foreground",children:["GW ",S.leg_1_gameweek," & ",S.leg_2_gameweek]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2"+($&&$===S.team_1_id?" font-semibold text-emerald-600":""),children:[c.jsx("span",{className:"truncate",children:j}),c.jsxs("span",{children:[S.team_1_leg_1_points??""," /"," ",S.team_1_leg_2_points??""," (",isNaN(C)?"":C,")"]})]}),c.jsxs("div",{className:"flex items-center justify-between gap-2"+($&&$===S.team_2_id?" font-semibold text-emerald-600":""),children:[c.jsx("span",{className:"truncate",children:N}),c.jsxs("span",{children:[S.team_2_leg_1_points??""," /"," ",S.team_2_leg_2_points??""," (",isNaN(O)?"":O,")"]})]})]}),S.tie_breaker_applied&&c.jsxs("div",{className:"mt-2 text-[10px] text-muted-foreground",children:["Tie-breaker: ",S.tie_breaker_applied]})]},S.id)})})]},x.round))})}))]})}function ty(){const[t,e]=y.useState(null),[r,i]=y.useState(!0),[a,l]=y.useState(null);return y.useEffect(()=>{async function u(){var h;try{i(!0),l(null);const f=`${De}/functions/v1${Fe}/h2h-standings`,p=await fetch(f,{headers:Me()}),v=await p.json();if(!p.ok||v!=null&&v.error)throw new Error(((h=v==null?void 0:v.error)==null?void 0:h.message)||"Failed to fetch league standings");e(v)}catch(f){l(f.message||"Failed to load league standings")}finally{i(!1)}}u()},[]),r?c.jsxs(le,{className:"p-6",children:[c.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"League Standings"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading standings..."})]}):a?c.jsxs(le,{className:"p-6",children:[c.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"League Standings"}),c.jsx("p",{className:"text-sm text-destructive",children:a})]}):t?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-semibold",children:"League Standings"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Ranked by league points, then points for."})]}),c.jsx(le,{className:"p-4",children:c.jsx("div",{className:"fpl-table-container",children:c.jsxs(Et,{children:[c.jsx(Xt,{children:c.jsxs(Ce,{className:"fpl-table-header",children:[c.jsx(se,{className:"w-12",children:"Rank"}),c.jsx(se,{children:"Manager"}),c.jsx(se,{children:"Team"}),c.jsx(se,{className:"text-right",children:"P"}),c.jsx(se,{className:"text-right",children:"W"}),c.jsx(se,{className:"text-right",children:"D"}),c.jsx(se,{className:"text-right",children:"L"}),c.jsx(se,{className:"text-right",children:"Pts"}),c.jsx(se,{className:"text-right",children:"For"}),c.jsx(se,{className:"text-right",children:"Against"})]})}),c.jsx(jt,{className:"fpl-table-body",children:t.standings.map(u=>c.jsxs(Ce,{children:[c.jsx(H,{className:"fpl-rank text-center",children:u.rank}),c.jsx(H,{className:"fpl-manager-name",children:u.manager_name||""}),c.jsx(H,{className:"fpl-manager-name",children:u.entry_name||""}),c.jsx(H,{className:"fpl-numeric",children:u.played}),c.jsx(H,{className:"fpl-numeric",children:u.wins}),c.jsx(H,{className:"fpl-numeric",children:u.draws}),c.jsx(H,{className:"fpl-numeric",children:u.losses}),c.jsx(H,{className:"fpl-points",children:u.points}),c.jsx(H,{className:"fpl-numeric",children:u.points_for}),c.jsx(H,{className:"fpl-numeric",children:u.points_against})]},u.team_id))})]})})})]}):null}function ny(){const[t,e]=y.useState(null),[r,i]=y.useState(!0),[a,l]=y.useState(null);return y.useEffect(()=>{async function u(){var h;try{i(!0),l(null);const f=`${De}/functions/v1${Fe}/goblet-standings`,p=await fetch(f,{headers:Me()}),v=await p.json();if(!p.ok||v!=null&&v.error)throw new Error(((h=v==null?void 0:v.error)==null?void 0:h.message)||"Failed to fetch goblet standings");e(v)}catch(f){l(f.message||"Failed to load goblet standings")}finally{i(!1)}}u()},[]),r?c.jsxs(le,{className:"p-6",children:[c.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"Goblet Standings"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading goblet standings..."})]}):a?c.jsxs(le,{className:"p-6",children:[c.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"Goblet Standings"}),c.jsx("p",{className:"text-sm text-destructive",children:a})]}):!t||t.standings.length===0?c.jsxs(le,{className:"p-6",children:[c.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"Goblet Standings"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"No goblet data available yet."})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-semibold",children:"Goblet Standings"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ranked by points for. Data source: ",t.source]})]}),c.jsx(le,{className:"p-4",children:c.jsx("div",{className:"fpl-table-container",children:c.jsxs(Et,{children:[c.jsx(Xt,{children:c.jsxs(Ce,{className:"fpl-table-header",children:[c.jsx(se,{className:"w-12",children:"Rank"}),c.jsx(se,{children:"Team"}),c.jsx(se,{children:"Manager"}),c.jsx(se,{className:"text-right",children:"Points For"})]})}),c.jsx(jt,{className:"fpl-table-body",children:t.standings.map(u=>c.jsxs(Ce,{children:[c.jsx(H,{className:"fpl-rank text-center",children:u.rank}),c.jsx(H,{className:"fpl-manager-name",children:u.entry_name||u.team_id}),c.jsx(H,{className:"fpl-manager-name",children:u.manager_name||""}),c.jsx(H,{className:"fpl-points",children:u.points_for??u.total_points})]},u.team_id))})]})})})]})}function sC(){const[t,e]=y.useState(null),[r,i]=y.useState(!0),[a,l]=y.useState(null);return y.useEffect(()=>{async function u(){var h,f;try{i(!0),l(null);const[p,v]=await Promise.all([fetch(`${De}/functions/v1${Fe}/h2h-matchups`,{headers:Me()}),fetch(`${De}/functions/v1${Fe}/h2h-rivalries`,{headers:Me()})]),w=await p.json(),_=await v.json();if(!p.ok||w!=null&&w.error)throw new Error(((h=w==null?void 0:w.error)==null?void 0:h.message)||"Failed to fetch matchups");if(!v.ok||_!=null&&_.error)throw new Error(((f=_==null?void 0:_.error)==null?void 0:f.message)||"Failed to fetch rivalry data");const b={};(_.matchups||[]).forEach(x=>{b[`${x.team_1_id}__${x.team_2_id}`]=x,b[`${x.team_2_id}__${x.team_1_id}`]={...x,current_season_record_1:x.current_season_record_2,current_season_record_2:x.current_season_record_1,all_time_record_1:x.all_time_record_2,all_time_record_2:x.all_time_record_1}});const E={...w,matchups:(w.matchups||[]).map(x=>({...x,rivalry:b[`${x.team_1_id}__${x.team_2_id}`]||null}))};e(E)}catch(p){l(p.message||"Failed to load matchups")}finally{i(!1)}}u()},[]),r?c.jsxs(le,{className:"p-6",children:[c.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"This Weeks Matchups"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading matchups"})]}):a?c.jsxs(le,{className:"p-6",children:[c.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"This Weeks Matchups"}),c.jsx("p",{className:"text-sm text-destructive",children:a})]}):!t||t.matchups.length===0?c.jsxs(le,{className:"p-6",children:[c.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"This Weeks Matchups"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"No matchups available yet."})]}):c.jsxs(le,{className:"p-4",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"This Weeks Matchups"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Gameweek ",t.gameweek]})]}),c.jsx("div",{className:"space-y-2",children:t.matchups.map((u,h)=>{var S,j,N,C,O,$,F,L,B,U;const f=`/matchup/league/${u.gameweek||t.gameweek}/${u.team_1_id}/${u.team_2_id}`,p=u.rivalry,v=((S=p==null?void 0:p.current_season_record_1)==null?void 0:S.wins)??"",w=((j=p==null?void 0:p.current_season_record_1)==null?void 0:j.draws)??"",_=((N=p==null?void 0:p.current_season_record_2)==null?void 0:N.wins)??"",b=((C=p==null?void 0:p.all_time_record_1)==null?void 0:C.wins)??"",E=((O=p==null?void 0:p.all_time_record_1)==null?void 0:O.draws)??"",x=(($=p==null?void 0:p.all_time_record_2)==null?void 0:$.wins)??"";return c.jsxs(Ge,{to:f,className:"block w-full rounded-md border p-3 text-foreground no-underline transition-colors hover:bg-muted/40 hover:no-underline visited:text-foreground",children:[c.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-2 text-base font-medium",children:[c.jsx("div",{className:"min-w-0 truncate text-right",children:((F=u.team_1)==null?void 0:F.entry_name)||""}),c.jsxs("div",{className:"shrink-0 text-center text-2xl leading-none",children:[u.team_1_points," - ",u.team_2_points]}),c.jsx("div",{className:"min-w-0 truncate",children:((L=u.team_2)==null?void 0:L.entry_name)||""})]}),c.jsxs("div",{className:"mt-1 grid grid-cols-[1fr_1fr] items-center gap-2 text-sm",children:[c.jsx("div",{className:"truncate text-right",children:((B=u.team_1)==null?void 0:B.manager_name)||""}),c.jsx("div",{className:"truncate",children:((U=u.team_2)==null?void 0:U.manager_name)||""})]}),c.jsxs("div",{className:"mt-2 space-y-1 text-base leading-tight",children:[c.jsxs("div",{className:"grid grid-cols-[7rem_1fr_auto_1fr] items-center gap-2",children:[c.jsx("div",{className:"text-right",children:"Season:"}),c.jsxs("div",{className:"text-right",children:[v," wins"]}),c.jsxs("div",{children:[w," draws"]}),c.jsxs("div",{children:[_," wins"]})]}),c.jsxs("div",{className:"grid grid-cols-[7rem_1fr_auto_1fr] items-center gap-2",children:[c.jsx("div",{className:"text-right",children:"All-Time:"}),c.jsxs("div",{className:"text-right",children:[b," wins"]}),c.jsxs("div",{children:[E," draws"]}),c.jsxs("div",{children:[x," wins"]})]})]})]},`${u.team_1_id}-${u.team_2_id}-${h}`)})})]})}function Ss(t){var e;return(e=t==null?void 0:t.leaders)!=null&&e.length?t.leaders.map(r=>{const i=r.details||"";return i.startsWith(`${r.value}:`)?`${r.manager_name} (${i})`:`${r.manager_name} (${r.value} GW${i?`: ${i}`:""})`}).join(" / "):""}function iC(){const[t,e]=y.useState(null),[r,i]=y.useState(!0);return y.useEffect(()=>{async function a(){var l;try{const u=`${De}/functions/v1${Fe}/legacy-stats/leaders`,h=await fetch(u,{headers:Me()}),f=await h.json();if(!h.ok||f!=null&&f.error)throw new Error(((l=f==null?void 0:f.error)==null?void 0:l.message)||"Failed to load season leaders");e(f)}finally{i(!1)}}a()},[]),c.jsxs(le,{className:"p-4",children:[c.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Season Stat Leaders"}),r?c.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading season leaders"}):c.jsx(Et,{children:c.jsxs(jt,{children:[c.jsxs(Ce,{children:[c.jsx(H,{className:"font-medium",children:"Points in a GW"}),c.jsx(H,{children:Ss(t==null?void 0:t.season_leaders.points_in_gameweek)})]}),c.jsxs(Ce,{children:[c.jsx(H,{className:"font-medium",children:"Most 50+ GW's"}),c.jsx(H,{children:Ss(t==null?void 0:t.season_leaders.most_50_plus_gws)})]}),c.jsxs(Ce,{children:[c.jsx(H,{className:"font-medium",children:"Longest Win Streak"}),c.jsx(H,{children:Ss(t==null?void 0:t.season_leaders.longest_win_streak)})]}),c.jsxs(Ce,{children:[c.jsx(H,{className:"font-medium",children:"Longest Unbeaten Streak"}),c.jsx(H,{children:Ss(t==null?void 0:t.season_leaders.longest_unbeaten_streak)})]}),c.jsxs(Ce,{children:[c.jsx(H,{className:"font-medium",children:"Longest Losing Streak"}),c.jsx(H,{children:Ss(t==null?void 0:t.season_leaders.longest_losing_streak)})]}),c.jsxs(Ce,{children:[c.jsx(H,{className:"font-medium",children:"Longest Winless Streak"}),c.jsx(H,{children:Ss(t==null?void 0:t.season_leaders.longest_winless_streak)})]})]})})]})}function $p(){return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"FFA Dashboard"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Current season snapshot powered by Draft data."})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[c.jsx(ty,{}),c.jsx(ny,{}),c.jsx(iC,{})]}),c.jsx(sC,{})]})}const oC=3e4;function aC(){const[t,e]=y.useState(null),[r,i]=y.useState(!0),[a,l]=y.useState(null),u=async()=>{var v;try{l(null);const w=`${De}/functions/v1${Fe}/cup-group-stage`,_=await fetch(w,{headers:Me()}),b=await _.json();if(!_.ok||b!=null&&b.error)throw new Error(((v=b==null?void 0:b.error)==null?void 0:v.message)||"Failed to fetch cup standings");e(b),i(!1)}catch(w){console.error(w),l(w.message||"Unknown error"),i(!1)}};y.useEffect(()=>{u();const v=setInterval(u,oC);return()=>clearInterval(v)},[]);const h=t&&t.standings.length>0?Math.ceil(t.standings.length*.8):0,f=t&&t.standings.length>0,p=(t==null?void 0:t.standings)||[];return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-semibold",children:"Cup Group Stage"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:t?c.jsxs(c.Fragment,{children:["All ",t.registeredCount," league members are automatically registered.",f&&` Top ${h} advance.`]}):"All league members are automatically registered."})]}),a&&c.jsx(le,{className:"p-4",children:c.jsxs("p",{className:"text-sm text-destructive",children:["Error: ",a]})}),c.jsx(le,{className:"p-4",children:r&&p.length===0?c.jsx("p",{className:"text-sm text-muted-foreground py-4",children:"Loading group stage standings"}):c.jsxs(Et,{children:[c.jsx(Xt,{children:c.jsxs(Ce,{children:[c.jsx(se,{className:"w-12",children:"Rank"}),c.jsx(se,{children:"Team"}),c.jsx(se,{children:"Manager"}),c.jsx(se,{className:"text-right",children:"W"}),c.jsx(se,{className:"text-right",children:"D"}),c.jsx(se,{className:"text-right",children:"L"}),c.jsx(se,{className:"text-right",children:"+"}),c.jsx(se,{className:"text-right",children:"Total Points"}),c.jsx(se,{className:"text-right",children:"Captain Points"}),c.jsx(se,{className:"text-right",children:"Played"}),c.jsx(se,{className:"text-center",children:"Status"})]})}),c.jsx(jt,{children:p.length>0?p.map(v=>{const w=f&&v.rank<=h;return c.jsxs(Ce,{className:w?"bg-green-50 dark:bg-green-950/40 font-semibold":"",children:[c.jsx(H,{children:v.rank}),c.jsx(H,{children:v.entry_name||"-"}),c.jsx(H,{children:v.manager_name}),c.jsx(H,{className:"text-right",children:v.wins??0}),c.jsx(H,{className:"text-right",children:v.draws??0}),c.jsx(H,{className:"text-right",children:v.losses??0}),c.jsx(H,{className:"text-right",children:v.plus??0}),c.jsx(H,{className:"text-right font-medium",children:v.total_points}),c.jsx(H,{className:"text-right",children:v.captain_points}),c.jsx(H,{className:"text-right",children:v.played}),c.jsx(H,{className:"text-center",children:f?w?c.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Advancing"}):c.jsx("span",{className:"text-muted-foreground",children:"Eliminated"}):c.jsx("span",{className:"text-muted-foreground",children:"-"})})]},v.team_id||v.manager_name)}):c.jsx(Ce,{children:c.jsx(H,{colSpan:11,className:"text-center text-muted-foreground py-8",children:r?"Loading...":"No league members found in database."})})})]})})]})}function lC(){const[t,e]=y.useState([]),[r,i]=y.useState(!0),[a,l]=y.useState(null);y.useEffect(()=>{async function h(){var f;try{i(!0),l(null);const p=`${De}/functions/v1${Fe}/legacy-stats/all-time`,v=await fetch(p,{headers:Me()}),w=await v.json();if(!v.ok||w!=null&&w.error)throw new Error(((f=w==null?void 0:w.error)==null?void 0:f.message)||"Failed to load all-time manager stats");const _=((w==null?void 0:w.stats)||[]).map(b=>({manager_name:b.manager_name,total_points:b.total_points||0,points_per_game:b.points_per_game??null,league_titles:b.league_titles??0,cup_wins:b.cup_wins??0,goblet_wins:b.goblet_wins??0,best_gameweek_details:b.best_gameweek_details??null}));e(_)}catch(p){l(p.message||"Failed to load managers")}finally{i(!1)}}h()},[]);const u=y.useMemo(()=>[...t].sort((h,f)=>f.total_points-h.total_points),[t]);return r?c.jsxs(le,{className:"p-6",children:[c.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"Managers"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading managers"})]}):a?c.jsxs(le,{className:"p-6",children:[c.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"Managers"}),c.jsx("p",{className:"text-sm text-destructive",children:a})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Managers"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"League leaders and all-time highlights. Profile photos will be added later."})]}),c.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:u.map(h=>{const f=[h.league_titles?`${h.league_titles}x league titles`:null,h.cup_wins?`${h.cup_wins}x cup wins`:null,h.goblet_wins?`${h.goblet_wins}x goblet wins`:null].filter(Boolean).join("  ")||"Building their legacy season by season.";return c.jsxs(le,{className:"p-5 flex flex-col gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"h-14 w-14 rounded-full bg-muted flex items-center justify-center text-sm font-semibold",children:h.manager_name.slice(0,2)}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold",children:h.manager_name}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["All-time points: ",h.total_points]})]})]}),c.jsx("div",{className:"text-sm text-muted-foreground",children:f}),c.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[c.jsxs("div",{className:"rounded-md bg-muted/60 p-2 text-center",children:[c.jsx("div",{className:"text-xs text-muted-foreground",children:"PPG"}),c.jsx("div",{className:"font-semibold",children:h.points_per_game?h.points_per_game.toFixed(2):""})]}),c.jsxs("div",{className:"rounded-md bg-muted/60 p-2 text-center",children:[c.jsx("div",{className:"text-xs text-muted-foreground",children:"Best GW"}),c.jsx("div",{className:"font-semibold text-[11px] leading-tight",children:h.best_gameweek_details??""})]}),c.jsxs("div",{className:"rounded-md bg-muted/60 p-2 text-center",children:[c.jsx("div",{className:"text-xs text-muted-foreground",children:"Trophies"}),c.jsx("div",{className:"font-semibold",children:h.league_titles+h.cup_wins+h.goblet_wins})]})]}),c.jsx(Ge,{to:`/manager/${h.manager_name.toLowerCase()}`,className:"text-sm font-medium text-primary hover:underline",children:"View profile "})]},h.manager_name)})})]})}const cC={1:"GK",2:"DEF",3:"MID",4:"FWD"},uC={a:"Available",d:"Doubtful",i:"Injured",s:"Suspended",u:"Unavailable"};function dC(){const[t,e]=y.useState(null),[r,i]=y.useState(!0),[a,l]=y.useState(null),[u,h]=y.useState("total_points"),[f,p]=y.useState("desc"),[v,w]=y.useState(""),[_,b]=y.useState(""),[E,x]=y.useState(""),[S,j]=y.useState("");y.useEffect(()=>{async function L(){var B;try{i(!0),l(null);const U=new URLSearchParams;v&&U.set("position",v),_&&U.set("team",_),E&&U.set("availability",E),S&&U.set("search",S);const ee=`${De}/functions/v1${Fe}/player-insights${U.toString()?`?${U.toString()}`:""}`,ie=await fetch(ee,{headers:Me()}),K=await ie.json();if(!ie.ok||K!=null&&K.error)throw new Error(((B=K==null?void 0:K.error)==null?void 0:B.message)||"Failed to fetch player insights");e(K)}catch(U){l(U.message||"Failed to load player insights")}finally{i(!1)}}L()},[v,_,E,S]);const N=(t==null?void 0:t.insights)||[],C=y.useMemo(()=>{const L=[...N];return L.sort((B,U)=>{const ee=B==null?void 0:B[u],ie=U==null?void 0:U[u],K=Number(ee),J=Number(ie);let oe=0;return!Number.isNaN(K)&&!Number.isNaN(J)&&ee!==""&&ie!==""?oe=K-J:oe=String(ee??"").localeCompare(String(ie??"")),f==="asc"?oe:-oe}),L},[N,f,u]),O=y.useMemo(()=>{const L=new Set;return N.forEach(B=>{typeof B.team=="number"&&Number.isFinite(B.team)&&L.add(B.team)}),Array.from(L).sort((B,U)=>B-U)},[N]);if(r)return c.jsxs(le,{className:"p-6",children:[c.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"Player Insights"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading player insights..."})]});if(a)return c.jsxs(le,{className:"p-6",children:[c.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"Player Insights"}),c.jsx("p",{className:"text-sm text-destructive",children:a})]});const $=L=>{if(u===L){p(B=>B==="asc"?"desc":"asc");return}h(L),p("desc")},F=L=>u!==L?"":f==="asc"?" ":" ";return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-semibold",children:"Player Insights"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Expanded player analytics with filters and sortable advanced metrics."})]}),c.jsx(le,{className:"p-4",children:c.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-4",children:[c.jsx("input",{className:"rounded-md border px-3 py-2 text-sm",placeholder:"Search by name",value:S,onChange:L=>j(L.target.value)}),c.jsxs("select",{className:"rounded-md border px-3 py-2 text-sm",value:v,onChange:L=>w(L.target.value),children:[c.jsx("option",{value:"",children:"All Positions"}),c.jsx("option",{value:"1",children:"GK"}),c.jsx("option",{value:"2",children:"DEF"}),c.jsx("option",{value:"3",children:"MID"}),c.jsx("option",{value:"4",children:"FWD"})]}),c.jsxs("select",{className:"rounded-md border px-3 py-2 text-sm",value:_,onChange:L=>b(L.target.value),children:[c.jsx("option",{value:"",children:"All Teams"}),O.map(L=>c.jsxs("option",{value:String(L),children:["Team ",L]},L))]}),c.jsxs("select",{className:"rounded-md border px-3 py-2 text-sm",value:E,onChange:L=>x(L.target.value),children:[c.jsx("option",{value:"",children:"All Availability"}),c.jsx("option",{value:"a",children:"Available"}),c.jsx("option",{value:"d",children:"Doubtful"}),c.jsx("option",{value:"i",children:"Injured"}),c.jsx("option",{value:"s",children:"Suspended"}),c.jsx("option",{value:"u",children:"Unavailable"})]})]})}),c.jsx(le,{className:"p-4",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs(Et,{children:[c.jsx(Xt,{children:c.jsxs(Ce,{children:[c.jsxs(se,{className:"cursor-pointer",onClick:()=>$("player_name"),children:["Player",F("player_name")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>$("position"),children:["Pos",F("position")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>$("goals_scored"),children:["Goals",F("goals_scored")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>$("assists"),children:["Assists",F("assists")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>$("total_points"),children:["Total Pts",F("total_points")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>$("games_played"),children:["Games",F("games_played")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>$("defensive_contribution_returns"),children:["Def Returns",F("defensive_contribution_returns")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>$("defensive_contributions"),children:["Def Contrib",F("defensive_contributions")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>$("points_per_game_played"),children:["Pts/Game",F("points_per_game_played")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>$("minutes_per_game_played"),children:["Min/Game",F("minutes_per_game_played")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>$("points_per_minute_played"),children:["Pts/Min",F("points_per_minute_played")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>$("points_per_90_played"),children:["Pts/90",F("points_per_90_played")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>$("average_points_home"),children:["Avg Home Pts",F("average_points_home")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>$("average_points_away"),children:["Avg Away Pts",F("average_points_away")]}),c.jsx(se,{className:"text-right",children:"Avail"})]})}),c.jsx(jt,{children:C.map(L=>c.jsxs(Ce,{children:[c.jsx(H,{className:"font-medium",children:L.player_name}),c.jsx(H,{className:"text-right",children:L.position?cC[L.position]:""}),c.jsx(H,{className:"text-right",children:L.goals_scored??0}),c.jsx(H,{className:"text-right",children:L.assists??0}),c.jsx(H,{className:"text-right",children:L.total_points??0}),c.jsx(H,{className:"text-right",children:L.games_played??0}),c.jsx(H,{className:"text-right",children:L.defensive_contribution_returns??0}),c.jsx(H,{className:"text-right",children:L.defensive_contributions??0}),c.jsx(H,{className:"text-right",children:(L.points_per_game_played??0).toFixed(2)}),c.jsx(H,{className:"text-right",children:(L.minutes_per_game_played??0).toFixed(1)}),c.jsx(H,{className:"text-right",children:(L.points_per_minute_played??0).toFixed(3)}),c.jsx(H,{className:"text-right",children:(L.points_per_90_played??0).toFixed(2)}),c.jsx(H,{className:"text-right",children:L.average_points_home==null?"":L.average_points_home.toFixed(2)}),c.jsx(H,{className:"text-right",children:L.average_points_away==null?"":L.average_points_away.toFixed(2)}),c.jsx(H,{className:"text-right",children:uC[String(L.availability||"")]||""})]},L.player_id))})]})})})]})}function hC(){const[t,e]=y.useState(null),[r,i]=y.useState(!0),[a,l]=y.useState(null);return y.useEffect(()=>{async function u(){var h;try{i(!0),l(null);const f=`${De}/functions/v1${Fe}/h2h-rivalries`,p=await fetch(f,{headers:Me()}),v=await p.json();if(!p.ok||v!=null&&v.error)throw new Error(((h=v==null?void 0:v.error)==null?void 0:h.message)||"Failed to fetch H2H rivalry records");e(v)}catch(f){l(f.message||"Failed to load H2H rivalry records")}finally{i(!1)}}u()},[]),r?c.jsxs(le,{className:"p-6",children:[c.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"H2H Standings"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading H2H records..."})]}):a?c.jsxs(le,{className:"p-6",children:[c.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"H2H Standings"}),c.jsx("p",{className:"text-sm text-destructive",children:a})]}):!t||t.matchups.length===0?c.jsxs(le,{className:"p-6",children:[c.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"H2H Standings"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"No H2H matchup records available yet."})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-semibold",children:"Head-to-Head Standings"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["This week's matchups with current season and all-time records. GW ",t.gameweek]})]}),c.jsx("div",{className:"grid gap-3",children:t.matchups.map((u,h)=>{var v,w,_,b;const f=((v=u.team_1)==null?void 0:v.manager_name)||((w=u.team_1)==null?void 0:w.entry_name)||"Manager 1",p=((_=u.team_2)==null?void 0:_.manager_name)||((b=u.team_2)==null?void 0:b.entry_name)||"Manager 2";return c.jsxs(le,{className:"p-4",children:[c.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-2 text-sm",children:[c.jsx("div",{className:"text-right font-semibold",children:f}),c.jsx("div",{className:"text-muted-foreground",children:"vs"}),c.jsx("div",{className:"font-semibold",children:p})]}),c.jsxs("div",{className:"mt-3 grid grid-cols-[80px_1fr_auto_1fr] items-center gap-2 text-sm",children:[c.jsx("div",{className:"text-muted-foreground",children:"Season"}),c.jsxs("div",{className:"text-right",children:[u.current_season_record_1.wins," win",u.current_season_record_1.wins===1?"":"s"]}),c.jsxs("div",{className:"text-muted-foreground",children:[u.current_season_record_1.draws," draw",u.current_season_record_1.draws===1?"":"s"]}),c.jsxs("div",{children:[u.current_season_record_2.wins," win",u.current_season_record_2.wins===1?"":"s"]}),c.jsx("div",{className:"text-muted-foreground",children:"All-Time"}),c.jsxs("div",{className:"text-right",children:[u.all_time_record_1.wins," win",u.all_time_record_1.wins===1?"":"s"]}),c.jsxs("div",{className:"text-muted-foreground",children:[u.all_time_record_1.draws," draw",u.all_time_record_1.draws===1?"":"s"]}),c.jsxs("div",{children:[u.all_time_record_2.wins," win",u.all_time_record_2.wins===1?"":"s"]})]})]},`${u.team_1_id}-${u.team_2_id}-${h}`)})})]})}const ja=[{season:"2021/22",id:"8292967"},{season:"2022/23",id:"10850560"},{season:"2023/24",id:"17184960"},{season:"2024/25",id:"23015586"},{season:"2025/26",id:"26707472"}];function fC(){const[t,e]=y.useState(ja[4].season),r=ja.find(i=>i.season===t)??ja[4];return c.jsxs("div",{className:"space-y-4 p-4 md:p-6",children:[c.jsxs("div",{className:"mx-auto flex w-full max-w-screen-2xl flex-wrap items-center justify-between gap-3",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-semibold",children:"Standings by Gameweek"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a season to view the standings visualization."})]}),c.jsx("select",{value:t,onChange:i=>e(i.target.value),className:"px-3 py-1 border rounded-md text-sm",children:ja.map(i=>c.jsx("option",{value:i.season,children:i.season},i.season))})]}),c.jsxs(le,{className:"mx-auto w-full max-w-screen-2xl overflow-hidden p-0",children:[c.jsx("iframe",{title:`${r.season} standings visualization`,src:`https://flo.uri.sh/visualisation/${r.id}/embed`,className:"block w-full h-[calc(100vh-130px)] min-h-[900px] border-0",loading:"lazy",allowFullScreen:!0,referrerPolicy:"strict-origin-when-cross-origin"},r.id),c.jsxs("div",{className:"border-t p-3 text-sm text-muted-foreground",children:["If the embed does not load,"," ",c.jsxs("a",{href:`https://flo.uri.sh/visualisation/${r.id}/embed`,target:"_blank",rel:"noreferrer",className:"underline hover:no-underline",children:["open the ",r.season," visualization in a new tab"]}),"."]})]})]})}function Dp({standings:t,showPointsFor:e=!0,title:r,className:i}){return c.jsxs("div",{className:i,children:[r&&c.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-900",children:r}),c.jsx("div",{className:"fpl-table-container",children:c.jsxs(Et,{children:[c.jsx(Xt,{children:c.jsxs(Ce,{className:"fpl-table-header",children:[c.jsx(se,{className:"w-12 text-center",children:"#"}),c.jsx(se,{children:"Manager"}),c.jsx(se,{className:"text-right",children:"W"}),c.jsx(se,{className:"text-right",children:"D"}),c.jsx(se,{className:"text-right",children:"L"}),e&&c.jsx(se,{className:"text-right",children:"+"}),c.jsx(se,{className:"text-right font-semibold",children:"PTS"})]})}),c.jsx(jt,{className:"fpl-table-body",children:t.map((a,l)=>{const u=a.rank==="C"||a.rank===1?c.jsx("span",{className:"font-bold text-blue-600",children:"C"}):a.rank,h=a.rank==="C"||a.rank===1;return c.jsxs(Ce,{className:h?"champion bg-blue-50":"",children:[c.jsx(H,{className:"fpl-rank text-center",children:u}),c.jsx(H,{className:"fpl-manager-name",children:a.manager_name}),c.jsx(H,{className:"fpl-numeric",children:a.wins}),c.jsx(H,{className:"fpl-numeric",children:a.draws}),c.jsx(H,{className:"fpl-numeric",children:a.losses}),e&&c.jsx(H,{className:"fpl-numeric text-gray-500",children:a.points_for??""}),c.jsx(H,{className:"fpl-points",children:a.points})]},`${a.manager_name}-${l}`)})})]})})]})}var bu="rovingFocusGroup.onEntryFocus",mC={bubbles:!1,cancelable:!0},nl="RovingFocusGroup",[Zu,ry,pC]=Wg(nl),[gC,sy]=eo(nl,[pC]),[vC,yC]=gC(nl),iy=y.forwardRef((t,e)=>c.jsx(Zu.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(Zu.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(wC,{...t,ref:e})})}));iy.displayName=nl;var wC=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:i,loop:a=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:f,onEntryFocus:p,preventScrollOnEntryFocus:v=!1,...w}=t,_=y.useRef(null),b=ut(e,_),E=pd(l),[x=null,S]=Ba({prop:u,defaultProp:h,onChange:f}),[j,N]=y.useState(!1),C=jn(p),O=ry(r),$=y.useRef(!1),[F,L]=y.useState(0);return y.useEffect(()=>{const B=_.current;if(B)return B.addEventListener(bu,C),()=>B.removeEventListener(bu,C)},[C]),c.jsx(vC,{scope:r,orientation:i,dir:E,loop:a,currentTabStopId:x,onItemFocus:y.useCallback(B=>S(B),[S]),onItemShiftTab:y.useCallback(()=>N(!0),[]),onFocusableItemAdd:y.useCallback(()=>L(B=>B+1),[]),onFocusableItemRemove:y.useCallback(()=>L(B=>B-1),[]),children:c.jsx(Ue.div,{tabIndex:j||F===0?-1:0,"data-orientation":i,...w,ref:b,style:{outline:"none",...t.style},onMouseDown:$e(t.onMouseDown,()=>{$.current=!0}),onFocus:$e(t.onFocus,B=>{const U=!$.current;if(B.target===B.currentTarget&&U&&!j){const ee=new CustomEvent(bu,mC);if(B.currentTarget.dispatchEvent(ee),!ee.defaultPrevented){const ie=O().filter(te=>te.focusable),K=ie.find(te=>te.active),J=ie.find(te=>te.id===x),ae=[K,J,...ie].filter(Boolean).map(te=>te.ref.current);ly(ae,v)}}$.current=!1}),onBlur:$e(t.onBlur,()=>N(!1))})})}),oy="RovingFocusGroupItem",ay=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:i=!0,active:a=!1,tabStopId:l,...u}=t,h=to(),f=l||h,p=yC(oy,r),v=p.currentTabStopId===f,w=ry(r),{onFocusableItemAdd:_,onFocusableItemRemove:b}=p;return y.useEffect(()=>{if(i)return _(),()=>b()},[i,_,b]),c.jsx(Zu.ItemSlot,{scope:r,id:f,focusable:i,active:a,children:c.jsx(Ue.span,{tabIndex:v?0:-1,"data-orientation":p.orientation,...u,ref:e,onMouseDown:$e(t.onMouseDown,E=>{i?p.onItemFocus(f):E.preventDefault()}),onFocus:$e(t.onFocus,()=>p.onItemFocus(f)),onKeyDown:$e(t.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){p.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const x=bC(E,p.orientation,p.dir);if(x!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let j=w().filter(N=>N.focusable).map(N=>N.ref.current);if(x==="last")j.reverse();else if(x==="prev"||x==="next"){x==="prev"&&j.reverse();const N=j.indexOf(E.currentTarget);j=p.loop?SC(j,N+1):j.slice(N+1)}setTimeout(()=>ly(j))}})})})});ay.displayName=oy;var xC={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _C(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function bC(t,e,r){const i=_C(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return xC[i]}function ly(t,e=!1){const r=document.activeElement;for(const i of t)if(i===r||(i.focus({preventScroll:e}),document.activeElement!==r))return}function SC(t,e){return t.map((r,i)=>t[(e+i)%t.length])}var kC=iy,EC=ay;function jC(t,e){return y.useReducer((r,i)=>e[r][i]??r,t)}var cy=t=>{const{present:e,children:r}=t,i=NC(e),a=typeof r=="function"?r({present:i.isPresent}):y.Children.only(r),l=ut(i.ref,CC(a));return typeof r=="function"||i.isPresent?y.cloneElement(a,{ref:l}):null};cy.displayName="Presence";function NC(t){const[e,r]=y.useState(),i=y.useRef({}),a=y.useRef(t),l=y.useRef("none"),u=t?"mounted":"unmounted",[h,f]=jC(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const p=Na(i.current);l.current=h==="mounted"?p:"none"},[h]),Nt(()=>{const p=i.current,v=a.current;if(v!==t){const _=l.current,b=Na(p);t?f("MOUNT"):b==="none"||(p==null?void 0:p.display)==="none"?f("UNMOUNT"):f(v&&_!==b?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,f]),Nt(()=>{if(e){let p;const v=e.ownerDocument.defaultView??window,w=b=>{const x=Na(i.current).includes(b.animationName);if(b.target===e&&x&&(f("ANIMATION_END"),!a.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",p=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},_=b=>{b.target===e&&(l.current=Na(i.current))};return e.addEventListener("animationstart",_),e.addEventListener("animationcancel",w),e.addEventListener("animationend",w),()=>{v.clearTimeout(p),e.removeEventListener("animationstart",_),e.removeEventListener("animationcancel",w),e.removeEventListener("animationend",w)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:y.useCallback(p=>{p&&(i.current=getComputedStyle(p)),r(p)},[])}}function Na(t){return(t==null?void 0:t.animationName)||"none"}function CC(t){var i,a;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var jd="Tabs",[TC]=eo(jd,[sy]),uy=sy(),[RC,Nd]=TC(jd),dy=y.forwardRef((t,e)=>{const{__scopeTabs:r,value:i,onValueChange:a,defaultValue:l,orientation:u="horizontal",dir:h,activationMode:f="automatic",...p}=t,v=pd(h),[w,_]=Ba({prop:i,onChange:a,defaultProp:l});return c.jsx(RC,{scope:r,baseId:to(),value:w,onValueChange:_,orientation:u,dir:v,activationMode:f,children:c.jsx(Ue.div,{dir:v,"data-orientation":u,...p,ref:e})})});dy.displayName=jd;var hy="TabsList",fy=y.forwardRef((t,e)=>{const{__scopeTabs:r,loop:i=!0,...a}=t,l=Nd(hy,r),u=uy(r);return c.jsx(kC,{asChild:!0,...u,orientation:l.orientation,dir:l.dir,loop:i,children:c.jsx(Ue.div,{role:"tablist","aria-orientation":l.orientation,...a,ref:e})})});fy.displayName=hy;var my="TabsTrigger",py=y.forwardRef((t,e)=>{const{__scopeTabs:r,value:i,disabled:a=!1,...l}=t,u=Nd(my,r),h=uy(r),f=yy(u.baseId,i),p=wy(u.baseId,i),v=i===u.value;return c.jsx(EC,{asChild:!0,...h,focusable:!a,active:v,children:c.jsx(Ue.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":p,"data-state":v?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:f,...l,ref:e,onMouseDown:$e(t.onMouseDown,w=>{!a&&w.button===0&&w.ctrlKey===!1?u.onValueChange(i):w.preventDefault()}),onKeyDown:$e(t.onKeyDown,w=>{[" ","Enter"].includes(w.key)&&u.onValueChange(i)}),onFocus:$e(t.onFocus,()=>{const w=u.activationMode!=="manual";!v&&!a&&w&&u.onValueChange(i)})})})});py.displayName=my;var gy="TabsContent",vy=y.forwardRef((t,e)=>{const{__scopeTabs:r,value:i,forceMount:a,children:l,...u}=t,h=Nd(gy,r),f=yy(h.baseId,i),p=wy(h.baseId,i),v=i===h.value,w=y.useRef(v);return y.useEffect(()=>{const _=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(_)},[]),c.jsx(cy,{present:a||v,children:({present:_})=>c.jsx(Ue.div,{"data-state":v?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":f,hidden:!_,id:p,tabIndex:0,...u,ref:e,style:{...t.style,animationDuration:w.current?"0s":void 0},children:_&&l})})});vy.displayName=gy;function yy(t,e){return`${t}-trigger-${e}`}function wy(t,e){return`${t}-content-${e}`}var PC=dy,AC=fy,OC=py,IC=vy;function xy({className:t,...e}){return c.jsx(PC,{"data-slot":"tabs",className:it("flex flex-col gap-2",t),...e})}function _y({className:t,...e}){return c.jsx(AC,{"data-slot":"tabs-list",className:it("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function Mi({className:t,...e}){return c.jsx(OC,{"data-slot":"tabs-trigger",className:it("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function Fi({className:t,...e}){return c.jsx(IC,{"data-slot":"tabs-content",className:it("flex-1 outline-none",t),...e})}function LC(t){const e=String(t||"").trim().toUpperCase();return e==="MATTHEW"?"MATT":e}function $C(){const[t,e]=y.useState([]),[r,i]=y.useState([]),[a,l]=y.useState(null),[u,h]=y.useState([]),[f,p]=y.useState([]),[v,w]=y.useState(!0),[_,b]=y.useState(null),[E,x]=y.useState({key:"points",dir:"desc"}),[S,j]=y.useState(null);if(y.useEffect(()=>{async function U(){var ee;try{w(!0),b(null);const ie=`${De}/functions/v1${Fe}/legacy-stats/all-time`,K=await fetch(ie,{headers:Me()}),J=await K.json();if(!K.ok||J!=null&&J.error)throw new Error(((ee=J==null?void 0:J.error)==null?void 0:ee.message)||"Failed to fetch all-time stats");e((J==null?void 0:J.stats)||[]);const{data:oe,error:ae}=await Rs.from("legacy_season_standings").select("season").lt("season",zg);if(ae)throw new Error(ae.message);const te=Array.from(new Set((oe||[]).map(D=>D.season))).sort().reverse();te.length>0&&(i(te),a||l(te[0]))}catch(ie){b(ie.message||"Failed to load data")}finally{w(!1)}}U()},[]),y.useEffect(()=>{async function U(){var ee;try{const ie=`${De}/functions/v1${Fe}/legacy-stats/leaders${a?`?season=${encodeURIComponent(a)}`:""}`,K=await fetch(ie,{headers:Me()}),J=await K.json();if(!K.ok||J!=null&&J.error)throw new Error(((ee=J==null?void 0:J.error)==null?void 0:ee.message)||"Failed to fetch legacy leaders");j(J)}catch(ie){console.error("Failed to load legacy leaders",ie)}}U()},[a]),y.useEffect(()=>{if(!a)return;async function U(){try{const[ee,ie]=await Promise.all([Rs.from("legacy_season_standings").select("*").eq("season",a).eq("competition_type","league").order("final_rank",{ascending:!0}),Rs.from("legacy_season_standings").select("*").eq("season",a).eq("competition_type","goblet").order("final_rank",{ascending:!0})]);if(ee.error)throw new Error(ee.error.message);if(ie.error)throw new Error(ie.error.message);const K=J=>{const oe=new Map;return(J||[]).forEach(ae=>{const te=LC(ae.manager_name),D=oe.get(te);if(!D){oe.set(te,{...ae,manager_name:te});return}oe.set(te,{...D,wins:D.wins+(ae.wins||0),draws:D.draws+(ae.draws||0),losses:D.losses+(ae.losses||0),points_for:D.points_for+(ae.points_for||0),points:D.points+(ae.points||0),final_rank:Math.min(D.final_rank||999,ae.final_rank||999)})}),Array.from(oe.values()).sort((ae,te)=>(ae.final_rank||999)-(te.final_rank||999))};h(K(ee.data||[])),p(K(ie.data||[]))}catch(ee){console.error("Failed to load season standings:",ee)}}U()},[a]),v)return c.jsxs(le,{className:"p-6",children:[c.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"League Standings"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."})]});if(_)return c.jsxs(le,{className:"p-6",children:[c.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"League Standings"}),c.jsx("p",{className:"text-sm text-destructive",children:_})]});const C=[...t.map(U=>({manager_name:U.manager_name,wins:U.wins,draws:U.draws,losses:U.losses,points_for:U.points_plus,points:U.total_points}))].sort((U,ee)=>{const ie=U==null?void 0:U[E.key],K=ee==null?void 0:ee[E.key],J=Number(ie),oe=Number(K);let ae=0;return!Number.isNaN(J)&&!Number.isNaN(oe)&&ie!==""&&K!==""?ae=J-oe:ae=String(ie??"").localeCompare(String(K??"")),E.dir==="asc"?ae:-ae}),O=U=>{x(ee=>({key:U,dir:ee.key===U&&ee.dir==="asc"?"desc":"asc"}))},$=U=>E.key===U?E.dir==="asc"?" ":" ":"",F=U=>{var ee;return!U||!((ee=U.leaders)!=null&&ee.length)?"":U.leaders.map(ie=>{const K=ie.details||"";return K.startsWith(`${ie.value}:`)?`${ie.manager_name} (${K})`:`${ie.manager_name} (${ie.value} GW${K?`: ${K}`:""})`}).join(" / ")},L=u.map(U=>({rank:U.final_rank===1?"C":U.final_rank,manager_name:U.manager_name,wins:U.wins,draws:U.draws,losses:U.losses,points_for:U.points_for,points:U.points})),B=f.map(U=>({rank:U.final_rank===1?"C":U.final_rank,manager_name:U.manager_name,wins:U.wins,draws:U.draws,losses:U.losses,points_for:U.points_for,points:U.points}));return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"FFA League Standings"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Historical league statistics and standings"})]}),c.jsxs(xy,{defaultValue:"all-time",className:"w-full",children:[c.jsxs(_y,{children:[c.jsx(Mi,{value:"all-time",children:"All-Time"}),c.jsx(Mi,{value:"season",children:"By Season"})]}),c.jsx(Fi,{value:"all-time",className:"mt-4",children:c.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2",children:[c.jsxs(le,{className:"p-4",children:[c.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-900",children:"All-Time League Standings"}),c.jsx("div",{className:"fpl-table-container",children:c.jsxs(Et,{children:[c.jsx(Xt,{children:c.jsxs(Ce,{className:"fpl-table-header",children:[c.jsxs(se,{className:"cursor-pointer",onClick:()=>O("manager_name"),children:["Manager",$("manager_name")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>O("wins"),children:["W",$("wins")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>O("draws"),children:["D",$("draws")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>O("losses"),children:["L",$("losses")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>O("points_for"),children:["For",$("points_for")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>O("points"),children:["Pts",$("points")]})]})}),c.jsx(jt,{className:"fpl-table-body",children:C.map(U=>c.jsxs(Ce,{children:[c.jsx(H,{className:"fpl-manager-name",children:U.manager_name}),c.jsx(H,{className:"fpl-numeric",children:U.wins}),c.jsx(H,{className:"fpl-numeric",children:U.draws}),c.jsx(H,{className:"fpl-numeric",children:U.losses}),c.jsx(H,{className:"fpl-numeric",children:U.points_for}),c.jsx(H,{className:"fpl-points",children:U.points})]},U.manager_name))})]})}),c.jsxs("div",{className:"mt-4 pt-4 border-t",children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Manager Profiles:"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(U=>c.jsx(Ge,{to:`/manager/${U.manager_name.toLowerCase()}`,className:"px-3 py-1 text-sm border rounded-md hover:bg-muted transition-colors",children:U.manager_name},U.manager_name))})]})]}),c.jsxs(le,{className:"p-4",children:[c.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-900",children:"All-Time Stat Leaders"}),c.jsx(Et,{children:c.jsxs(jt,{children:[c.jsxs(Ce,{children:[c.jsx(H,{className:"font-medium",children:"Points in a GW"}),c.jsx(H,{children:F(S==null?void 0:S.all_time.points_in_gameweek)})]}),c.jsxs(Ce,{children:[c.jsx(H,{className:"font-medium",children:"Most 50+ GW's"}),c.jsx(H,{children:F(S==null?void 0:S.all_time.most_50_plus_gws)})]}),c.jsxs(Ce,{children:[c.jsx(H,{className:"font-medium",children:"Longest Win Streak"}),c.jsx(H,{children:F(S==null?void 0:S.all_time.longest_win_streak)})]}),c.jsxs(Ce,{children:[c.jsx(H,{className:"font-medium",children:"Longest Unbeaten Streak"}),c.jsx(H,{children:F(S==null?void 0:S.all_time.longest_unbeaten_streak)})]}),c.jsxs(Ce,{children:[c.jsx(H,{className:"font-medium",children:"Longest Losing Streak"}),c.jsx(H,{children:F(S==null?void 0:S.all_time.longest_losing_streak)})]}),c.jsxs(Ce,{children:[c.jsx(H,{className:"font-medium",children:"Longest Winless Streak"}),c.jsx(H,{children:F(S==null?void 0:S.all_time.longest_winless_streak)})]})]})})]})]})}),c.jsxs(Fi,{value:"season",className:"mt-4 space-y-4",children:[r.length>0&&c.jsx(le,{className:"p-4",children:c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Select Season"}),c.jsx("select",{value:a||"",onChange:U=>l(U.target.value),className:"px-3 py-2 border rounded-md",children:r.map(U=>c.jsx("option",{value:U,children:U},U))})]})}),a&&c.jsxs(c.Fragment,{children:[c.jsx(le,{className:"p-4",children:c.jsx(Dp,{standings:L,title:`${a} League Standings`,showPointsFor:!0})}),B.length>0&&c.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2",children:[c.jsx(le,{className:"p-4",children:c.jsx(Dp,{standings:B,title:`${a} Goblet Standings`,showPointsFor:!0})}),c.jsxs(le,{className:"p-4",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-3",children:[a," Season Leaders"]}),c.jsx(Et,{children:c.jsxs(jt,{children:[c.jsxs(Ce,{children:[c.jsx(H,{className:"font-medium",children:"Points in a GW"}),c.jsx(H,{children:F(S==null?void 0:S.season_leaders.points_in_gameweek)})]}),c.jsxs(Ce,{children:[c.jsx(H,{className:"font-medium",children:"Most 50+ GW's"}),c.jsx(H,{children:F(S==null?void 0:S.season_leaders.most_50_plus_gws)})]}),c.jsxs(Ce,{children:[c.jsx(H,{className:"font-medium",children:"Longest Win Streak"}),c.jsx(H,{children:F(S==null?void 0:S.season_leaders.longest_win_streak)})]}),c.jsxs(Ce,{children:[c.jsx(H,{className:"font-medium",children:"Longest Unbeaten Streak"}),c.jsx(H,{children:F(S==null?void 0:S.season_leaders.longest_unbeaten_streak)})]}),c.jsxs(Ce,{children:[c.jsx(H,{className:"font-medium",children:"Longest Losing Streak"}),c.jsx(H,{children:F(S==null?void 0:S.season_leaders.longest_losing_streak)})]}),c.jsxs(Ce,{children:[c.jsx(H,{className:"font-medium",children:"Longest Winless Streak"}),c.jsx(H,{children:F(S==null?void 0:S.season_leaders.longest_winless_streak)})]})]})})]})]})]})]})]})]})}const Mp=["PATRICK","MATT","MARCO","LENNART","CHRIS","IAN","HENRI","DAVID","MAX","BENJI"];function Su(t){const e=String(t||"").trim().toUpperCase();if(!e)return"";const r=e.split(/\s+/)[0]||e;return r==="MATTHEW"?"MATT":r}function DC(){var ae,te;const{managerName:t}=rg(),[e,r]=y.useState(null),[i,a]=y.useState(!0),[l,u]=y.useState(null),[h,f]=y.useState({key:"season",dir:"desc"}),[p,v]=y.useState({key:"opponent_name",dir:"asc"}),[w,_]=y.useState({key:"opponent_name",dir:"asc"}),[b,E]=y.useState(""),[x,S]=y.useState(null),[j,N]=y.useState([]),[C,O]=y.useState("");if(y.useEffect(()=>{if(!t)return;async function D(){var P;try{a(!0),u(null);const G=t.toUpperCase();if(!Mp.includes(G))throw new Error("Manager not found");const q=`${De}/functions/v1${Fe}/legacy-stats/manager/${G}`,A=await fetch(q,{headers:Me()}),V=await A.json();if(!A.ok||V!=null&&V.error)throw new Error(((P=V==null?void 0:V.error)==null?void 0:P.message)||"Failed to load manager profile");r({manager_name:V.manager_name||G,all_time_stats:V.all_time_stats||null,season_standings:(V.season_standings||[]).filter(ne=>ne.season<zg),h2h_all_time:V.h2h_all_time||[],h2h_by_season:V.h2h_by_season||[],trophies:V.trophies||[],season_stats:V.season_stats||[]})}catch(G){u(G.message||"Failed to load manager profile")}finally{a(!1)}}D()},[t]),y.useEffect(()=>{const D=Array.from(new Set(((e==null?void 0:e.h2h_by_season)||[]).map(P=>P.season||"Unknown"))).sort((P,G)=>G.localeCompare(P));if(D.length===0){b&&E("");return}(!b||!D.includes(b))&&E(D[0])},[e,b]),y.useEffect(()=>{if(!(e!=null&&e.manager_name))return;async function D(){try{const[P,G]=await Promise.all([fetch(`${De}/functions/v1${Fe}/fixtures`,{headers:Me()}),fetch(`${De}/functions/v1${Fe}/h2h-standings`,{headers:Me()})]),q=await P.json(),A=await G.json();if(P.ok&&!(q!=null&&q.error)){const V=e.manager_name,ne=[],ue=(X,pe)=>{(X||[]).forEach(Se=>{(Se.matchups||[]).forEach(we=>{var Zt,en,Ht,wr;const Te=Su(((Zt=we.team_1)==null?void 0:Zt.manager_name)||""),Pe=Su(((en=we.team_2)==null?void 0:en.manager_name)||""),qe=Te===V;!qe&&!(Pe===V)||ne.push({key:`${pe}-${Se.gameweek}-${we.team_1_id}-${we.team_2_id}`,gameweek:Number(Se.gameweek||we.gameweek||0),competition:pe,opponent:qe?((Ht=we.team_2)==null?void 0:Ht.manager_name)||"":((wr=we.team_1)==null?void 0:wr.manager_name)||"",manager_points:Number(qe?we.team_1_points??0:we.team_2_points??0),opponent_points:Number(qe?we.team_2_points??0:we.team_1_points??0)})})})};ue((q==null?void 0:q.league)||[],"League"),ue((q==null?void 0:q.cup)||[],"Cup"),ne.sort((X,pe)=>X.gameweek-pe.gameweek),N(ne);const je=Number((q==null?void 0:q.current_gameweek)||1),xe=ne.find(X=>X.gameweek>=je);O(xe?`${xe.opponent} (${xe.competition})`:"")}if(G.ok&&!(A!=null&&A.error)){const V=((A==null?void 0:A.standings)||[]).find(ne=>Su(ne.manager_name||"")===e.manager_name);S((V==null?void 0:V.rank)??null)}}catch{N([]),S(null),O("")}}D()},[e==null?void 0:e.manager_name]),i)return c.jsxs(le,{className:"p-6",children:[c.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"Manager Profile"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."})]});if(l||!e)return c.jsxs(le,{className:"p-6",children:[c.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"Manager Profile"}),c.jsx("p",{className:"text-sm text-destructive",children:l||"Manager not found"})]});const $=e.season_standings.filter(D=>D.competition_type==="league").map(D=>({rank:D.final_rank===1?"C":D.final_rank,manager_name:D.manager_name,wins:D.wins,draws:D.draws,losses:D.losses,points_for:D.points_for,points:D.points,season:D.season})),F=(D,P,G)=>[...D].sort((q,A)=>{const V=q==null?void 0:q[P],ne=A==null?void 0:A[P],ue=Number(V),je=Number(ne);let xe=0;return!Number.isNaN(ue)&&!Number.isNaN(je)&&V!==""&&ne!==""?xe=ue-je:xe=String(V??"").localeCompare(String(ne??"")),G==="asc"?xe:-xe}),L=F($,h.key,h.dir),B=F(e.h2h_all_time||[],p.key,p.dir),U=e.h2h_by_season.reduce((D,P)=>{const G=P.season||"Unknown";D[G]||(D[G]=[]);const q=Number(P.wins||0),A=Number(P.draws||0),V=Number(P.losses||0),ne=q+A+V,ue=ne>0?(q*3+A)/ne:null;return D[G].push({...P,wins:q,draws:A,losses:V,games_played:ne,avg_points:ue}),D},{}),ee=Object.keys(U).sort((D,P)=>P.localeCompare(D)),ie=(()=>{const D={};return Object.entries(U).forEach(([P,G])=>{D[P]=F(G,w.key,w.dir)}),D})(),K=(D,P)=>{D(G=>({key:P,dir:G.key===P&&G.dir==="asc"?"desc":"asc"}))},J=(D,P)=>D.key===P?D.dir==="asc"?" ":" ":"",oe=L[0]||null;return c.jsxs("div",{className:"space-y-6 rounded-2xl bg-zinc-300/60 p-4 md:p-6",children:[c.jsxs("div",{children:[c.jsx("div",{className:"flex items-center gap-4 mb-2",children:c.jsx(Ge,{to:"/home",className:"text-sm text-zinc-700 hover:underline",children:" Back to Home"})}),c.jsxs("h1",{className:"text-3xl font-bold text-zinc-900",children:[e.manager_name," Manager Insights"]}),c.jsx("p",{className:"text-sm text-zinc-700 mt-2",children:"Historical performance dashboard"})]}),e.all_time_stats&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-[260px_1fr_1fr]",children:[c.jsx(le,{className:"rounded-3xl border-zinc-200 bg-zinc-100 p-6",children:c.jsx("div",{className:"h-44 w-full rounded-2xl border-2 border-zinc-900/70 bg-white/70 flex items-center justify-center text-zinc-700",children:c.jsx("div",{className:"h-28 w-28 rounded-full border-4 border-zinc-900/70 flex items-center justify-center text-4xl",children:""})})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs(le,{className:"rounded-3xl border-zinc-200 bg-zinc-100 p-5",children:[c.jsx("h2",{className:"text-2xl font-semibold mb-3 text-center",children:"All Time Record"}),c.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-zinc-700",children:"W"}),c.jsx("p",{className:"text-4xl font-bold",children:e.all_time_stats.wins||0})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-zinc-700",children:"D"}),c.jsx("p",{className:"text-4xl font-bold",children:e.all_time_stats.draws||0})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-zinc-700",children:"L"}),c.jsx("p",{className:"text-4xl font-bold",children:e.all_time_stats.losses||0})]})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[c.jsxs(le,{className:"rounded-3xl border-zinc-200 bg-zinc-100 p-4 text-center",children:[c.jsx("p",{className:"text-sm text-zinc-700",children:"Current Standing"}),c.jsx("p",{className:"text-4xl font-bold",children:x??(oe==null?void 0:oe.rank)??""})]}),c.jsxs(le,{className:"rounded-3xl border-zinc-200 bg-zinc-100 p-4 text-center",children:[c.jsx("p",{className:"text-sm text-zinc-700",children:"Next Fixture"}),c.jsx("p",{className:"text-lg font-bold leading-tight",children:C})]}),c.jsxs(le,{className:"rounded-3xl border-zinc-200 bg-zinc-100 p-4 text-center",children:[c.jsx("p",{className:"text-sm text-zinc-700",children:"All Time Points"}),c.jsx("p",{className:"text-4xl font-bold",children:e.all_time_stats.total_points||0})]})]})]}),c.jsxs(le,{className:"rounded-3xl border-zinc-200 bg-zinc-100 p-5",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trophy Cabinet"}),c.jsxs("div",{className:"flex items-end gap-4 text-5xl",children:[c.jsx("span",{title:"League Titles",children:""}),c.jsx("span",{title:"Cup Wins",children:""}),c.jsx("span",{title:"Goblet Wins",children:""})]}),c.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-2 text-center text-sm",children:[c.jsx("div",{children:e.all_time_stats.league_titles||0}),c.jsx("div",{children:e.all_time_stats.cup_wins||0}),c.jsx("div",{children:e.all_time_stats.goblet_wins||0})]}),c.jsxs("div",{className:"mt-4 rounded-2xl border border-zinc-300 bg-white/60 p-3",children:[c.jsx("p",{className:"text-sm text-zinc-700",children:"Points Per Game"}),c.jsx("p",{className:"text-3xl font-bold",children:((ae=e.all_time_stats.points_per_game)==null?void 0:ae.toFixed(2))||"0.00"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-[1.1fr_1fr]",children:[c.jsxs(le,{className:"rounded-3xl border-zinc-200 bg-zinc-100 p-5",children:[c.jsx("h3",{className:"text-3xl font-bold tracking-wide text-zinc-500 mb-3",children:"Fixtures"}),c.jsx("div",{className:"max-h-[320px] overflow-y-auto rounded-xl border border-zinc-300",children:j.length===0?c.jsx("div",{className:"p-4 text-sm text-zinc-700",children:"No recent fixture records."}):c.jsx("div",{className:"divide-y divide-zinc-300",children:j.map((D,P)=>c.jsxs("div",{className:`grid grid-cols-[100px_1fr_100px] items-center ${P%2===0?"bg-zinc-200/70":"bg-white/80"}`,children:[c.jsxs("div",{className:`px-3 py-3 font-bold text-3xl text-center ${P%2?"bg-zinc-900 text-white":"bg-zinc-100 text-zinc-900"}`,children:["GW ",D.gameweek]}),c.jsxs("div",{className:"px-3 py-3 font-semibold",children:[e.manager_name," vs ",D.opponent,c.jsxs("span",{className:"ml-2 text-xs text-zinc-600",children:["[",D.competition,"]"]})]}),c.jsxs("div",{className:"px-3 py-3 text-sm font-semibold text-right",children:[D.manager_points??0," - ",D.opponent_points??0]})]},D.key))})})]}),c.jsxs(le,{className:"rounded-3xl border-zinc-200 bg-zinc-100 p-5",children:[c.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Manager Insight Metrics"}),c.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-5 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-zinc-700",children:"Points Per Game"}),c.jsx("p",{className:"text-2xl font-bold",children:((te=e.all_time_stats.points_per_game)==null?void 0:te.toFixed(2))||"0.00"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-zinc-700",children:"50+ GW's"}),c.jsx("p",{className:"text-2xl font-bold",children:e.all_time_stats.fifty_plus_weeks||0})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-zinc-700",children:"Longest Win Streak"}),c.jsx("p",{className:"text-2xl font-bold",children:e.all_time_stats.longest_win_streak||0}),c.jsx("p",{className:"text-xs text-zinc-600",children:e.all_time_stats.longest_win_streak_spans||""})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-zinc-700",children:"Longest Unbeaten"}),c.jsx("p",{className:"text-2xl font-bold",children:e.all_time_stats.longest_undefeated_streak||0}),c.jsx("p",{className:"text-xs text-zinc-600",children:e.all_time_stats.longest_undefeated_streak_spans||""})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-zinc-700",children:"Longest Losing"}),c.jsx("p",{className:"text-2xl font-bold",children:e.all_time_stats.longest_loss_streak||0}),c.jsx("p",{className:"text-xs text-zinc-600",children:e.all_time_stats.longest_loss_streak_spans||""})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-zinc-700",children:"Longest Winless"}),c.jsx("p",{className:"text-2xl font-bold",children:e.all_time_stats.longest_winless_streak||0}),c.jsx("p",{className:"text-xs text-zinc-600",children:e.all_time_stats.longest_winless_streak_spans||""})]})]})]})]})]}),c.jsxs(xy,{defaultValue:"standings",className:"w-full",children:[c.jsxs(_y,{className:"bg-zinc-200/70",children:[c.jsx(Mi,{value:"standings",children:"Season Standings"}),c.jsx(Mi,{value:"h2h",children:"Head-to-Head"}),c.jsx(Mi,{value:"trophies",children:"Trophies"})]}),c.jsx(Fi,{value:"standings",className:"mt-4",children:c.jsxs(le,{className:"p-4",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Season-by-Season League Standings"}),c.jsx("div",{className:"fpl-table-container",children:c.jsxs(Et,{children:[c.jsx(Xt,{children:c.jsxs(Ce,{className:"fpl-table-header",children:[c.jsxs(se,{className:"cursor-pointer",onClick:()=>K(f,"season"),children:["Season",J(h,"season")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>K(f,"rank"),children:["Rank",J(h,"rank")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>K(f,"wins"),children:["W",J(h,"wins")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>K(f,"draws"),children:["D",J(h,"draws")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>K(f,"losses"),children:["L",J(h,"losses")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>K(f,"points_for"),children:["For",J(h,"points_for")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>K(f,"points"),children:["Pts",J(h,"points")]})]})}),c.jsx(jt,{className:"fpl-table-body",children:L.map(D=>c.jsxs(Ce,{children:[c.jsx(H,{className:"fpl-manager-name",children:D.season}),c.jsx(H,{className:"fpl-numeric",children:D.rank}),c.jsx(H,{className:"fpl-numeric",children:D.wins}),c.jsx(H,{className:"fpl-numeric",children:D.draws}),c.jsx(H,{className:"fpl-numeric",children:D.losses}),c.jsx(H,{className:"fpl-numeric",children:D.points_for}),c.jsx(H,{className:"fpl-points",children:D.points})]},`${D.season}-${D.rank}`))})]})})]})}),c.jsxs(Fi,{value:"h2h",className:"mt-4 space-y-4",children:[c.jsxs(le,{className:"p-4",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"All-Time H2H Records"}),c.jsx("div",{className:"fpl-table-container",children:c.jsxs(Et,{children:[c.jsx(Xt,{children:c.jsxs(Ce,{className:"fpl-table-header",children:[c.jsxs(se,{className:"cursor-pointer",onClick:()=>K(v,"opponent_name"),children:["Opponent",J(p,"opponent_name")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>K(v,"wins"),children:["W",J(p,"wins")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>K(v,"draws"),children:["D",J(p,"draws")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>K(v,"losses"),children:["L",J(p,"losses")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>K(v,"avg_points"),children:["Avg Pts",J(p,"avg_points")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>K(v,"games_played"),children:["GP",J(p,"games_played")]})]})}),c.jsx(jt,{className:"fpl-table-body",children:B.map(D=>{var P;return c.jsxs(Ce,{children:[c.jsx(H,{className:"fpl-manager-name",children:D.opponent_name}),c.jsx(H,{className:"fpl-numeric",children:D.wins||0}),c.jsx(H,{className:"fpl-numeric",children:D.draws||0}),c.jsx(H,{className:"fpl-numeric",children:D.losses||0}),c.jsx(H,{className:"fpl-numeric",children:((P=D.avg_points)==null?void 0:P.toFixed(2))||""}),c.jsx(H,{className:"fpl-points",children:D.games_played||0})]},D.opponent_name)})})]})})]}),c.jsxs(le,{className:"p-4",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"H2H by Season"}),ee.length===0?c.jsx("p",{className:"text-sm text-muted-foreground",children:"No season H2H data available."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Season"}),c.jsx("select",{value:b,onChange:D=>E(D.target.value),className:"px-3 py-2 border rounded-md",children:ee.map(D=>c.jsx("option",{value:D,children:D},D))})]}),c.jsx("div",{className:"fpl-table-container",children:c.jsxs(Et,{children:[c.jsx(Xt,{children:c.jsxs(Ce,{className:"fpl-table-header",children:[c.jsxs(se,{className:"cursor-pointer",onClick:()=>K(_,"opponent_name"),children:["Opponent",J(w,"opponent_name")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>K(_,"wins"),children:["W",J(w,"wins")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>K(_,"draws"),children:["D",J(w,"draws")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>K(_,"losses"),children:["L",J(w,"losses")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>K(_,"avg_points"),children:["Avg Pts",J(w,"avg_points")]}),c.jsxs(se,{className:"cursor-pointer text-right",onClick:()=>K(_,"games_played"),children:["GP",J(w,"games_played")]})]})}),c.jsx(jt,{className:"fpl-table-body",children:(ie[b]||[]).map(D=>c.jsxs(Ce,{children:[c.jsx(H,{className:"fpl-manager-name",children:D.opponent_name}),c.jsx(H,{className:"fpl-numeric",children:D.wins}),c.jsx(H,{className:"fpl-numeric",children:D.draws}),c.jsx(H,{className:"fpl-numeric",children:D.losses}),c.jsx(H,{className:"fpl-numeric",children:D.avg_points==null?"":Number(D.avg_points).toFixed(2)}),c.jsx(H,{className:"fpl-points",children:D.games_played})]},`${b}-${D.opponent_name}`))})]})})]})]})]}),c.jsx(Fi,{value:"trophies",className:"mt-4",children:c.jsxs(le,{className:"p-4",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trophies"}),e.trophies.length>0?c.jsxs(Et,{children:[c.jsx(Xt,{children:c.jsxs(Ce,{children:[c.jsx(se,{children:"Season"}),c.jsx(se,{children:"League"}),c.jsx(se,{children:"FFA Cup"}),c.jsx(se,{children:"Goblet"}),c.jsx(se,{children:"Treble"})]})}),c.jsx(jt,{children:e.trophies.map(D=>c.jsxs(Ce,{children:[c.jsx(H,{className:"font-medium",children:D.season}),c.jsx(H,{className:"text-center",children:D.league_champion?"":""}),c.jsx(H,{className:"text-center",children:D.cup_winner?"":""}),c.jsx(H,{className:"text-center",children:D.goblet_winner?"":""}),c.jsx(H,{className:"text-center",children:D.treble?"":""})]},D.season))})]}):c.jsx("p",{className:"text-sm text-muted-foreground",children:"No trophies yet."})]})})]}),c.jsxs(le,{className:"p-4",children:[c.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Other Managers"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:Mp.filter(D=>D!==e.manager_name).map(D=>c.jsx(Ge,{to:`/manager/${D.toLowerCase()}`,className:"px-3 py-1 text-sm border rounded-md hover:bg-muted transition-colors",children:D},D))})]})]})}function Fp(t){const e=String(t||"").trim().toUpperCase();return e==="MATTHEW"?"MATT":e}function ks(t){return String(t||"").trim()}function MC(){const[t,e]=y.useState([]),[r,i]=y.useState(""),[a,l]=y.useState([]),[u,h]=y.useState(!0),[f,p]=y.useState(null);y.useEffect(()=>{async function _(){try{const[b,E]=await Promise.all([Rs.from("legacy_h2h_gameweek_results").select("season"),Rs.from("legacy_season_standings").select("season").eq("competition_type","league")]);if(b.error)throw new Error(b.error.message);if(E.error)throw new Error(E.error.message);const x=[...(b.data||[]).map(j=>ks(j.season)),...(E.data||[]).map(j=>ks(j.season))].filter(Boolean),S=Array.from(new Set(x)).sort().reverse();e(S),S.length>0&&i(S[0])}catch(b){p(b.message||"Failed to load seasons")}finally{h(!1)}}_()},[]),y.useEffect(()=>{if(!r)return;async function _(){try{h(!0),p(null),l([]);const{data:b,error:E}=await Rs.from("legacy_h2h_gameweek_results").select("season, gameweek, manager_name, opponent_name, points_for, points_against, result").eq("season",r).order("gameweek",{ascending:!0}).order("manager_name",{ascending:!0});if(E)throw new Error(E.message);const x=(b||[]).filter(N=>ks(N.season)===ks(r)),S=new Map;x.forEach(N=>{const C=Fp(N.manager_name),O=Fp(N.opponent_name);if(!C||!O)return;const[$,F]=[C,O].sort(),L=`${ks(N.season)}__${N.gameweek}__${$}__${F}`,B=C===$,U=Number(N.points_for||0),ee=Number(N.points_against||0);if(S.has(L)){const ie=S.get(L);ie.manager_1_points===0&&ie.manager_2_points===0&&(ie.manager_1_points=B?U:ee,ie.manager_2_points=B?ee:U);return}S.set(L,{season:ks(N.season),gameweek:Number(N.gameweek||0),manager_1:$,manager_2:F,manager_1_points:B?U:ee,manager_2_points:B?ee:U,outcome:"Draw"})});const j=Array.from(S.values()).map(N=>{const C=N.manager_1_points>N.manager_2_points?`${N.manager_1} won`:N.manager_2_points>N.manager_1_points?`${N.manager_2} won`:"Draw";return{...N,outcome:C}}).sort((N,C)=>N.gameweek-C.gameweek||N.manager_1.localeCompare(C.manager_1));l(j)}catch(b){p(b.message||"Failed to load fixtures")}finally{h(!1)}}_()},[r]);const v=y.useMemo(()=>a.reduce((_,b)=>(_[b.gameweek]||(_[b.gameweek]=[]),_[b.gameweek].push(b),_),{}),[a]),w=y.useMemo(()=>Object.keys(v).map(Number).sort((_,b)=>_-b),[v]);return u&&!r?c.jsxs(le,{className:"p-6",children:[c.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"Legacy Fixtures by Gameweek"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."})]}):f?c.jsxs(le,{className:"p-6",children:[c.jsx("h1",{className:"mb-4 text-xl font-semibold",children:"Legacy Fixtures by Gameweek"}),c.jsx("p",{className:"text-sm text-destructive",children:f})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-semibold",children:"Legacy Fixtures by Gameweek"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Results from legacy H2H gameweek records."})]}),c.jsxs(le,{className:"p-4",children:[c.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Season"}),c.jsx("select",{value:r,onChange:_=>i(_.target.value),className:"px-3 py-2 border rounded-md",children:t.map(_=>c.jsx("option",{value:_,children:_},_))})]}),u?c.jsx(le,{className:"p-6",children:c.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading fixtures..."})}):w.length===0?c.jsx(le,{className:"p-6",children:c.jsxs("p",{className:"text-sm text-muted-foreground",children:["No fixtures available for ",r,"."]})}):w.map(_=>c.jsxs(le,{className:"p-4",children:[c.jsxs("h2",{className:"text-lg font-semibold mb-3",children:["Gameweek ",_]}),c.jsxs(Et,{children:[c.jsx(Xt,{children:c.jsxs(Ce,{children:[c.jsx(se,{children:"Manager 1"}),c.jsx(se,{children:"Manager 2"}),c.jsx(se,{className:"text-right",children:"Score"}),c.jsx(se,{children:"Result"})]})}),c.jsx(jt,{children:v[_].map(b=>c.jsxs(Ce,{children:[c.jsx(H,{className:"font-medium",children:b.manager_1}),c.jsx(H,{className:"font-medium",children:b.manager_2}),c.jsxs(H,{className:"text-right",children:[b.manager_1_points," - ",b.manager_2_points]}),c.jsx(H,{children:b.outcome})]},`${b.season}-${b.gameweek}-${b.manager_1}-${b.manager_2}`))})]})]},_))]})}const Up=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,zp=Rg,FC=(t,e)=>r=>{var i;if((e==null?void 0:e.variants)==null)return zp(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:l}=e,u=Object.keys(a).map(p=>{const v=r==null?void 0:r[p],w=l==null?void 0:l[p];if(v===null)return null;const _=Up(v)||Up(w);return a[p][_]}),h=r&&Object.entries(r).reduce((p,v)=>{let[w,_]=v;return _===void 0||(p[w]=_),p},{}),f=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((p,v)=>{let{class:w,className:_,...b}=v;return Object.entries(b).every(E=>{let[x,S]=E;return Array.isArray(S)?S.includes({...l,...h}[x]):{...l,...h}[x]===S})?[...p,w,_]:p},[]);return zp(t,u,f,r==null?void 0:r.class,r==null?void 0:r.className)},UC=FC("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Os({className:t,variant:e,size:r,asChild:i=!1,...a}){const l=i?Is:"button";return c.jsx(l,{"data-slot":"button",className:it(UC({variant:e,size:r,className:t})),...a})}function fr({className:t,type:e,...r}){return c.jsx("input",{type:e,"data-slot":"input",className:it("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}var zC="Label",by=y.forwardRef((t,e)=>c.jsx(Ue.label,{...t,ref:e,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));by.displayName=zC;var BC=by;function Ui({className:t,...e}){return c.jsx(BC,{"data-slot":"label",className:it("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const Cd="ffa_captain_session_token";function Td(){return typeof window>"u"?null:localStorage.getItem(Cd)}function WC(t){typeof window>"u"||localStorage.setItem(Cd,t)}function Sy(){typeof window>"u"||localStorage.removeItem(Cd)}function VC(){const t=Fs(),[e]=dg(),[r,i]=y.useState(""),[a,l]=y.useState(""),[u,h]=y.useState(!1),[f,p]=y.useState(null),v=async w=>{var b;w.preventDefault(),p(null);const _=r.trim().toLowerCase();if(!_){p("Email is required.");return}if(!a){p("Password is required.");return}h(!0);try{const E=`${De}/functions/v1${Fe}/captain-auth/sign-in`,x=await fetch(E,{method:"POST",headers:{"Content-Type":"application/json",...Me()},body:JSON.stringify({email:_,password:a})}),S=await x.json();if(!x.ok||S!=null&&S.error)throw new Error(((b=S==null?void 0:S.error)==null?void 0:b.message)||"Sign-in failed");WC(S.token);const j=e.get("next");t(j==="pick_captain"?"/pick_captain":"/dashboard")}catch(E){p((E==null?void 0:E.message)||"Sign-in failed")}finally{h(!1)}};return c.jsx("div",{className:"max-w-md mx-auto mt-8",children:c.jsxs(le,{className:"p-6",children:[c.jsx("h1",{className:"text-2xl font-semibold mb-3",children:"Sign In"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Sign in with your manager email to access captain picks."}),c.jsxs("form",{onSubmit:v,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Ui,{htmlFor:"email",children:"Email"}),c.jsx(fr,{id:"email",type:"email",value:r,onChange:w=>i(w.target.value),placeholder:"manager@email.com",className:"mt-1",required:!0})]}),c.jsxs("div",{children:[c.jsx(Ui,{htmlFor:"password",children:"Password"}),c.jsx(fr,{id:"password",type:"password",value:a,onChange:w=>l(w.target.value),placeholder:"password",className:"mt-1",required:!0})]}),f&&c.jsx("p",{className:"text-sm text-destructive",children:f}),c.jsx(Os,{type:"submit",className:"w-full",disabled:u,children:u?"Signing in...":"Sign In"})]})]})})}function HC(){const t=Fs(),[e,r]=y.useState(!0),[i,a]=y.useState(!1),[l,u]=y.useState(null),[h,f]=y.useState(null),[p,v]=y.useState(null),[w,_]=y.useState(null),b=y.useMemo(()=>Td(),[]),E=async()=>{var j;if(!b){t("/sign-in",{replace:!0});return}r(!0),u(null);try{const N=`${De}/functions/v1${Fe}/captain/context?token=${encodeURIComponent(b)}`,C=await fetch(N,{headers:Me()}),O=await C.json();if(!C.ok||O!=null&&O.error)throw new Error(((j=O==null?void 0:O.error)==null?void 0:j.message)||"Failed to load captain context");v(O),_(O.selected_captain_id??null)}catch(N){u((N==null?void 0:N.message)||"Failed to load captain context")}finally{r(!1)}};y.useEffect(()=>{E()},[]);const x=async()=>{var j;if(!b||!w){u("Please choose a captain.");return}a(!0),u(null),f(null);try{const N=`${De}/functions/v1${Fe}/captain/select`,C=await fetch(N,{method:"POST",headers:{"Content-Type":"application/json",...Me()},body:JSON.stringify({token:b,captain_player_id:w})}),O=await C.json();if(!C.ok||O!=null&&O.error)throw new Error(((j=O==null?void 0:O.error)==null?void 0:j.message)||"Failed to save captain");f(`Captain saved for GW${O.gameweek}: ${O.captain_name}`),await E()}catch(N){u((N==null?void 0:N.message)||"Failed to save captain")}finally{a(!1)}},S=async()=>{try{if(b){const j=`${De}/functions/v1${Fe}/captain-auth/sign-out`;await fetch(j,{method:"POST",headers:{"Content-Type":"application/json",...Me()},body:JSON.stringify({token:b})})}}finally{Sy(),t("/sign-in",{replace:!0})}};return e?c.jsx(le,{className:"p-6",children:c.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading captain picks..."})}):p?c.jsxs("div",{className:"space-y-4",children:[c.jsx(le,{className:"p-6",children:c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-semibold",children:"Pick Captain"}),c.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[p.manager_name," ",p.team_name?`(${p.team_name})`:""," | GW",p.gameweek]})]}),c.jsx(Os,{variant:"outline",onClick:S,children:"Sign Out"})]})}),c.jsxs(le,{className:"p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Your Team"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:p.players.map(j=>c.jsxs("label",{className:`border rounded-md px-3 py-2 text-sm cursor-pointer ${w===j.id?"border-primary bg-muted":""}`,children:[c.jsx("input",{type:"radio",name:"captain",value:j.id,checked:w===j.id,onChange:()=>_(j.id),className:"mr-2"}),j.name]},j.id))}),c.jsxs("div",{className:"mt-5 flex items-center gap-2",children:[c.jsx(Os,{onClick:x,disabled:i||!w,children:i?"Saving...":"Save Captain"}),p.selected_captain_name&&c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Current selection: ",p.selected_captain_name]})]}),l&&c.jsx("p",{className:"text-sm text-destructive mt-3",children:l}),h&&c.jsx("p",{className:"text-sm text-emerald-600 mt-3",children:h})]})]}):c.jsxs(le,{className:"p-6",children:[c.jsx("p",{className:"text-sm text-destructive",children:l||"No captain context available."}),c.jsx("div",{className:"mt-4",children:c.jsx(Os,{onClick:()=>t("/sign-in"),children:"Go to Sign In"})})]})}function GC(){const t=Fs(),e=y.useMemo(()=>Td(),[]),[r,i]=y.useState(!0),[a,l]=y.useState(null),[u,h]=y.useState(null),[f,p]=y.useState(""),[v,w]=y.useState(""),[_,b]=y.useState(""),[E,x]=y.useState(!1),[S,j]=y.useState(null),[N,C]=y.useState(null),[O,$]=y.useState(null),[F,L]=y.useState({club_crest_url:null,club_logo_url:null,manager_profile_picture_url:null});y.useEffect(()=>{async function K(){var J,oe,ae,te;if(!e){t("/sign-in",{replace:!0});return}i(!0),C(null);try{const D=`${De}/functions/v1${Fe}/captain-auth/session?token=${encodeURIComponent(e)}`,P=await fetch(D,{headers:Me()}),G=await P.json();if(!P.ok||G!=null&&G.error)throw new Error(((J=G==null?void 0:G.error)==null?void 0:J.message)||"Failed to validate session");l(G.manager_name||null),h(G.team_name||null),L({club_crest_url:((oe=G==null?void 0:G.media)==null?void 0:oe.club_crest_url)||null,club_logo_url:((ae=G==null?void 0:G.media)==null?void 0:ae.club_logo_url)||null,manager_profile_picture_url:((te=G==null?void 0:G.media)==null?void 0:te.manager_profile_picture_url)||null})}catch(D){C((D==null?void 0:D.message)||"Failed to validate session")}finally{i(!1)}}K()},[t,e]);const B=async()=>{try{if(e){const K=`${De}/functions/v1${Fe}/captain-auth/sign-out`;await fetch(K,{method:"POST",headers:{"Content-Type":"application/json",...Me()},body:JSON.stringify({token:e})})}}finally{Sy(),t("/sign-in",{replace:!0})}},U=K=>new Promise((J,oe)=>{const ae=new FileReader;ae.onload=()=>J(String(ae.result||"")),ae.onerror=()=>oe(new Error("Failed to read image")),ae.readAsDataURL(K)}),ee=async(K,J)=>{var ae,te,D,P,G;const oe=(ae=K.target.files)==null?void 0:ae[0];if(!(!oe||!e)){C(null),$(null),j(J);try{const q=await U(oe),A=`${De}/functions/v1${Fe}/captain-auth/media`,V=await fetch(A,{method:"POST",headers:{"Content-Type":"application/json",...Me()},body:JSON.stringify({token:e,media_type:J,data_url:q})}),ne=await V.json();if(!V.ok||ne!=null&&ne.error)throw new Error(((te=ne==null?void 0:ne.error)==null?void 0:te.message)||"Failed to upload media");L({club_crest_url:((D=ne==null?void 0:ne.media)==null?void 0:D.club_crest_url)||null,club_logo_url:((P=ne==null?void 0:ne.media)==null?void 0:P.club_logo_url)||null,manager_profile_picture_url:((G=ne==null?void 0:ne.media)==null?void 0:G.manager_profile_picture_url)||null}),$("Media updated.")}catch(q){C((q==null?void 0:q.message)||"Failed to upload media")}finally{j(null),K.target.value=""}}},ie=async K=>{var J;if(K.preventDefault(),C(null),$(null),!e){t("/sign-in",{replace:!0});return}if(!f||!v||!_){C("All password fields are required.");return}if(v!==_){C("New password and confirmation do not match.");return}if(v.length<6){C("New password must be at least 6 characters.");return}x(!0);try{const oe=`${De}/functions/v1${Fe}/captain-auth/change-password`,ae=await fetch(oe,{method:"POST",headers:{"Content-Type":"application/json",...Me()},body:JSON.stringify({token:e,current_password:f,new_password:v})}),te=await ae.json();if(!ae.ok||te!=null&&te.error)throw new Error(((J=te==null?void 0:te.error)==null?void 0:J.message)||"Failed to change password");$("Password updated."),p(""),w(""),b("")}catch(oe){C((oe==null?void 0:oe.message)||"Failed to change password")}finally{x(!1)}};return r?c.jsx(le,{className:"p-6",children:c.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading account..."})}):c.jsxs("div",{className:"space-y-4",children:[c.jsx(le,{className:"p-6",children:c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-semibold",children:"My Page"}),c.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[a||"Manager"," ",u?`(${u})`:""]})]}),c.jsx(Os,{variant:"outline",onClick:B,children:"Sign Out"})]})}),c.jsxs(le,{className:"p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Profile Media"}),c.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm font-medium",children:"Club Crest"}),F.club_crest_url?c.jsx("img",{src:F.club_crest_url,alt:"Club crest",className:"h-20 w-20 rounded-md object-cover border"}):c.jsx("div",{className:"h-20 w-20 rounded-md border bg-muted"}),c.jsx(fr,{type:"file",accept:"image/*",onChange:K=>ee(K,"club_crest"),disabled:S==="club_crest"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm font-medium",children:"Club Logo"}),F.club_logo_url?c.jsx("img",{src:F.club_logo_url,alt:"Club logo",className:"h-20 w-20 rounded-md object-cover border"}):c.jsx("div",{className:"h-20 w-20 rounded-md border bg-muted"}),c.jsx(fr,{type:"file",accept:"image/*",onChange:K=>ee(K,"club_logo"),disabled:S==="club_logo"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm font-medium",children:"Manager Photo"}),F.manager_profile_picture_url?c.jsx("img",{src:F.manager_profile_picture_url,alt:"Manager profile",className:"h-20 w-20 rounded-md object-cover border"}):c.jsx("div",{className:"h-20 w-20 rounded-md border bg-muted"}),c.jsx(fr,{type:"file",accept:"image/*",onChange:K=>ee(K,"manager_profile_picture"),disabled:S==="manager_profile_picture"})]})]})]}),c.jsxs(le,{className:"p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Change Password"}),c.jsxs("form",{className:"space-y-4 max-w-md",onSubmit:ie,children:[c.jsxs("div",{children:[c.jsx(Ui,{htmlFor:"current-password",children:"Current Password"}),c.jsx(fr,{id:"current-password",type:"password",value:f,onChange:K=>p(K.target.value),className:"mt-1",required:!0})]}),c.jsxs("div",{children:[c.jsx(Ui,{htmlFor:"new-password",children:"New Password"}),c.jsx(fr,{id:"new-password",type:"password",value:v,onChange:K=>w(K.target.value),className:"mt-1",required:!0})]}),c.jsxs("div",{children:[c.jsx(Ui,{htmlFor:"confirm-password",children:"Confirm New Password"}),c.jsx(fr,{id:"confirm-password",type:"password",value:_,onChange:K=>b(K.target.value),className:"mt-1",required:!0})]}),N&&c.jsx("p",{className:"text-sm text-destructive",children:N}),O&&c.jsx("p",{className:"text-sm text-emerald-600",children:O}),c.jsx(Os,{type:"submit",disabled:E,children:E?"Saving...":"Update Password"})]})]})]})}function Bp({fixture:t}){var i,a,l,u;const e=`/matchup/${t.type}/${t.gameweek}/${t.team_1_id}/${t.team_2_id}`,r=t.matchup_id?`${e}?matchupId=${encodeURIComponent(t.matchup_id)}`:e;return c.jsxs(Ge,{to:r,className:"grid grid-cols-[1fr_auto_1fr] items-center gap-2 rounded-md border p-3 hover:bg-muted/40 transition-colors",children:[c.jsxs("div",{className:"text-right",children:[t.team_1_rank!=null?c.jsxs("div",{className:"text-xs text-muted-foreground",children:["#",t.team_1_rank]}):null,c.jsx("div",{className:"font-medium",children:((i=t.team_1)==null?void 0:i.manager_name)||""}),c.jsx("div",{className:"text-xs text-muted-foreground",children:((a=t.team_1)==null?void 0:a.entry_name)||""})]}),c.jsxs("div",{className:"text-center font-semibold",children:[t.team_1_points," - ",t.team_2_points,t.type==="cup"&&t.leg?c.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.round||"Cup","  Leg ",t.leg]}):null]}),c.jsxs("div",{children:[t.team_2_rank!=null?c.jsxs("div",{className:"text-xs text-muted-foreground",children:["#",t.team_2_rank]}):null,c.jsx("div",{className:"font-medium",children:((l=t.team_2)==null?void 0:l.manager_name)||""}),c.jsx("div",{className:"text-xs text-muted-foreground",children:((u=t.team_2)==null?void 0:u.entry_name)||""})]})]})}function KC(){const[t,e]=y.useState(null),[r,i]=y.useState(!0),[a,l]=y.useState(null);return y.useEffect(()=>{async function u(){var h;try{i(!0),l(null);const f=`${De}/functions/v1${Fe}/fixtures`,p=await fetch(f,{headers:Me()}),v=await p.json();if(!p.ok||v!=null&&v.error)throw new Error(((h=v==null?void 0:v.error)==null?void 0:h.message)||"Failed to load fixtures");e(v)}catch(f){l(f.message||"Failed to load fixtures")}finally{i(!1)}}u()},[]),r?c.jsx(le,{className:"p-6",children:c.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading fixtures"})}):a||!t?c.jsx(le,{className:"p-6",children:c.jsx("p",{className:"text-sm text-destructive",children:a||"Failed to load fixtures"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Season Fixtures"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"League and cup fixtures by gameweek. Click any matchup for lineups."})]}),c.jsxs(le,{className:"p-4",children:[c.jsx("h2",{className:"text-xl font-semibold mb-3",children:"League Fixtures"}),c.jsx("div",{className:"space-y-4",children:t.league.map(u=>c.jsxs("div",{className:"space-y-2",children:[c.jsxs("h3",{className:"text-sm font-semibold text-muted-foreground",children:["GW ",u.gameweek]}),u.matchups.map(h=>c.jsx(Bp,{fixture:h},h.fixture_id))]},`league-${u.gameweek}`))})]}),c.jsxs(le,{className:"p-4",children:[c.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Cup Fixtures"}),c.jsx("div",{className:"space-y-4",children:t.cup.map(u=>c.jsxs("div",{className:"space-y-2",children:[c.jsxs("h3",{className:"text-sm font-semibold text-muted-foreground",children:["GW ",u.gameweek]}),u.matchups.map(h=>c.jsx(Bp,{fixture:h},h.fixture_id))]},`cup-${u.gameweek}`))})]})]})}function Wp({team:t,matchupType:e}){return c.jsxs(le,{className:"p-4",children:[c.jsxs("h3",{className:"text-lg font-semibold",children:[t.rank!=null?`#${t.rank} `:"",t.manager_name]}),c.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:t.entry_name}),c.jsxs("div",{className:"mb-2 grid grid-cols-[minmax(140px,1fr)_repeat(11,minmax(34px,auto))] gap-2 text-[10px] text-muted-foreground",children:[c.jsx("div",{children:"Player"}),c.jsx("div",{className:"text-right",children:"Goals Scored"}),c.jsx("div",{className:"text-right",children:"Assists"}),c.jsx("div",{className:"text-right",children:"Minutes Played"}),c.jsx("div",{className:"text-right",children:"Defensive Contributions"}),c.jsx("div",{className:"text-right",children:"Clean Sheets"}),c.jsx("div",{className:"text-right",children:"Goals Conceded"}),c.jsx("div",{className:"text-right",children:"Yellow Cards"}),c.jsx("div",{className:"text-right",children:"Red Cards"}),c.jsx("div",{className:"text-right",children:"Penalties Missed"}),c.jsx("div",{className:"text-right",children:"Penalties Saved"}),c.jsx("div",{className:"text-right",children:"Points"})]}),c.jsx("div",{className:"space-y-1 text-sm",children:t.lineup.map(r=>c.jsxs("div",{className:"grid grid-cols-[minmax(140px,1fr)_repeat(11,minmax(34px,auto))] gap-2 rounded border p-2 text-xs",children:[c.jsxs("div",{className:"font-medium",children:[r.player_name,r.is_cup_captain?c.jsx("span",{className:"ml-1 text-[10px] text-amber-600",children:"x2"}):null,c.jsxs("div",{className:"text-[10px] text-muted-foreground",children:["Pts ",r.effective_points.toFixed(1)]})]}),c.jsx("div",{className:"text-right",children:r.goals_scored}),c.jsx("div",{className:"text-right",children:r.assists}),c.jsx("div",{className:"text-right",children:r.minutes}),c.jsx("div",{className:"text-right",children:r.defensive_contributions}),c.jsx("div",{className:"text-right",children:r.clean_sheets}),c.jsx("div",{className:"text-right",children:r.goals_conceded}),c.jsx("div",{className:"text-right",children:r.yellow_cards}),c.jsx("div",{className:"text-right",children:r.red_cards}),c.jsx("div",{className:"text-right",children:r.penalties_missed}),c.jsx("div",{className:"text-right",children:r.penalties_saved}),c.jsx("div",{className:"text-right font-semibold",children:r.effective_points.toFixed(1)})]},`${t.id}-${r.player_id}`))})]})}function qC(){const{type:t,gameweek:e,team1:r,team2:i}=rg(),[a]=dg(),[l,u]=y.useState(null),[h,f]=y.useState(!0),[p,v]=y.useState(null);return y.useEffect(()=>{async function w(){var _;if(!(!t||!e||!r||!i))try{f(!0),v(null);const b=new URLSearchParams({type:t,gameweek:e,team1:r,team2:i}),E=a.get("matchupId");E&&b.set("matchupId",E);const x=`${De}/functions/v1${Fe}/fixtures/matchup?${b.toString()}`,S=await fetch(x,{headers:Me()}),j=await S.json();if(!S.ok||j!=null&&j.error)throw new Error(((_=j==null?void 0:j.error)==null?void 0:_.message)||"Failed to load matchup detail");u(j)}catch(b){v(b.message||"Failed to load matchup detail")}finally{f(!1)}}w()},[t,e,r,i,a]),h?c.jsx(le,{className:"p-6",children:c.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading matchup"})}):p||!l?c.jsx(le,{className:"p-6",children:c.jsx("p",{className:"text-sm text-destructive",children:p||"Failed to load matchup"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx(Ge,{to:"/fixtures",className:"text-sm text-muted-foreground hover:underline",children:" Back to Fixtures"}),c.jsxs("h1",{className:"text-3xl font-bold mt-2",children:[l.type==="cup"?"Cup Matchup":"League Matchup","  GW ",l.gameweek]}),c.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Score: ",l.matchup.team_1_points??l.matchup.live_team_1_points.toFixed(1)," - ",l.matchup.team_2_points??l.matchup.live_team_2_points.toFixed(1),l.matchup.round?`  ${l.matchup.round}`:""]})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2",children:[c.jsx(Wp,{team:l.team_1,matchupType:l.type}),c.jsx(Wp,{team:l.team_2,matchupType:l.type})]})]})}function Vp({children:t}){const e=gn();if(!Td()){const i=e.pathname==="/pick_captain"?"?next=pick_captain":"";return c.jsx(Ca,{to:`/sign-in${i}`,replace:!0})}return t}function JC(){const e=gn().pathname==="/standings-by-gameweek";return c.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[c.jsx("header",{className:"border-b",children:c.jsxs("div",{className:"mx-auto flex h-16 max-w-6xl items-center justify-between px-4",children:[c.jsx("span",{className:"text-lg font-semibold",children:"FFA Cup"}),c.jsxs("nav",{className:"flex gap-4 text-sm flex-wrap",children:[c.jsx(Ge,{to:"/dashboard",className:"hover:underline",children:"Dashboard"}),c.jsx(Ge,{to:"/league-standings",className:"hover:underline",children:"League"}),c.jsx(Ge,{to:"/cup-group-stage",className:"hover:underline",children:"Cup"}),c.jsx(Ge,{to:"/goblet",className:"hover:underline",children:"Goblet"}),c.jsx(Ge,{to:"/h2h",className:"hover:underline",children:"H2H"}),c.jsx(Ge,{to:"/managers",className:"hover:underline",children:"Managers"}),c.jsx(Ge,{to:"/players",className:"hover:underline",children:"Players"}),c.jsx(Ge,{to:"/fixtures",className:"hover:underline",children:"Fixtures"}),c.jsx(Ge,{to:"/legacy-home",className:"hover:underline",children:"Legacy"}),c.jsx(Ge,{to:"/legacy-gameweek-standings",className:"hover:underline",children:"Legacy GW"}),c.jsx(Ge,{to:"/standings-by-gameweek",className:"hover:underline",children:"GW Standings"}),c.jsx(Ge,{to:"/bracket",className:"hover:underline",children:"Bracket"}),c.jsx(Ge,{to:"/sign-in",className:"hover:underline",children:"Sign In"}),c.jsx(Ge,{to:"/pick_captain",className:"hover:underline",children:"Pick Captain"}),c.jsx(Ge,{to:"/my-page",className:"hover:underline",children:"My Page"})]})]})}),c.jsx("main",{className:"flex-1",children:c.jsx("div",{className:e?"w-full px-0 py-0":"mx-auto max-w-6xl px-4 py-6",children:c.jsxs(N_,{children:[c.jsx(Ze,{path:"/",element:c.jsx(Ca,{to:"/dashboard",replace:!0})}),c.jsx(Ze,{path:"/home",element:c.jsx($p,{})}),c.jsx(Ze,{path:"/legacy-home",element:c.jsx($C,{})}),c.jsx(Ze,{path:"/dashboard",element:c.jsx($p,{})}),c.jsx(Ze,{path:"/league-standings",element:c.jsx(ty,{})}),c.jsx(Ze,{path:"/cup-group-stage",element:c.jsx(aC,{})}),c.jsx(Ze,{path:"/goblet",element:c.jsx(ny,{})}),c.jsx(Ze,{path:"/h2h",element:c.jsx(hC,{})}),c.jsx(Ze,{path:"/managers",element:c.jsx(lC,{})}),c.jsx(Ze,{path:"/players",element:c.jsx(dC,{})}),c.jsx(Ze,{path:"/fixtures",element:c.jsx(KC,{})}),c.jsx(Ze,{path:"/matchup/:type/:gameweek/:team1/:team2",element:c.jsx(qC,{})}),c.jsx(Ze,{path:"/legacy-gameweek-standings",element:c.jsx(MC,{})}),c.jsx(Ze,{path:"/standings-by-gameweek",element:c.jsx(fC,{})}),c.jsx(Ze,{path:"/bracket",element:c.jsx(rC,{})}),c.jsx(Ze,{path:"/set-entry",element:c.jsx(Ca,{to:"/sign-in",replace:!0})}),c.jsx(Ze,{path:"/sign-in",element:c.jsx(VC,{})}),c.jsx(Ze,{path:"/pick_captain",element:c.jsx(Vp,{children:c.jsx(HC,{})})}),c.jsx(Ze,{path:"/my-page",element:c.jsx(Vp,{children:c.jsx(GC,{})})}),c.jsx(Ze,{path:"/manager/:managerName",element:c.jsx(DC,{})}),c.jsx(Ze,{path:"*",element:c.jsx(Ca,{to:"/dashboard",replace:!0})})]})})})]})}function YC(){return c.jsx(X_,{children:c.jsx(JC,{})})}class QC extends bn.Component{constructor(e){super(e),this.state={hasError:!1,message:""}}static getDerivedStateFromError(e){return{hasError:!0,message:(e==null?void 0:e.message)||"Unexpected application error"}}componentDidCatch(e,r){console.error("AppErrorBoundary caught error:",e,r)}render(){return this.state.hasError?c.jsxs("div",{style:{padding:24,fontFamily:"sans-serif"},children:[c.jsx("h1",{style:{fontSize:24,marginBottom:8},children:"Application Error"}),c.jsx("p",{style:{marginBottom:16},children:"A runtime error occurred while rendering this page."}),c.jsx("pre",{style:{background:"#f4f4f5",border:"1px solid #e4e4e7",borderRadius:6,padding:12,whiteSpace:"pre-wrap"},children:this.state.message})]}):this.props.children}}Rx.createRoot(document.getElementById("root")).render(c.jsx(bn.StrictMode,{children:c.jsx(QC,{children:c.jsx(YC,{})})}));
